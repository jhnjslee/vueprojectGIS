{"remainingRequest":"C:\\Users\\ljh\\Vueworkspace\\ninja\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ljh\\Vueworkspace\\ninja\\src\\service\\loginAPI.js","dependencies":[{"path":"C:\\Users\\ljh\\Vueworkspace\\ninja\\src\\service\\loginAPI.js","mtime":1600326168463},{"path":"C:\\Users\\ljh\\Vueworkspace\\ninja\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ljh\\Vueworkspace\\ninja\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwppbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSAiQzovVXNlcnMvbGpoL1Z1ZXdvcmtzcGFjZS9uaW5qYS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2xqaC9WdWV3b3Jrc3BhY2UvbmluamEvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLyBzcmMvc2VyY2ljZS9sb2dpbkFQSS5qcwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwoKdmFyIGdldFVzZXJJbmZvID0gZnVuY3Rpb24gZ2V0VXNlckluZm8odWlkLCBwYXNzd29yZFQpIHsKICByZXR1cm4gYXhpb3MuZ2V0KCcvZW5kcG9pbnQtZm9yLWdldC11c2VyLWluZm8nLCB7CiAgICBwYXJhbXM6IHsKICAgICAgJ3VpZCc6IHVpZCwKICAgICAgJ3Bhc3N3b3JkVCc6IHBhc3N3b3JkVAogICAgfQogIH0pOwp9OwoKdmFyIGlzRmluaXNoZWQgPSBmdW5jdGlvbiBpc0ZpbmlzaGVkKHVpZCkgewogIHJldHVybiBheGlvcy5nZXQoJy9lbmRwb2ludC1mb3ItaXMtZmluaXNoZWQnLCB7CiAgICBwYXJhbXM6IHsKICAgICAgJ3VpZCc6IHVpZAogICAgfQogIH0pOwp9OwoKZXhwb3J0IGRlZmF1bHQgewogIGxvZ2luOiBmdW5jdGlvbiBsb2dpbih1aWQsIHBhc3N3b3JkVCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGdldFVzZXJJbmZvUHJvbWlzZSwgaXNGaW5pc2hlZFByb21pc2UsIF95aWVsZCRQcm9taXNlJGFsbCwgX3lpZWxkJFByb21pc2UkYWxsMiwgdXNlckluZm9SZXNwb25zZSwgaXNGaW5pc2hlZFJlc3BvbnNlOwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBnZXRVc2VySW5mbyh1aWQsIHBhc3N3b3JkVCk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgZ2V0VXNlckluZm9Qcm9taXNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gaXNGaW5pc2hlZCh1aWQpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGlzRmluaXNoZWRQcm9taXNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW2dldFVzZXJJbmZvUHJvbWlzZSwgaXNGaW5pc2hlZFByb21pc2VdKTsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBfeWllbGQkUHJvbWlzZSRhbGwgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIF95aWVsZCRQcm9taXNlJGFsbDIgPSBfc2xpY2VkVG9BcnJheShfeWllbGQkUHJvbWlzZSRhbGwsIDIpOwogICAgICAgICAgICAgIHVzZXJJbmZvUmVzcG9uc2UgPSBfeWllbGQkUHJvbWlzZSRhbGwyWzBdOwogICAgICAgICAgICAgIGlzRmluaXNoZWRSZXNwb25zZSA9IF95aWVsZCRQcm9taXNlJGFsbDJbMV07CgogICAgICAgICAgICAgIGlmICghKHVzZXJJbmZvUmVzcG9uc2UuZGF0YS5sZW5ndGggPT09IDApKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsICdub0F1dGgnKTsKCiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgaWYgKCEoaXNGaW5pc2hlZFJlc3BvbnNlLmRhdGFbMF0uQ05UID4gMCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgJ2RvbmUnKTsKCiAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgdXNlckluZm9SZXNwb25zZSk7CgogICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyMDsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoX2NvbnRleHQudDApOwoKICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1swLCAyMF1dKTsKICAgIH0pKSgpOwogIH0KfTs="},{"version":3,"sources":["C:/Users/ljh/Vueworkspace/ninja/src/service/loginAPI.js"],"names":["axios","getUserInfo","uid","passwordT","get","params","isFinished","login","getUserInfoPromise","isFinishedPromise","Promise","all","userInfoResponse","isFinishedResponse","data","length","CNT","console","error"],"mappings":";;;;;;AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,GAAD,EAAMC,SAAN,EAAoB;AACtC,SAAOH,KAAK,CAACI,GAAN,CAAU,6BAAV,EAAyC;AAC9CC,IAAAA,MAAM,EAAE;AACN,aAAOH,GADD;AAEN,mBAAaC;AAFP;AADsC,GAAzC,CAAP;AAMD,CAPD;;AASA,IAAMG,UAAU,GAAG,SAAbA,UAAa,CAAAJ,GAAG,EAAI;AACxB,SAAOF,KAAK,CAACI,GAAN,CAAU,2BAAV,EAAuC;AAC5CC,IAAAA,MAAM,EAAE;AACN,aAAOH;AADD;AADoC,GAAvC,CAAP;AAKD,CAND;;AAQA,eAAe;AACPK,EAAAA,KADO,iBACAL,GADA,EACKC,SADL,EACgB;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEQF,WAAW,CAACC,GAAD,EAAMC,SAAN,CAFnB;;AAAA;AAEnBK,cAAAA,kBAFmB;AAAA;AAAA,qBAGOF,UAAU,CAACJ,GAAD,CAHjB;;AAAA;AAGnBO,cAAAA,iBAHmB;AAAA;AAAA,qBAI4BC,OAAO,CAACC,GAAR,CAAY,CAACH,kBAAD,EAAqBC,iBAArB,CAAZ,CAJ5B;;AAAA;AAAA;AAAA;AAIlBG,cAAAA,gBAJkB;AAIAC,cAAAA,kBAJA;;AAAA,oBAKrBD,gBAAgB,CAACE,IAAjB,CAAsBC,MAAtB,KAAiC,CALZ;AAAA;AAAA;AAAA;;AAAA,+CAKsB,QALtB;;AAAA;AAAA,oBAMrBF,kBAAkB,CAACC,IAAnB,CAAwB,CAAxB,EAA2BE,GAA3B,GAAiC,CANZ;AAAA;AAAA;AAAA;;AAAA,+CAMsB,MANtB;;AAAA;AAAA,+CAOlBJ,gBAPkB;;AAAA;AAAA;AAAA;AASzBK,cAAAA,OAAO,CAACC,KAAR;;AATyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAW5B;AAZY,CAAf","sourcesContent":["// src/sercice/loginAPI.js\r\nimport axios from 'axios'\r\n\r\nconst getUserInfo = (uid, passwordT) => {\r\n  return axios.get('/endpoint-for-get-user-info', {\r\n    params: {\r\n      'uid': uid,\r\n      'passwordT': passwordT\r\n    }\r\n  })\r\n}\r\n\r\nconst isFinished = uid => {\r\n  return axios.get('/endpoint-for-is-finished', {\r\n    params: {\r\n      'uid': uid\r\n    }\r\n  })\r\n}\r\n\r\nexport default {\r\n  async login (uid, passwordT) {\r\n    try {\r\n      const getUserInfoPromise = await getUserInfo(uid, passwordT)\r\n      const isFinishedPromise = await isFinished(uid) // Promise.all의 예시를 위해 집어넣음\r\n      const [userInfoResponse, isFinishedResponse] = await Promise.all([getUserInfoPromise, isFinishedPromise])\r\n      if (userInfoResponse.data.length === 0) return 'noAuth' // 로그인 결과에 따른 분기 처리를 해준다\r\n      if (isFinishedResponse.data[0].CNT > 0) return 'done'\r\n      return userInfoResponse\r\n    } catch (err) {\r\n      console.error(err)\r\n    }\r\n  }\r\n}"]}]}