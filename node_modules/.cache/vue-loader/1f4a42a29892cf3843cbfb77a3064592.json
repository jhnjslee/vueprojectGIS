{"remainingRequest":"C:\\Users\\ljh\\Vueworkspace\\ninja\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ljh\\Vueworkspace\\ninja\\src\\components\\Map2.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ljh\\Vueworkspace\\ninja\\src\\components\\Map2.vue","mtime":1601866118912},{"path":"C:\\Users\\ljh\\Vueworkspace\\ninja\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ljh\\Vueworkspace\\ninja\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\ljh\\Vueworkspace\\ninja\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ljh\\Vueworkspace\\ninja\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KCXN0b3JlDQp9IGZyb20gJy4uL3N0b3JlL2luZGV4LmpzJzsNCmltcG9ydCB7DQoJZGVmYXVsdHMNCn0gZnJvbSAnb2wvY29udHJvbCc7DQppbXBvcnQgew0KCUV2ZW50QnVzDQp9IGZyb20gIi4vZXZlbnQtYnVzIjsNCmltcG9ydCBtYXBtYXJrZXJwbmcgZnJvbSAiLi4vYXNzZXRzL21hcG1hcmtlci5wbmciDQoNCmltcG9ydCBwZW9wbGVzQ2lyY2xlIGZyb20gIi4uL2Fzc2V0cy9ibGluay5naWYiDQppbXBvcnQgc2F0ZWxsaXRlIGZyb20gIi4uL2Fzc2V0cy9zYXRlbGxpdGUucG5nIg0KDQoNCmxldCBtYXAgPSAnJzsNCmxldCBjbHVzdGVyaW5nID0gIiI7DQpsZXQgbWFya2VycyA9ICcnOw0KbGV0IHBvcHVwID0gJyc7DQpsZXQgY2FsYW1pdHlMaXN0ID0gbmV3IEFycmF5KCk7IC8v7J6s64KcIOuwsOyXtCANCmxldCB1dWlkRmVhdHVyZXMgPSBuZXcgQXJyYXkoKTsgLy/snKDsoIAg67Cw7Je0DQpsZXQgc2VnbWVudExpc3QgPSBuZXcgQXJyYXkoKTsgLy/shLjqt7jrqLztirgg67Cw7Je0DQpsZXQgc2VnbWVudFJhZGl1cyA9IDEwMDsgLy/shLjqt7jrqLztirgg67CY7KeA66aEIA0KbGV0IHNlZ21lbnRGZWF0dXJlcyA9IG5ldyBBcnJheSgpOyAvL+yEuOq3uOuovO2KuOydmCBmZWF0dXJlKHBvbHlnb24pDQpsZXQgdXNlck1hcmtlcnMgPSAiIjsNCmxldCBzZWdtZW50TGF5ZXIgPSAiIjsNCmxldCB2ZWN0b3JMYXllciA9ICIiOw0KbGV0IGNlbnRlcmxheWVyID0gIiI7DQpsZXQgY291bnQgPSAwOw0KZXhwb3J0IGRlZmF1bHQgew0KDQoJcHJvcHM6IFsncG9pbnRYJywgJ3BvaW50WScsICdyYWRpdXMnLCAnY2FsTGV2ZWwnXSwNCg0KCWRhdGEoKSB7DQoJCXJldHVybiB7DQoJCQlsYXllcnNlbGVjdDogJycsDQoJCQljYWx2aWV3IDpmYWxzZSwNCgkJCXNlZ3ZpZXcgOmZhbHNlLA0KCQkJdXVpdmlldyA6ZmFsc2UsDQoJCQljYWx2aWV3Y291bnQgOjAsDQoJCQlzZWd2aWV3Y291bnQgOjAsDQoJCQl1dWl2aWV3Y291bnQgOjAsDQoJCQkNCgkJCW5ldHdvcmsgOiAnJywNCgkJCW1lc3NhZ2U6ICcnLA0KCQkJcG9pbnQ6ICcnLA0KCQkJY2FsUHJpbWFyeTonJywNCgkJCWNhbERhdGU6ICcnLA0KCQkJbGF0OiAwLA0KCQkJbG9nOiAwLA0KCQkJcmFkaXVzMjogMCwNCgkJCWxldmVsOiAiIiwNCgkJCXR5cGUgOiAnJywNCgkJCXN0YW5kYXJkX3N0eWxlOiB7DQoJCQkJc3Ryb2tlQ29sb3I6ICdyZWQnLA0KCQkJCXN0cm9rZU9wYWNpdHk6IDEsDQoJCQkJc3Ryb2tlV2lkdGg6IDMsDQoJCQkJZmlsbE9wYWNpdHk6IDAuNCwNCgkJCQlmaWxsQ29sb3I6ICJyZWQiDQoJCQl9LA0KCQkJb3JhbmdlX3N0eWxlOiB7DQoJCQkJc3Ryb2tlQ29sb3I6ICdvcmFuZ2UnLA0KCQkJCXN0cm9rZU9wYWNpdHk6IDEsDQoJCQkJc3Ryb2tlV2lkdGg6IDMsDQoJCQkJZmlsbE9wYWNpdHk6IDAuNCwNCgkJCQlmaWxsQ29sb3I6ICJvcmFuZ2UiDQoJCQl9LA0KCQkJeWVsbG93X3N0eWxlOiB7DQoJCQkJc3Ryb2tlQ29sb3I6ICd5ZWxsb3cnLA0KCQkJCXN0cm9rZU9wYWNpdHk6IDEsDQoJCQkJc3Ryb2tlV2lkdGg6IDMsDQoJCQkJZmlsbE9wYWNpdHk6IDAuNCwNCgkJCQlmaWxsQ29sb3I6ICJ5ZWxsb3ciDQoJCQl9LA0KCQkJYmx1ZV9zdHlsZTogew0KCQkJCXN0cm9rZUNvbG9yOiAnYmx1ZScsDQoJCQkJc3Ryb2tlT3BhY2l0eTogMSwNCgkJCQlzdHJva2VXaWR0aDogMywNCgkJCQlmaWxsT3BhY2l0eTogMC40LA0KCQkJCWZpbGxDb2xvcjogImJsdWUiDQoJCQl9LA0KCQkJc2VnbWVudF9zdHlsZTogew0KCQkJCXN0cm9rZUNvbG9yOiAnYmxhY2snLA0KCQkJCXN0cm9rZU9wYWNpdHk6IDAuMSwNCgkJCQlzdHJva2VXaWR0aDogMSwNCgkJCQlmaWxsT3BhY2l0eTogMC4xLA0KCQkJCWZpbGxDb2xvcjogIiR7YmxhY2t9Ig0KCQkJfSwgLy/shLjqt7jrqLztirggU3R5bGUNCgkJCWxpbnNTdHlsZTogew0KCQkJCXN0cm9rZUNvbG9yOiAnYmxhY2snLA0KCQkJCXN0cm9rZU9wYWNpdHk6IDAuNSwNCgkJCQlzdHJva2VXaWR0aDogMSwNCgkJCQlmaWxsT3BhY2l0eTogMC41LA0KCQkJCWZpbGxDb2xvcjogIiR7YmxhY2t9Ig0KCQkJfSwgLy/rnbzsnbggU3R5bGUNCgkJCWNlbnRlclN0eWxlOnsNCgkJCQlzdHJva2VDb2xvcjogJ3JlZCcsDQoJCQkJc3Ryb2tlT3BhY2l0eTogMS4wLA0KCQkJCXN0cm9rZVdpZHRoOiAxLA0KCQkJCWZpbGxPcGFjaXR5OiAxLjAsDQoJCQkJZmlsbENvbG9yOiAiJHtyZWR9Ig0KCQkJCQ0KCQkJfSwNCg0KCQkJY2FsY291bnQ6IDAsDQoNCgkJCXNlZ2NvdW50OiAwLA0KCQkJc2VnbWVudEluZGV4OiB7DQoJCQkJc2VnTnVtOiAwLA0KCQkJCWNhbE51bTogMCwNCgkJCQlzZWdMYXQ6IDAsDQoJCQkJc2VnTG9nOiAwLA0KCQkJCXNlZ05hbWU6IDANCgkJCX0sDQoJCQl1dWlkQ291bnQ6IDAsDQoJCQltYXJrZXJGZWF0dXJlczogW10sDQoJCQlob3ZlcjogJycsDQoJCQl0aW1lOiIiLA0KCQkJZGF0ZToiIiwNCgkJCXdlZWsgOiBbJ+ydvCcsICfsm5QnLCAn7ZmUJywgJ+yImCcsICfrqqknLCAn6riIJywgJ+2GoCddLA0KCQkJdGltZXJJRCA6IHNldEludGVydmFsKHRoaXMudXBkYXRlVGltZSwgMTAwMCkNCgkJCS8veCDspp3qsIDsnKggcmFkaXVzICogMTcxLjUNCgkJCS8veSDspp3qsIDsnKggcmFkaXVzICogMw0KCQl9DQoJfSwNCgljcmVhdGVkKCkgew0KCQkvL+yXrOq4sOuKlCDsnqzrgpzsnbQg65Ok7Ja07Jik64qUIOqzsyANCgkJRXZlbnRCdXMuJG9uKCd1c2UtZXZlbnRidXMnLCBjYWxJbmRleCA9PiB7DQoJCQlpZiAoY291bnQgIT0gMCkgew0KCQkJCXRoaXMuZGVsZXRlRigpOw0KCQkJfQ0KCQkJdmFyIGNhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYWwiKQ0KCQkJY2FsLmNoZWNrZWQ9dHJ1ZTsNCgkJCXZhciBzZWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VnIikNCgkJCXNlZy5jaGVja2VkPXRydWU7DQoJCQkJCQkNCgkJCXRoaXMuY2FsUHJpbWFyeSA9IGNhbEluZGV4LmNhbE51bTsNCgkJCXRoaXMubGF0ID0gY2FsSW5kZXgubGF0ICogMTsNCgkJCXRoaXMubG9nID0gY2FsSW5kZXgubG9nICogMTsNCgkJCXRoaXMucmFkaXVzMiA9IGNhbEluZGV4LnJhZGl1cyAqIDE7DQoJCQl0aGlzLmxldmVsID0gY2FsSW5kZXguY2FsbGV2ZWwgKyAiIjsNCgkJCXRoaXMuY2FsRGF0ZSA9IGNhbEluZGV4LmNhbFRpbWU7DQoJCQl0aGlzLnR5cGUgPSBjYWxJbmRleC5jYWxUeXBlOw0KCQkJdGhpcy5tZXNzYWdlID0gY2FsSW5kZXguY29udGV4dDsNCg0KCQkJc3dpdGNoICh0aGlzLmxldmVsKSB7DQoJCQkJY2FzZSAi7Ius6rCBIjoNCgkJCQkJdmVjdG9yTGF5ZXIgPSBuZXcgT3BlbkxheWVycy5MYXllci5WZWN0b3IoIk92ZXJsYXkiLCB7DQoJCQkJCQlzdHlsZU1hcDogbmV3IE9wZW5MYXllcnMuU3R5bGVNYXAoDQoJCQkJCQkJdGhpcy5zdGFuZGFyZF9zdHlsZQ0KCQkJCQkJKQ0KCQkJCQl9KTsNCgkJCQkJYnJlYWs7DQoJCQkJY2FzZSAi6rK96rOEIjoNCgkJCQkJdmVjdG9yTGF5ZXIgPSBuZXcgT3BlbkxheWVycy5MYXllci5WZWN0b3IoIk92ZXJsYXkiLCB7DQoJCQkJCQlzdHlsZU1hcDogbmV3IE9wZW5MYXllcnMuU3R5bGVNYXAoDQoJCQkJCQkJdGhpcy5vcmFuZ2Vfc3R5bGUNCgkJCQkJCSkNCgkJCQkJfSk7DQoJCQkJCWJyZWFrOw0KCQkJCWNhc2UgIuyjvOydmCI6DQoJCQkJCXZlY3RvckxheWVyID0gbmV3IE9wZW5MYXllcnMuTGF5ZXIuVmVjdG9yKCJPdmVybGF5Iiwgew0KCQkJCQkJc3R5bGVNYXA6IG5ldyBPcGVuTGF5ZXJzLlN0eWxlTWFwKA0KCQkJCQkJCXRoaXMueWVsbG93X3N0eWxlDQoJCQkJCQkpDQoJCQkJCX0pOw0KCQkJCQlicmVhazsNCgkJCQljYXNlICLqtIDsi6wiOg0KCQkJCQl2ZWN0b3JMYXllciA9IG5ldyBPcGVuTGF5ZXJzLkxheWVyLlZlY3RvcigiT3ZlcmxheSIsIHsNCgkJCQkJCXN0eWxlTWFwOiBuZXcgT3BlbkxheWVycy5TdHlsZU1hcCgNCgkJCQkJCQl0aGlzLmJsdWVfc3R5bGUNCgkJCQkJCSkNCgkJCQkJfSk7DQoJCQkJCWJyZWFrOw0KCQkJfQ0KDQoJCQlzZWdtZW50TGF5ZXIgPSBuZXcgT3BlbkxheWVycy5MYXllci5WZWN0b3IoInNlZ21lbnRsYXkiLCB7DQoJCQkJc3R5bGVNYXA6IG5ldyBPcGVuTGF5ZXJzLlN0eWxlTWFwKA0KCQkJCQl0aGlzLnNlZ21lbnRfc3R5bGUNCgkJCQkpDQoJCQl9KTsNCg0KCQkJDQoJCQl2ZWN0b3JMYXllci5zZXRWaXNpYmlsaXR5KHRydWUpOw0KCQkJc2VnbWVudExheWVyLnNldFZpc2liaWxpdHkodHJ1ZSk7DQoNCgkJCWNlbnRlcmxheWVyID0gbmV3IE9wZW5MYXllcnMuTGF5ZXIuVmVjdG9yKCJjZW50ZXJMYXkiLHsNCgkJCQlzdHlsZU1hcDogbmV3IE9wZW5MYXllcnMuU3R5bGVNYXAoDQoJCQkJCXRoaXMuY2VudGVyU3R5bGUNCgkJCQkpDQoJCQl9KTsNCg0KCQkJdGhpcy5kcmF3TWFpbkNpcmNsZSgpOw0KCQkJLy90aGlzLmRyYXdNYWluTWFya2VyKCk7DQoJCQljb3VudCsrOw0KCQl9KTsNCg0KCQlFdmVudEJ1cy4kb24oJ3VzZS1ldmVudGJ1cy11dWlkVGVzdCcsIHV1aWRMaXN0ID0+IHsNCgkJCXRoaXMudXVpZENvdW50ICs9IDENCgkJCQ0KCQkJdXNlck1hcmtlcnMuc2V0VmlzaWJpbGl0eSh0cnVlKTsNCgkJCXZhciB1dWlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInVpZCIpDQoJCQl1aWQuY2hlY2tlZD10cnVlOw0KCQkJdXVpZEZlYXR1cmVzID0gbmV3IEFycmF5KCk7DQoJCQlmb3IgKHZhciBpID0gMDsgaSA8IHV1aWRMaXN0Lmxlbmd0aDsgaSsrKSB7DQoJCQkJdmFyIHV1aWRpbmRleCA9IHsNCgkJCQkJeDogdXVpZExpc3RbaV0udXVpZFgsDQoJCQkJCXk6IHV1aWRMaXN0W2ldLnV1aWRZLA0KCQkJCQl1dWlkY29udGFpbnNlZzogLTEsDQoJCQkJCXV1aWQ6IHV1aWRMaXN0W2ldLnV1aWRJZA0KCQkJCX0NCgkJCQl1dWlkRmVhdHVyZXMucHVzaCh1dWlkaW5kZXgpOw0KCQkJfQ0KDQoJCQl0aGlzLmRyYXdVVUlEKHV1aWRGZWF0dXJlcyk7DQoJCX0pOw0KDQoJfSwNCgltb3VudGVkKCkgew0KCQl0aGlzLnVwZGF0ZVRpbWUoKTsNCgkJdGhpcy5pbml0KCk7DQoJfSwNCgljb21wdXRlZDoge30sDQoJbWV0aG9kczogew0KCQl2aXNpYmlsaXR5Qygpew0KCQkJaWYgKHZlY3RvckxheWVyLmdldFZpc2liaWxpdHkoKSA9PSB0cnVlKSB7DQogICAgICAgIAkJdmVjdG9yTGF5ZXIuc2V0VmlzaWJpbGl0eShmYWxzZSk7DQogICAgCQkJfSBlbHNlIHsNCiAgICAgICAgCQl2ZWN0b3JMYXllci5zZXRWaXNpYmlsaXR5KHRydWUpOw0KICAgIAkJCX0NCgkJfSx2aXNpYmlsaXR5Uygpew0KCQkJaWYgKHNlZ21lbnRMYXllci5nZXRWaXNpYmlsaXR5KCkgPT0gdHJ1ZSkgew0KICAgICAgICAJCXNlZ21lbnRMYXllci5zZXRWaXNpYmlsaXR5KGZhbHNlKTsNCiAgICAJCQl9IGVsc2Ugew0KICAgICAgICAJCXNlZ21lbnRMYXllci5zZXRWaXNpYmlsaXR5KHRydWUpOw0KICAgIAkJCX0NCgkJfSx2aXNpYmlsaXR5VSgpew0KCQkJaWYgKHVzZXJNYXJrZXJzLmdldFZpc2liaWxpdHkoKSA9PSB0cnVlKSB7DQogICAgICAgIAkJdXNlck1hcmtlcnMuc2V0VmlzaWJpbGl0eShmYWxzZSk7DQogICAgCQkJfSBlbHNlIHsNCiAgICAgICAgCQl1c2VyTWFya2Vycy5zZXRWaXNpYmlsaXR5KHRydWUpOw0KICAgIAkJCX0NCgkJfSwNCgkJaW5pdCgpIHsNCgkJCW1hcCA9IG5ldyBuZ2lpX3dtdHMubWFwKCJtYXAxIiwgew0KCQkJCQ0KCQkJCWNvbnRyb2xzOiBbXSwNCgkJCQlwcm9qZWN0aW9uOiAiRVBTRzo1MTc5IiwNCgkJCQljZW50ZXI6IG5ldyBPcGVuTGF5ZXJzLkxvbkxhdCgxMDk5NDcyLjc5NjUyLCAxNzY0NDI3LjY4Mzk5KSwNCgkJCQl6b29tOiA3LA0KCQkJCS8vbWFwbW9kZTozLA0KCQkJCW1hcE1vZGU6MCwNCgkJCQludW1ab29tTGV2ZWxzOiAyMSwNCgkJCQlldmVudExpc3RlbmVyczogew0KCQkJCQlmZWF0dXJlY2xpY2s6IGZ1bmN0aW9uIChlKSB7DQoJCQkJCQlpZiAoZS5mZWF0dXJlLmxheWVyLm5hbWUgPT0gJ3NlZ21lbnRsYXknKSB7DQoJCQkJCQkJZS5mZWF0dXJlLnJlbmRlckludGVudCA9ICJzZWxlY3QiOw0KCQkJCQkJCXZhciBqID0gMDsNCgkJCQkJCQkNCgkJCQkJCQlmb3IgKGogPSAwOyBqIDwgc2VnbWVudExpc3QubGVuZ3RoOyBqKyspIHsNCgkJCQkJCQkJaWYgKHNlZ21lbnRMaXN0W2pdLnNlZ0lkID09IGUuZmVhdHVyZS5pZCkgew0KCQkJCQkJCQkJLy/tlbTri7kg7IS46re466i87Yq47JeQIOuqh+uqheydtCDsnojripTsp4Ag7ZmV7J24IA0KCQkJCQkJCQkJaWYgKHBvcHVwKSB7DQoJCQkJCQkJCQkJbWFwLnJlbW92ZVBvcHVwKHBvcHVwKQ0KCQkJCQkJCQkJfQ0KCQkJCQkJCQkJdmFyIHNlZ2NvZGUgPSBlLmZlYXR1cmUuaWQuc3BsaXQoJ18nKTsNCgkJCQkJCQkJCXZhciBwb3B1cGxvY2F0aW9uID0gbmV3IE9wZW5MYXllcnMuTG9uTGF0KHNlZ21lbnRMaXN0W2pdLnNlZ0xhdCwgc2VnbWVudExpc3Rbal0uc2VnTG9nKQ0KCQkJCQkJCQkJcG9wdXAgPSBuZXcgT3BlbkxheWVycy5Qb3B1cCgiY2hpY2tlbiIsDQoJCQkJCQkJCQkJcG9wdXBsb2NhdGlvbiwNCgkJCQkJCQkJCQluZXcgT3BlbkxheWVycy5TaXplKDIwMCwgNjApLA0KCQkJCQkJCQkJCSLshLjqt7jrqLztirgg67KI7Zi4IDoiICsgc2VnY29kZVszXSArICI8YnI+IiArICc8ZGl2IHN0eWxlPSJjb2xvcjojRkYwMDAwIj7snqzrgpwg67Cc7IOd7IucIOyduOybkCA6ICAgJyArIHNlZ21lbnRMaXN0W2pdLnNlZ21lbnRVc2VyTGlzdC5sZW5ndGggKyAi66qFIiwgdHJ1ZSk7DQoNCgkJCQkJCQkJCW1hcC5hZGRQb3B1cChwb3B1cCk7DQoNCgkJCQkJCQkJfQ0KCQkJCQkJCX0NCgkJCQkJCX0NCgkJCQkJfQ0KDQoJCQkJfQ0KCQkJfSk7DQoJCQltYXAudXBkYXRlU2l6ZSgpOw0KDQoJCQltYXAuX2FkZERlZmF1bHRNYXBNb2RlQm94KHtyaWdodDoiMTMwMHB4IiwgdG9wOiI1MDBweCJ9KTsNCgkJCS8v7KeA64+EIOqwneyytCDsg53shLEgDQoJCQltYXAuYWRkQ29udHJvbChuZXcgT3BlbkxheWVycy5Db250cm9sLlBhblpvb21CYXIoKSk7DQoJCQltYXAuYWRkQ29udHJvbChuZXcgT3BlbkxheWVycy5Db250cm9sLk1vdXNlUG9zaXRpb24oKSk7DQoJCQltYXAuYWRkQ29udHJvbChuZXcgT3BlbkxheWVycy5Db250cm9sLlNjYWxlTGluZSgpKTsNCgkJCW1hcC5hZGRDb250cm9sKG5ldyBPcGVuTGF5ZXJzLkNvbnRyb2wuS2V5Ym9hcmREZWZhdWx0cygpKTsNCgkJCQ0KCQkJdmFyIGNvbnRyb2wgPSBuZXcgT3BlbkxheWVycy5Db250cm9sKCk7DQoJCQlPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKGNvbnRyb2wsIHsNCgkJCQlkcmF3OiBmdW5jdGlvbiAoKSB7DQoJCQkJCS8vIHRoaXMgSGFuZGxlci5Cb3ggd2lsbCBpbnRlcmNlcHQgdGhlIHNoaWZ0LW1vdXNlZG93bg0KCQkJCQkvLyBiZWZvcmUgQ29udHJvbC5Nb3VzZURlZmF1bHQgZ2V0cyB0byBzZWUgaXQNCgkJCQkJdGhpcy5ib3ggPSBuZXcgT3BlbkxheWVycy5IYW5kbGVyLkJveChjb250cm9sLCB7DQoJCQkJCQkiZG9uZSI6IHRoaXMubm90aWNlDQoJCQkJCX0sIHsNCgkJCQkJCWtleU1hc2s6IE9wZW5MYXllcnMuSGFuZGxlci5NT0RfU0hJRlQNCgkJCQkJfSk7DQoJCQkJCXRoaXMuYm94LmFjdGl2YXRlKCk7DQoJCQkJfSwNCgkJCQlub3RpY2U6IGZ1bmN0aW9uIChib3VuZHMpIHsNCgkJCQkJT3BlbkxheWVycy5Db25zb2xlLnVzZXJFcnJvcihib3VuZHMpOw0KCQkJCX0NCgkJCX0pOw0KCQkJbWFwLmFkZENvbnRyb2woY29udHJvbCk7DQoNCg0KCQkJLy9tYXAuY29udHJvbHNbMV0uZGlzYWJsZVpvb21XaGVlbCgpOyAvLyBkaXNhYmxlIHRoZSBvcmlnaW5hbCBiZWhhdmlvciBvZg0KDQoJCQkvL2NyZWF0ZSBhIG5ldyBjb250cm9sLy8NCg0KCQkJdmFyIG1vdXNld2hlZWwgPSBuZXcgT3BlbkxheWVycy5Db250cm9sKCk7DQoJCQlPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKG1vdXNld2hlZWwsIHsNCgkJCQkvLyBUaGUgZHJhdyBtZXRob2QgaXMgY2FsbGVkIHdoZW4gdGhlIGNvbnRyb2wgaXMgaW5pdGlhbGl6ZWQNCgkJCQlkcmF3OiBmdW5jdGlvbiAoKSB7DQoJCQkJCXRoaXMubW91c2UgPSBuZXcgT3BlbkxheWVycy5IYW5kbGVyLk1vdXNlV2hlZWwobW91c2V3aGVlbCwgew0KCQkJCQkJInVwIjogbW91c2VVcCwNCgkJCQkJCSJkb3duIjogbW91c2VEb3duDQoJCQkJCX0pOw0KCQkJCQl0aGlzLm1vdXNlLmFjdGl2YXRlKCk7DQoJCQkJfQ0KCQkJfSk7DQoNCgkJCS8vYWRkIG5ldyBjb250cm9sDQoJCQltYXAuYWRkQ29udHJvbChtb3VzZXdoZWVsKTsNCgkJCS8vIGNoYW5nZSBiZWhhdmlvciBvZiBtb3VzZSB3aGVlbCBmdW5jdGlvbnMNCgkJCWZ1bmN0aW9uIG1vdXNlVXAoKSB7DQoJCQkJbWFwLnpvb21UbyhtYXAuem9vbSArIDEpOw0KCQkJfQ0KDQoJCQlmdW5jdGlvbiBtb3VzZURvd24oKSB7DQoJCQkJaWYgKG1hcC56b29tID4gMTApIHsNCgkJCQkJbWFwLnpvb21UbyhtYXAuem9vbSAtIDEpOw0KCQkJCX0NCgkJCX0NCgkJCQ0KCQkJLy8gdmFyIHN0cmF0ZWd5ID0gbmV3IE9wZW5MYXllcnMuU3RyYXRlZ3kuQ2x1c3Rlcih7DQoJCSAgICAvLyBkaXN0YW5jZTogMTUgLy8gPC0tIHJlbW92ZWQgY2x1c3RlcmluZyBmbGFnDQoJCQkvLyB9KTsNCgkJCS8vIHVzZXJNYXJrZXJzID0gbmV3IE9wZW5MYXllcnMuTGF5ZXIuVmVjdG9yKCJ1c2VyTWFya2VycyIsIHtzdHJhdGVnaWVzOiBbc3RyYXRlZ3ldfSk7DQoNCg0KCQkJdXNlck1hcmtlcnMgPSBuZXcgT3BlbkxheWVycy5MYXllci5NYXJrZXJzKCJ1c2VyTWFya2VycyIsew0KCQkJCSBzdHJhdGVnaWVzOiBbDQoJCQkJCSAgIG5ldyBPcGVuTGF5ZXJzLlN0cmF0ZWd5LkNsdXN0ZXIoe2Rpc3RhbmNlOiAzMH0pDQoJCQkJIF0NCgkJCQkgfSk7DQoJCX0sDQoNCgkJZHJhd01haW5DaXJjbGUoKSB7DQoJCQl2YXIgeCA9IHRoaXMubGF0Ow0KCQkJdmFyIHkgPSB0aGlzLmxvZzsNCgkJCXZhciBsZW5ndGggPSAwOw0KCQkJdmFyIGNvdW50ID0gMDsNCgkJDQoJCQkvL+qwgOyepSDtgbAg7J6s64KcIOybkCANCgkJCXZhciBwb2ludCA9IG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KHgsIHkpOw0KCQkJdmFyIG1haW5DaXJjbGUgPSBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24uY3JlYXRlUmVndWxhclBvbHlnb24ocG9pbnQsIHRoaXMucmFkaXVzMiwgMzYsIDApOw0KCQkJdmFyIG1haW5GZWF0dXJlID0gbmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobWFpbkNpcmNsZSk7DQoJCQljb25zb2xlLmxvZygiTWFwIHNheXM6ICIgKyBtYWluRmVhdHVyZS5pZCk7DQoJCQl2ZWN0b3JMYXllci5hZGRGZWF0dXJlcyhtYWluRmVhdHVyZSkNCgkJCQ0KCQkJLy8gdmFyIHBvaW50UmlnaHQgPSBuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCh4LHkpOw0KCQkJLy8gdmFyIG1haW5MaW5lID0gT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uLmNyZWF0ZVJlZ3VsYXJQb2x5Z29uKHBvaW50LDIwLCAyMCwgMCk7DQoJCQkvLyB2YXIgbWFpbkxpbmVGZWF0dXJlID0gbmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobWFpbkxpbmUpOw0KCQkJLy8g7KSR7JWZIOybkCANCg0KDQoJCQl0aGlzLmNhbGNvdW50ICs9IDE7DQoJCQl2YXIgY2FsYW1pdHlJbmRleCA9IHsNCgkJCQljYWxjb3VudDogdGhpcy5jYWxjb3VudCwNCgkJCQljYWxJZDogbWFpbkZlYXR1cmUuaWQsDQoJCQkJbWFpbmxhdDogeCwNCgkJCQltYWlubG9nOiB5LA0KCQkJCW1haW5yYWRpdXM6IHRoaXMucmFkaXVzMiwNCgkJCQltYWlubGV2ZWw6IHRoaXMubGV2ZWwsDQoJCQkJbWFpblR5cGU6IHRoaXMudHlwZSwNCgkJCQljYWxtZXNzYWdlOiB0aGlzLm1lc3NhZ2UNCgkJCX0NCgkJCWNhbGFtaXR5TGlzdC5wdXNoKGNhbGFtaXR5SW5kZXgpDQoNCgkJCS8vIOq4sOuzuCDshLjqt7jrqLztirggMC4wIOyXkCDsnojripTqsbAg6re466as6riwDQoJCQl2YXIgbXlDaXJjbGUgPSBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24uY3JlYXRlUmVndWxhclBvbHlnb24ocG9pbnQsIHNlZ21lbnRSYWRpdXMsIDM2LCAwKTsNCgkJCXZhciBmZWF0dXJlQ2lyY2xlID0gbmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobXlDaXJjbGUpOw0KCQkJc2VnbWVudExheWVyLmFkZEZlYXR1cmVzKGZlYXR1cmVDaXJjbGUpDQoJCQl0aGlzLmlucHV0U2VnbWVudEluTGlzdChtYWluRmVhdHVyZS5pZCwgeCwgeSwgZmVhdHVyZUNpcmNsZS5pZCkNCgkJCXNlZ21lbnRGZWF0dXJlcy5wdXNoKGZlYXR1cmVDaXJjbGUpDQoNCgkJCXZhciB5Y291bnQgPSAwDQoJCQl3aGlsZSAodHJ1ZSkgew0KCQkJCWlmICh5Y291bnQgPT0gMCkgew0KCQkJCQl3aGlsZSAodHJ1ZSkgew0KCQkJCQkJbGVuZ3RoICs9IDE3MS41Ow0KCQkJCQkJLy/ripjslrTrgpjripQg6ri47J206rCAIOujqO2KuDPrp4ztgbwg64qY7Ja064Kc64ukLg0KCQkJCQkJdmFyIHBvaW50ID0gbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoeCArIGxlbmd0aCwgdGhpcy5sb2cpOw0KCQkJCQkJdmFyIG15Q2lyY2xlID0gT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uLmNyZWF0ZVJlZ3VsYXJQb2x5Z29uKHBvaW50LCBzZWdtZW50UmFkaXVzLCAzNiwgMCk7DQoJCQkJCQl2YXIgZmVhdHVyZUNpcmNsZSA9IG5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKG15Q2lyY2xlKTsNCgkJCQkJCWlmICghbXlDaXJjbGUuaW50ZXJzZWN0cyhtYWluQ2lyY2xlKSkgYnJlYWs7DQoJCQkJCQlzZWdtZW50TGF5ZXIuYWRkRmVhdHVyZXMoZmVhdHVyZUNpcmNsZSkNCgkJCQkJCXRoaXMuaW5wdXRTZWdtZW50SW5MaXN0KG1haW5GZWF0dXJlLmlkLCB4ICsgbGVuZ3RoLCB0aGlzLmxvZywgZmVhdHVyZUNpcmNsZS5pZCkNCgkJCQkJCXNlZ21lbnRGZWF0dXJlcy5wdXNoKGZlYXR1cmVDaXJjbGUpDQoJCQkJCQkvL3RoaXMuaW5wdXRTZWdtZW50SW5MaXN0KHRoaXMuY2FsY291bnQseCArIGxlbmd0aCx0aGlzLmxvZykNCgkJCQkJCXZhciBtaW51c3BvaW50ID0gbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoeCAtIGxlbmd0aCwgdGhpcy5sb2cpOw0KCQkJCQkJdmFyIG1pbnVzbXlDaXJjbGUgPSBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24uY3JlYXRlUmVndWxhclBvbHlnb24obWludXNwb2ludCwgc2VnbWVudFJhZGl1cywgMzYsIDApOw0KCQkJCQkJdmFyIGZlYXR1cmVDaXJjbGUgPSBuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihtaW51c215Q2lyY2xlKTsNCgkJCQkJCXNlZ21lbnRMYXllci5hZGRGZWF0dXJlcyhmZWF0dXJlQ2lyY2xlKQ0KCQkJCQkJdGhpcy5pbnB1dFNlZ21lbnRJbkxpc3QobWFpbkZlYXR1cmUuaWQsIHggLSBsZW5ndGgsIHRoaXMubG9nLCBmZWF0dXJlQ2lyY2xlLmlkKQ0KCQkJCQkJc2VnbWVudEZlYXR1cmVzLnB1c2goZmVhdHVyZUNpcmNsZSkNCgkJCQkJCS8vdGhpcy5pbnB1dFNlZ21lbnRJbkxpc3QodGhpcy5jYWxjb3VudCx4IC0gbGVuZ3RoLHRoaXMubG9nKQ0KCQkJCQl9IC8v6riw67O47J20IOuQmOuKlCDshKDsnYQg7ZWY64KYIOq3uOumsOuLpC4NCgkJCQkJeWNvdW50ID0gMTsNCgkJCQkJbGVuZ3RoID0gMDsNCgkJCQl9IGVsc2Ugew0KCQkJCQl5ICs9IDMwMA0KCQkJCQl2YXIgcG9pbnQgPSBuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCh4LCB5KTsNCgkJCQkJdmFyIG15Q2lyY2xlID0gT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uLmNyZWF0ZVJlZ3VsYXJQb2x5Z29uKHBvaW50LCBzZWdtZW50UmFkaXVzLCAzNiwgMCk7DQoJCQkJCXZhciBmZWF0dXJlQ2lyY2xlID0gbmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobXlDaXJjbGUpOw0KDQoJCQkJCWlmICghbXlDaXJjbGUuaW50ZXJzZWN0cyhtYWluQ2lyY2xlKSkgYnJlYWs7DQoJCQkJCS8v66as7Iqk7Yq47JeQIOynkeyWtCDrhKPquLANCgkJCQkJc2VnbWVudExheWVyLmFkZEZlYXR1cmVzKGZlYXR1cmVDaXJjbGUpDQoJCQkJCXRoaXMuaW5wdXRTZWdtZW50SW5MaXN0KG1haW5GZWF0dXJlLmlkLCB4LCB5LCBmZWF0dXJlQ2lyY2xlLmlkKQ0KCQkJCQlzZWdtZW50RmVhdHVyZXMucHVzaChmZWF0dXJlQ2lyY2xlKQ0KDQoJCQkJCXZhciByZXZlcnNlWSA9IHRoaXMubG9nIC0gKHkgLSB0aGlzLmxvZykNCgkJCQkJdmFyIG1pbnVzcG9pbnQgPSBuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCh4LCByZXZlcnNlWSk7DQoJCQkJCXZhciBtaW51c215Q2lyY2xlID0gT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uLmNyZWF0ZVJlZ3VsYXJQb2x5Z29uKG1pbnVzcG9pbnQsIHNlZ21lbnRSYWRpdXMsIDM2LCAwKTsNCgkJCQkJdmFyIGZlYXR1cmVDaXJjbGUgPSBuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihtaW51c215Q2lyY2xlKTsNCgkJCQkJc2VnbWVudExheWVyLmFkZEZlYXR1cmVzKGZlYXR1cmVDaXJjbGUpDQoNCgkJCQkJdGhpcy5pbnB1dFNlZ21lbnRJbkxpc3QobWFpbkZlYXR1cmUuaWQsIHgsIHJldmVyc2VZLCBmZWF0dXJlQ2lyY2xlLmlkKQ0KCQkJCQlzZWdtZW50RmVhdHVyZXMucHVzaChmZWF0dXJlQ2lyY2xlKQ0KCQkJCQl5Y291bnQrKw0KCQkJCQkvL3nstpXsnLzroZwgKy0g66W8IOyrmSDqt7jrpqzqs6AgDQoJCQkJCXdoaWxlICh0cnVlKSB7DQoJCQkJCQkvL+q3uCB57LaV7J2EIOqwgOyngOqzoCB47LaV7J2EIOq3uOumsOuLpC4NCgkJCQkJCWxlbmd0aCArPSAxNzEuNTsNCgkJCQkJCXZhciBwb2ludCA9IG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KHggKyBsZW5ndGgsIHkpOw0KCQkJCQkJdmFyIG15Q2lyY2xlID0gT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uLmNyZWF0ZVJlZ3VsYXJQb2x5Z29uKHBvaW50LCBzZWdtZW50UmFkaXVzLCAzNiwgMCk7DQoJCQkJCQl2YXIgZmVhdHVyZUNpcmNsZSA9IG5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKG15Q2lyY2xlKTsNCgkJCQkJCWlmICghbWFpbkNpcmNsZS5pbnRlcnNlY3RzKG15Q2lyY2xlKSkgYnJlYWs7DQoJCQkJCQlzZWdtZW50TGF5ZXIuYWRkRmVhdHVyZXMoZmVhdHVyZUNpcmNsZSkNCg0KCQkJCQkJdGhpcy5pbnB1dFNlZ21lbnRJbkxpc3QobWFpbkZlYXR1cmUuaWQsIHggKyBsZW5ndGgsIHksIGZlYXR1cmVDaXJjbGUuaWQpDQoJCQkJCQlzZWdtZW50RmVhdHVyZXMucHVzaChmZWF0dXJlQ2lyY2xlKQ0KCQkJCQkJdmFyIG1pbnVzcG9pbnQgPSBuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCh4IC0gbGVuZ3RoLCB5KTsNCgkJCQkJCXZhciBtaW51c215Q2lyY2xlID0gT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uLmNyZWF0ZVJlZ3VsYXJQb2x5Z29uKG1pbnVzcG9pbnQsIHNlZ21lbnRSYWRpdXMsIDM2LCAwKTsNCgkJCQkJCXZhciBmZWF0dXJlQ2lyY2xlID0gbmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobWludXNteUNpcmNsZSk7DQoJCQkJCQlzZWdtZW50TGF5ZXIuYWRkRmVhdHVyZXMoZmVhdHVyZUNpcmNsZSkNCg0KCQkJCQkJdGhpcy5pbnB1dFNlZ21lbnRJbkxpc3QobWFpbkZlYXR1cmUuaWQsIHggLSBsZW5ndGgsIHksIGZlYXR1cmVDaXJjbGUuaWQpDQoJCQkJCQlzZWdtZW50RmVhdHVyZXMucHVzaChmZWF0dXJlQ2lyY2xlKQ0KCQkJCQkJdmFyIHBvaW50ID0gbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoeCArIGxlbmd0aCwgcmV2ZXJzZVkpOw0KCQkJCQkJdmFyIG15Q2lyY2xlID0gT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uLmNyZWF0ZVJlZ3VsYXJQb2x5Z29uKHBvaW50LCBzZWdtZW50UmFkaXVzLCAzNiwgMCk7DQoJCQkJCQl2YXIgZmVhdHVyZUNpcmNsZSA9IG5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKG15Q2lyY2xlKTsNCg0KCQkJCQkJc2VnbWVudExheWVyLmFkZEZlYXR1cmVzKGZlYXR1cmVDaXJjbGUpDQoJCQkJCQl0aGlzLmlucHV0U2VnbWVudEluTGlzdChtYWluRmVhdHVyZS5pZCwgeCArIGxlbmd0aCwgcmV2ZXJzZVksIGZlYXR1cmVDaXJjbGUuaWQpDQoJCQkJCQlzZWdtZW50RmVhdHVyZXMucHVzaChmZWF0dXJlQ2lyY2xlKQ0KCQkJCQkJdmFyIG1pbnVzcG9pbnQgPSBuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCh4IC0gbGVuZ3RoLCByZXZlcnNlWSk7DQoJCQkJCQl2YXIgbWludXNteUNpcmNsZSA9IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbi5jcmVhdGVSZWd1bGFyUG9seWdvbihtaW51c3BvaW50LCBzZWdtZW50UmFkaXVzLCAzNiwgMCk7DQoJCQkJCQl2YXIgZmVhdHVyZUNpcmNsZSA9IG5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKG1pbnVzbXlDaXJjbGUpOw0KCQkJCQkJc2VnbWVudExheWVyLmFkZEZlYXR1cmVzKGZlYXR1cmVDaXJjbGUpDQoNCgkJCQkJCXRoaXMuaW5wdXRTZWdtZW50SW5MaXN0KG1haW5GZWF0dXJlLmlkLCB4IC0gbGVuZ3RoLCByZXZlcnNlWSwgZmVhdHVyZUNpcmNsZS5pZCkNCgkJCQkJCXNlZ21lbnRGZWF0dXJlcy5wdXNoKGZlYXR1cmVDaXJjbGUpDQoJCQkJCX0NCgkJCQkJbGVuZ3RoID0gMDsNCgkJCQl9DQoJCQl9DQoNCgkJCXZhciB4ID0gdGhpcy5sYXQ7DQoJCQl2YXIgeSA9IHRoaXMubG9nOw0KDQoJCQl2YXIgbGVuZ3RoID0gMDsNCgkJCXZhciB5bGVuZ3RoID0gMTUwOw0KCQkJdmFyIGNvdW50ID0gMDsNCg0KCQkJd2hpbGUgKHRydWUpIHsNCgkJCQlpZiAoY291bnQgPT0gMCkgew0KCQkJCQl2YXIgcG9pbnQyID0gbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoeCArICgxNzEuNSAvIDIpLCB5ICsgMTUwKTsNCgkJCQkJdmFyIG15Q2lyY2xlID0gT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uLmNyZWF0ZVJlZ3VsYXJQb2x5Z29uKHBvaW50Miwgc2VnbWVudFJhZGl1cywgMzYsIDApOw0KCQkJCQl2YXIgZmVhdHVyZUNpcmNsZSA9IG5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKG15Q2lyY2xlKTsNCg0KCQkJCQlpZiAoIW15Q2lyY2xlLmludGVyc2VjdHMobWFpbkNpcmNsZSkpIGJyZWFrOw0KCQkJCQlzZWdtZW50TGF5ZXIuYWRkRmVhdHVyZXMoZmVhdHVyZUNpcmNsZSkNCg0KCQkJCQl0aGlzLmlucHV0U2VnbWVudEluTGlzdChtYWluRmVhdHVyZS5pZCwgeCArICgxNzEuNSAvIDIpLCB5ICsgMTUwLCBmZWF0dXJlQ2lyY2xlLmlkKQ0KCQkJCQlzZWdtZW50RmVhdHVyZXMucHVzaChmZWF0dXJlQ2lyY2xlKQ0KDQoJCQkJCXZhciBwb2ludDMgPSBuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCh4IC0gKDE3MS41IC8gMiksIHkgKyAxNTApOw0KCQkJCQl2YXIgbXlDaXJjbGUgPSBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24uY3JlYXRlUmVndWxhclBvbHlnb24ocG9pbnQzLCBzZWdtZW50UmFkaXVzLCAzNiwgMCk7DQoJCQkJCXZhciBmZWF0dXJlQ2lyY2xlID0gbmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobXlDaXJjbGUpOw0KCQkJCQlzZWdtZW50TGF5ZXIuYWRkRmVhdHVyZXMoZmVhdHVyZUNpcmNsZSkNCgkJCQkJdGhpcy5pbnB1dFNlZ21lbnRJbkxpc3QobWFpbkZlYXR1cmUuaWQsIHggLSAoMTcxLjUgLyAyKSwgeSArIDE1MCwgZmVhdHVyZUNpcmNsZS5pZCkNCgkJCQkJc2VnbWVudEZlYXR1cmVzLnB1c2goZmVhdHVyZUNpcmNsZSkNCg0KCQkJCQl2YXIgcG9pbnQyID0gbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoeCArICgxNzEuNSAvIDIpLCB5IC0gMTUwKTsNCgkJCQkJdmFyIG15Q2lyY2xlID0gT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uLmNyZWF0ZVJlZ3VsYXJQb2x5Z29uKHBvaW50Miwgc2VnbWVudFJhZGl1cywgMzYsIDApOw0KCQkJCQl2YXIgZmVhdHVyZUNpcmNsZSA9IG5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKG15Q2lyY2xlKTsNCgkJCQkJc2VnbWVudExheWVyLmFkZEZlYXR1cmVzKGZlYXR1cmVDaXJjbGUpDQoJCQkJCXRoaXMuaW5wdXRTZWdtZW50SW5MaXN0KG1haW5GZWF0dXJlLmlkLCB4ICsgKDE3MS41IC8gMiksIHkgLSAxNTAsIGZlYXR1cmVDaXJjbGUuaWQpDQoJCQkJCXNlZ21lbnRGZWF0dXJlcy5wdXNoKGZlYXR1cmVDaXJjbGUpDQoNCgkJCQkJdmFyIHBvaW50MyA9IG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KHggLSAoMTcxLjUgLyAyKSwgeSAtIDE1MCk7DQoJCQkJCXZhciBteUNpcmNsZSA9IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbi5jcmVhdGVSZWd1bGFyUG9seWdvbihwb2ludDMsIHNlZ21lbnRSYWRpdXMsIDM2LCAwKTsNCgkJCQkJdmFyIGZlYXR1cmVDaXJjbGUgPSBuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihteUNpcmNsZSk7DQoJCQkJCXNlZ21lbnRMYXllci5hZGRGZWF0dXJlcyhmZWF0dXJlQ2lyY2xlKQ0KCQkJCQl0aGlzLmlucHV0U2VnbWVudEluTGlzdChtYWluRmVhdHVyZS5pZCwgeCAtICgxNzEuNSAvIDIpLCB5IC0gMTUwLCBmZWF0dXJlQ2lyY2xlLmlkKQ0KCQkJCQlzZWdtZW50RmVhdHVyZXMucHVzaChmZWF0dXJlQ2lyY2xlKQ0KDQoJCQkJCXZhciB5cGx1c3BvaW50ID0geSArIHlsZW5ndGgNCgkJCQkJdmFyIHltaW51c3BvaW50ID0geSAtIHlsZW5ndGgNCgkJCQkJdmFyIHBsdXN4ID0geCArICgxNzEuNSAvIDIpOw0KCQkJCQl2YXIgbWludXN4ID0geCAtICgxNzEuNSAvIDIpOw0KCQkJCQl3aGlsZSAodHJ1ZSkgew0KCQkJCQkJLy/qt7ggeey2leydhCDqsIDsp4Dqs6AgeOy2leydhCDqt7jrprDri6QuDQoJCQkJCQlsZW5ndGggKz0gMTcxLjU7DQoJCQkJCQl2YXIgcG9pbnQgPSBuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChwbHVzeCArIGxlbmd0aCwgeXBsdXNwb2ludCk7DQoJCQkJCQl2YXIgbXlDaXJjbGUgPSBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24uY3JlYXRlUmVndWxhclBvbHlnb24ocG9pbnQsIHNlZ21lbnRSYWRpdXMsIDM2LCAwKTsNCgkJCQkJCXZhciBmZWF0dXJlQ2lyY2xlID0gbmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobXlDaXJjbGUpOw0KCQkJCQkJaWYgKCFtYWluQ2lyY2xlLmludGVyc2VjdHMobXlDaXJjbGUpKSBicmVhazsNCgkJCQkJCXNlZ21lbnRMYXllci5hZGRGZWF0dXJlcyhmZWF0dXJlQ2lyY2xlKQ0KDQoJCQkJCQl0aGlzLmlucHV0U2VnbWVudEluTGlzdChtYWluRmVhdHVyZS5pZCwgcGx1c3ggKyBsZW5ndGgsIHlwbHVzcG9pbnQsIGZlYXR1cmVDaXJjbGUuaWQpDQoJCQkJCQlzZWdtZW50RmVhdHVyZXMucHVzaChmZWF0dXJlQ2lyY2xlKQ0KCQkJCQkJdmFyIG1pbnVzcG9pbnQgPSBuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChtaW51c3ggLSBsZW5ndGgsIHlwbHVzcG9pbnQpOw0KCQkJCQkJdmFyIG1pbnVzbXlDaXJjbGUgPSBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24uY3JlYXRlUmVndWxhclBvbHlnb24obWludXNwb2ludCwgc2VnbWVudFJhZGl1cywgMzYsIDApOw0KCQkJCQkJdmFyIGZlYXR1cmVDaXJjbGUgPSBuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihtaW51c215Q2lyY2xlKTsNCgkJCQkJCXNlZ21lbnRMYXllci5hZGRGZWF0dXJlcyhmZWF0dXJlQ2lyY2xlKQ0KDQoJCQkJCQl0aGlzLmlucHV0U2VnbWVudEluTGlzdChtYWluRmVhdHVyZS5pZCwgbWludXN4IC0gbGVuZ3RoLCB5cGx1c3BvaW50LCBmZWF0dXJlQ2lyY2xlLmlkKQ0KCQkJCQkJc2VnbWVudEZlYXR1cmVzLnB1c2goZmVhdHVyZUNpcmNsZSkNCgkJCQkJCXZhciBwb2ludCA9IG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KHBsdXN4ICsgbGVuZ3RoLCB5bWludXNwb2ludCk7DQoJCQkJCQl2YXIgbXlDaXJjbGUgPSBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24uY3JlYXRlUmVndWxhclBvbHlnb24ocG9pbnQsIHNlZ21lbnRSYWRpdXMsIDM2LCAwKTsNCgkJCQkJCXZhciBmZWF0dXJlQ2lyY2xlID0gbmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobXlDaXJjbGUpOw0KDQoJCQkJCQlzZWdtZW50TGF5ZXIuYWRkRmVhdHVyZXMoZmVhdHVyZUNpcmNsZSkNCg0KCQkJCQkJdGhpcy5pbnB1dFNlZ21lbnRJbkxpc3QobWFpbkZlYXR1cmUuaWQsIHBsdXN4ICsgbGVuZ3RoLCB5bWludXNwb2ludCwgZmVhdHVyZUNpcmNsZS5pZCkNCgkJCQkJCXNlZ21lbnRGZWF0dXJlcy5wdXNoKGZlYXR1cmVDaXJjbGUpDQoJCQkJCQl2YXIgbWludXNwb2ludCA9IG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KG1pbnVzeCAtIGxlbmd0aCwgeW1pbnVzcG9pbnQpOw0KCQkJCQkJdmFyIG1pbnVzbXlDaXJjbGUgPSBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24uY3JlYXRlUmVndWxhclBvbHlnb24obWludXNwb2ludCwgc2VnbWVudFJhZGl1cywgMzYsIDApOw0KCQkJCQkJdmFyIGZlYXR1cmVDaXJjbGUgPSBuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihtaW51c215Q2lyY2xlKTsNCgkJCQkJCXNlZ21lbnRMYXllci5hZGRGZWF0dXJlcyhmZWF0dXJlQ2lyY2xlKQ0KDQoJCQkJCQl0aGlzLmlucHV0U2VnbWVudEluTGlzdChtYWluRmVhdHVyZS5pZCwgbWludXN4IC0gbGVuZ3RoLCB5bWludXNwb2ludCwgZmVhdHVyZUNpcmNsZS5pZCkNCgkJCQkJCXNlZ21lbnRGZWF0dXJlcy5wdXNoKGZlYXR1cmVDaXJjbGUpDQoJCQkJCX0NCgkJCQkJbGVuZ3RoID0gMDsNCg0KDQoJCQkJCWNvdW50Kys7DQoJCQkJfSBlbHNlIHsNCgkJCQkJeWxlbmd0aCArPSAzMDANCgkJCQkJdmFyIHBvaW50MiA9IG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KHggKyAoMTcxLjUgLyAyKSwgeSArIHlsZW5ndGgpOw0KCQkJCQl2YXIgbXlDaXJjbGUgPSBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24uY3JlYXRlUmVndWxhclBvbHlnb24ocG9pbnQyLCBzZWdtZW50UmFkaXVzLCAzNiwgMCk7DQoJCQkJCXZhciBmZWF0dXJlQ2lyY2xlID0gbmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobXlDaXJjbGUpOw0KDQoJCQkJCWlmICghbXlDaXJjbGUuaW50ZXJzZWN0cyhtYWluQ2lyY2xlKSkgYnJlYWs7DQoJCQkJCXNlZ21lbnRMYXllci5hZGRGZWF0dXJlcyhmZWF0dXJlQ2lyY2xlKQ0KDQoJCQkJCXRoaXMuaW5wdXRTZWdtZW50SW5MaXN0KG1haW5GZWF0dXJlLmlkLCB4ICsgKDE3MS41IC8gMiksIHkgKyB5bGVuZ3RoLCBmZWF0dXJlQ2lyY2xlLmlkKQ0KCQkJCQlzZWdtZW50RmVhdHVyZXMucHVzaChmZWF0dXJlQ2lyY2xlKQ0KDQoJCQkJCXZhciBwb2ludDMgPSBuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCh4IC0gKDE3MS41IC8gMiksIHkgKyB5bGVuZ3RoKTsNCgkJCQkJdmFyIG15Q2lyY2xlID0gT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uLmNyZWF0ZVJlZ3VsYXJQb2x5Z29uKHBvaW50Mywgc2VnbWVudFJhZGl1cywgMzYsIDApOw0KCQkJCQl2YXIgZmVhdHVyZUNpcmNsZSA9IG5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKG15Q2lyY2xlKTsNCgkJCQkJc2VnbWVudExheWVyLmFkZEZlYXR1cmVzKGZlYXR1cmVDaXJjbGUpDQoJCQkJCXRoaXMuaW5wdXRTZWdtZW50SW5MaXN0KG1haW5GZWF0dXJlLmlkLCB4IC0gKDE3MS41IC8gMiksIHkgKyB5bGVuZ3RoLCBmZWF0dXJlQ2lyY2xlLmlkKQ0KCQkJCQlzZWdtZW50RmVhdHVyZXMucHVzaChmZWF0dXJlQ2lyY2xlKQ0KDQoJCQkJCXZhciBwb2ludDIgPSBuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCh4ICsgKDE3MS41IC8gMiksIHkgLSB5bGVuZ3RoKTsNCgkJCQkJdmFyIG15Q2lyY2xlID0gT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uLmNyZWF0ZVJlZ3VsYXJQb2x5Z29uKHBvaW50Miwgc2VnbWVudFJhZGl1cywgMzYsIDApOw0KCQkJCQl2YXIgZmVhdHVyZUNpcmNsZSA9IG5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKG15Q2lyY2xlKTsNCgkJCQkJc2VnbWVudExheWVyLmFkZEZlYXR1cmVzKGZlYXR1cmVDaXJjbGUpDQoJCQkJCXRoaXMuaW5wdXRTZWdtZW50SW5MaXN0KG1haW5GZWF0dXJlLmlkLCB4ICsgKDE3MS41IC8gMiksIHkgLSB5bGVuZ3RoLCBmZWF0dXJlQ2lyY2xlLmlkKQ0KCQkJCQlzZWdtZW50RmVhdHVyZXMucHVzaChmZWF0dXJlQ2lyY2xlKQ0KDQoJCQkJCXZhciBwb2ludDMgPSBuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCh4IC0gKDE3MS41IC8gMiksIHkgLSB5bGVuZ3RoKTsNCgkJCQkJdmFyIG15Q2lyY2xlID0gT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uLmNyZWF0ZVJlZ3VsYXJQb2x5Z29uKHBvaW50Mywgc2VnbWVudFJhZGl1cywgMzYsIDApOw0KCQkJCQl2YXIgZmVhdHVyZUNpcmNsZSA9IG5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKG15Q2lyY2xlKTsNCgkJCQkJc2VnbWVudExheWVyLmFkZEZlYXR1cmVzKGZlYXR1cmVDaXJjbGUpDQoJCQkJCXRoaXMuaW5wdXRTZWdtZW50SW5MaXN0KG1haW5GZWF0dXJlLmlkLCB4IC0gKDE3MS41IC8gMiksIHkgLSB5bGVuZ3RoLCBmZWF0dXJlQ2lyY2xlLmlkKQ0KCQkJCQlzZWdtZW50RmVhdHVyZXMucHVzaChmZWF0dXJlQ2lyY2xlKQ0KCQkJCQkvL+uMgOqwgeyEoCDsnITsuZjsl5Ag7J6I64qUIOybkCDqt7jrpqzquLAgDQoJCQkJCXZhciB5cGx1c3BvaW50ID0geSArIHlsZW5ndGgNCgkJCQkJdmFyIHltaW51c3BvaW50ID0geSAtIHlsZW5ndGgNCgkJCQkJdmFyIHBsdXN4ID0geCArICgxNzEuNSAvIDIpOw0KCQkJCQl2YXIgbWludXN4ID0geCAtICgxNzEuNSAvIDIpOw0KCQkJCQl3aGlsZSAodHJ1ZSkgew0KCQkJCQkJLy/qt7ggeey2leydhCDqsIDsp4Dqs6AgeOy2leydhCDqt7jrprDri6QuDQoJCQkJCQlsZW5ndGggKz0gMTcxLjU7DQoJCQkJCQl2YXIgcG9pbnQgPSBuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChwbHVzeCArIGxlbmd0aCwgeXBsdXNwb2ludCk7DQoJCQkJCQl2YXIgbXlDaXJjbGUgPSBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24uY3JlYXRlUmVndWxhclBvbHlnb24ocG9pbnQsIHNlZ21lbnRSYWRpdXMsIDM2LCAwKTsNCgkJCQkJCXZhciBmZWF0dXJlQ2lyY2xlID0gbmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobXlDaXJjbGUpOw0KCQkJCQkJaWYgKCFtYWluQ2lyY2xlLmludGVyc2VjdHMobXlDaXJjbGUpKSBicmVhazsNCgkJCQkJCXNlZ21lbnRMYXllci5hZGRGZWF0dXJlcyhmZWF0dXJlQ2lyY2xlKQ0KCQkJCQkJdGhpcy5pbnB1dFNlZ21lbnRJbkxpc3QobWFpbkZlYXR1cmUuaWQsIHBsdXN4ICsgbGVuZ3RoLCB5cGx1c3BvaW50LCBmZWF0dXJlQ2lyY2xlLmlkKQ0KCQkJCQkJc2VnbWVudEZlYXR1cmVzLnB1c2goZmVhdHVyZUNpcmNsZSkNCg0KCQkJCQkJdmFyIG1pbnVzcG9pbnQgPSBuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChtaW51c3ggLSBsZW5ndGgsIHlwbHVzcG9pbnQpOw0KCQkJCQkJdmFyIG1pbnVzbXlDaXJjbGUgPSBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24uY3JlYXRlUmVndWxhclBvbHlnb24obWludXNwb2ludCwgc2VnbWVudFJhZGl1cywgMzYsIDApOw0KCQkJCQkJdmFyIGZlYXR1cmVDaXJjbGUgPSBuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihtaW51c215Q2lyY2xlKTsNCgkJCQkJCXNlZ21lbnRMYXllci5hZGRGZWF0dXJlcyhmZWF0dXJlQ2lyY2xlKQ0KDQoJCQkJCQl0aGlzLmlucHV0U2VnbWVudEluTGlzdChtYWluRmVhdHVyZS5pZCwgbWludXN4IC0gbGVuZ3RoLCB5cGx1c3BvaW50LCBmZWF0dXJlQ2lyY2xlLmlkKQ0KCQkJCQkJc2VnbWVudEZlYXR1cmVzLnB1c2goZmVhdHVyZUNpcmNsZSkNCgkJCQkJCXZhciBwb2ludCA9IG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KHBsdXN4ICsgbGVuZ3RoLCB5bWludXNwb2ludCk7DQoJCQkJCQl2YXIgbXlDaXJjbGUgPSBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24uY3JlYXRlUmVndWxhclBvbHlnb24ocG9pbnQsIHNlZ21lbnRSYWRpdXMsIDM2LCAwKTsNCgkJCQkJCXZhciBmZWF0dXJlQ2lyY2xlID0gbmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobXlDaXJjbGUpOw0KCQkJCQkJc2VnbWVudExheWVyLmFkZEZlYXR1cmVzKGZlYXR1cmVDaXJjbGUpDQoJCQkJCQl0aGlzLmlucHV0U2VnbWVudEluTGlzdChtYWluRmVhdHVyZS5pZCwgcGx1c3ggKyBsZW5ndGgsIHltaW51c3BvaW50LCBmZWF0dXJlQ2lyY2xlLmlkKQ0KCQkJCQkJc2VnbWVudEZlYXR1cmVzLnB1c2goZmVhdHVyZUNpcmNsZSkNCg0KCQkJCQkJdmFyIG1pbnVzcG9pbnQgPSBuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChtaW51c3ggLSBsZW5ndGgsIHltaW51c3BvaW50KTsNCgkJCQkJCXZhciBtaW51c215Q2lyY2xlID0gT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uLmNyZWF0ZVJlZ3VsYXJQb2x5Z29uKG1pbnVzcG9pbnQsIHNlZ21lbnRSYWRpdXMsIDM2LCAwKTsNCgkJCQkJCXZhciBmZWF0dXJlQ2lyY2xlID0gbmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobWludXNteUNpcmNsZSk7DQoJCQkJCQlzZWdtZW50TGF5ZXIuYWRkRmVhdHVyZXMoZmVhdHVyZUNpcmNsZSkNCgkJCQkJCXRoaXMuaW5wdXRTZWdtZW50SW5MaXN0KG1haW5GZWF0dXJlLmlkLCBtaW51c3ggLSBsZW5ndGgsIHltaW51c3BvaW50LCBmZWF0dXJlQ2lyY2xlLmlkKQ0KCQkJCQkJc2VnbWVudEZlYXR1cmVzLnB1c2goZmVhdHVyZUNpcmNsZSkNCgkJCQkJfQ0KCQkJCQlsZW5ndGggPSAwOw0KCQkJCX0NCgkJCX0NCgkJLy8JY2VudGVybGF5ZXIuYWRkRmVhdHVyZXMobWFpbkxpbmVGZWF0dXJlKQ0KDQoJCQltYXAuYWRkTGF5ZXIodmVjdG9yTGF5ZXIpOw0KCQkJbWFwLmFkZExheWVyKHNlZ21lbnRMYXllcik7DQoJCQkvLyBtYXAuYWRkTGF5ZXIoY2VudGVybGF5ZXIpOw0KCQkJDQoJCQljb25zb2xlLmxvZyh2ZWN0b3JMYXllcikNCgkJCWNvbnNvbGUubG9nKHNlZ21lbnRMYXllcikNCgkJCQ0KDQoJCQl2YXIgcG9pbnRab29tID0gbmV3IE9wZW5MYXllcnMuTG9uTGF0KHRoaXMubGF0LCB0aGlzLmxvZykNCgkJCW1hcC5zZXRDZW50ZXIocG9pbnRab29tLCA4KQ0KCQkNCgkJCXZhciBzZWdtZW50U2VuZGluZ0xpc3QgPSBbXTsNCgkJCXZhciBjb3VudGFsbCA9IDA7DQoJCQl2YXIgY291bnRzdWIgPSAwOw0KCQkJDQoJCQlmb3IgKHZhciBrID0gMDsgayA8IHV1aWRGZWF0dXJlcy5sZW5ndGg7IGsrKykgew0KCQkJCXV1aWRGZWF0dXJlc1trXS51dWlkY29udGFpbnNlZyA9LTE7DQoJCQl9DQoJCQl2YXIgY2FsY3VsYXRlcmFkaXVzID0gY2FsYW1pdHlJbmRleC5tYWlucmFkaXVzOw0KCQkJdmFyIGNhbGN1bGF0ZXV1aWRMaXN0ID0gbmV3IEFycmF5KCk7DQoNCgkJCWZvciAodmFyIGsgPSAwOyBrIDwgdXVpZEZlYXR1cmVzLmxlbmd0aDsgaysrKSB7DQoJCQlpZigoTWF0aC5zcXJ0KE1hdGguYWJzKCh1dWlkRmVhdHVyZXNba10ueCAtIGNhbGFtaXR5SW5kZXgubWFpbmxhdCkgKiAodXVpZEZlYXR1cmVzW2tdLnggLSBjYWxhbWl0eUluZGV4Lm1haW5sYXQpKSArIE1hdGguYWJzKCh1dWlkRmVhdHVyZXNba10ueSAtIGNhbGFtaXR5SW5kZXgubWFpbmxvZykgKiAodXVpZEZlYXR1cmVzW2tdLnkgLSBjYWxhbWl0eUluZGV4Lm1haW5sb2cpKSkpPCBjYWxhbWl0eUluZGV4Lm1haW5yYWRpdXMrMjAwKXsJDQoJCQkJdmFyIGNhbGN1bGF0ZXV1aWRJbmRleCA9ew0KCQkJCQl4OiB1dWlkRmVhdHVyZXNba10ueCwNCgkJCQkJeTogdXVpZEZlYXR1cmVzW2tdLnksDQoJCQkJCXV1aWRjb250YWluc2VnOiAtMSwNCgkJCQkJdXVpZDogdXVpZEZlYXR1cmVzW2tdLnV1aWQNCgkJCQl9DQoJCQkJCWNhbGN1bGF0ZXV1aWRMaXN0LnB1c2goY2FsY3VsYXRldXVpZEluZGV4KTsNCgkJCQl9DQoJCQl9DQoJCQkNCgkJCS8v66qo65OgIHV1aWTrpqzsiqTtirjsnZgg7Y+s7ZWo6rSA6rOE66W8IOy0iOq4sO2ZlCDsi5ztgqjri6QuDQoJCQkJdmFyIHAgPSAnJw0KCQkJCWZvciAodmFyIGogPSAwOyBqIDwgc2VnbWVudEZlYXR1cmVzLmxlbmd0aDsgaisrKSB7DQoJCQkJCWlmIChzZWdtZW50TGlzdFtqXS5jYWxJbmRleCA9PSBjYWxhbWl0eUluZGV4LmNhbElkKSB7DQoJCQkJCQkvLyDrqqjrk6Ag7IS46re466i87Yq47KSRIO2VtOuLuSDsnqzrgpzsl5Ag65Ok7Ja07J6I64qU7KeAIOyViOuTpOyWtOyeiOuKlOyngCDtjJDri6gNCgkJCQkJCWZvciAodmFyIGsgPSAwOyBrIDwgY2FsY3VsYXRldXVpZExpc3QubGVuZ3RoOyBrKyspIHsNCgkJCQkJCQkvL+uqqOuToCB1dWlkIOykkSANCgkJCQkJCQlwID0gbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoY2FsY3VsYXRldXVpZExpc3Rba10ueCwgY2FsY3VsYXRldXVpZExpc3Rba10ueSk7DQoJCQkJCQkJaWYgKHNlZ21lbnRGZWF0dXJlc1tqXS5nZW9tZXRyeS5pbnRlcnNlY3RzKHApKSB7DQoJCQkJCQkJCWNvdW50YWxsKys7DQoNCgkJCQkJCQkJaWYgKGNhbGN1bGF0ZXV1aWRMaXN0W2tdLnV1aWRjb250YWluc2VnID09IC0xKSB7DQoJCQkJCQkJCQlzZWdtZW50TGlzdFtqXS5zZWdtZW50VXNlckxpc3QucHVzaChjYWxjdWxhdGV1dWlkTGlzdFtrXS51dWlkKQ0KCQkJCQkJCQkJY2FsY3VsYXRldXVpZExpc3Rba10udXVpZGNvbnRhaW5zZWcgPSBzZWdtZW50TGlzdFtqXS5zZWdJZDsNCgkJCQkJCQkJCXNlZ21lbnRTZW5kaW5nTGlzdC5wdXNoKHNlZ21lbnRMaXN0W2pdKQ0KCQkJCQkJCQl9DQoJCQkJCQkJCWVsc2UgaWYgKGNhbGN1bGF0ZXV1aWRMaXN0W2tdLnV1aWRjb250YWluc2VnICE9IC0xKSB7DQoJCQkJCQkJCQlmb3IgKHZhciBoID0gMDsgaCA8IHNlZ21lbnRMaXN0Lmxlbmd0aDsgaCsrKSB7DQoJCQkJCQkJCQkJaWYgKHNlZ21lbnRMaXN0W2hdLnNlZ0lkID09IGNhbGN1bGF0ZXV1aWRMaXN0W2tdLnV1aWRjb250YWluc2VnKSB7DQoJCQkJCQkJCQkJCS8v7JuQ656YIOuTpOyWtOyeiOuNmOqyjCDri6Trpbwg6rK97JqwIA0KCQkJCQkJCQkJCQlpZiAoc2VnbWVudExpc3Rbal0uc2VnbWVudGZyb21jYWxhbWl0eSA8PSBzZWdtZW50TGlzdFtoXS5zZWdtZW50ZnJvbWNhbGFtaXR5KSB7DQoJCQkJCQkJCQkJCQljYWxjdWxhdGV1dWlkTGlzdFtrXS51dWlkY29udGFpbnNlZyA9IHNlZ21lbnRMaXN0W2pdLnNlZ0lkOw0KCQkJCQkJCQkJCQkJY291bnRzdWIrKzsNCgkJCQkJCQkJCQkJfQ0KCQkJCQkJCQkJCX0NCgkJCQkJCQkJCX0NCgkJCQkJCQkJfQ0KCQkJCQkJCX0NCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCX0NCg0KCQkJCWZvciAodmFyIGsgPSAwOyBrIDwgdXVpZEZlYXR1cmVzLmxlbmd0aDsgaysrKSB7DQoJCQkJCWZvcih2YXIgaj0wOyBqPCBjYWxjdWxhdGV1dWlkTGlzdC5sZW5ndGg7aisrKXsNCgkJCQkJCWlmKHV1aWRGZWF0dXJlc1trXS51dWlkPT1jYWxjdWxhdGV1dWlkTGlzdFtqXS51dWlkKXsNCgkJCQkJCQl1dWlkRmVhdHVyZXNba10udXVpZGNvbnRhaW5zZWcgPSBjYWxjdWxhdGV1dWlkTGlzdFtqXS51dWlkY29udGFpbnNlZzsNCgkJCQkJCQlicmVhazsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCX0NCgkJCQl2YXIgY2FsYW1pdHlBbGxpbmZvID0gew0KCQkJCQl0YXJnZXRVc2VyOiAwLA0KCQkJCQlkYW5nZXJVc2VyOiAwLA0KCQkJCQljYWxsUHJpOiB0aGlzLmNhbFByaW1hcnksDQoJCQkJCWNhbGxhdDogY2FsYW1pdHlJbmRleC5tYWlubGF0LA0KCQkJCQljYWxsb246IGNhbGFtaXR5SW5kZXgubWFpbmxvZywNCgkJCQkJY2FsZGF0ZTogdGhpcy5jYWxEYXRlLA0KCQkJCQljYWxsZXZlbDogdGhpcy5sZXZlbCwNCgkJCQkJY2FsUmFuZ2U6IHRoaXMucmFkaXVzMiwNCgkJCQkJY2FsVHlwZTogY2FsYW1pdHlJbmRleC5tYWluVHlwZSwNCgkJCQkJY2FsTnVtYmVyOiB0aGlzLmNhbGNvdW50LA0KCQkJCQljYWxNZXNzYWdlSW5mbzogY2FsYW1pdHlJbmRleC5jYWxtZXNzYWdlLA0KCQkJCQl1dWlkQWxsSW5mbzogY2FsY3VsYXRldXVpZExpc3QsDQoJCQkJCXNlZ21lbnRTZW5kaW5nRmVhdHVyZTogc2VnbWVudFNlbmRpbmdMaXN0DQoJCQkJfQ0KCQkJCUV2ZW50QnVzLiRlbWl0KCJjYWxhbWl0eS10ZXN0IiwgY2FsYW1pdHlBbGxpbmZvKQ0KCQl9LA0KCQlwb2ludGVyKHhwb2ludCx5cG9pbnQpew0KCQkJdmFyIHBvaW50ID0gbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoeHBvaW50LCB5cGx1c3BvaW50KTsNCgkJCXZhciBteUNpcmNsZSA9IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbi5jcmVhdGVSZWd1bGFyUG9seWdvbihwb2ludCwgc2VnbWVudFJhZGl1cywgMzYsIDApOw0KCQkJdmFyIGZlYXR1cmVDaXJjbGUgPSBuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihteUNpcmNsZSk7DQoJCX0sDQoJCWRyYXdNYWluTWFya2VyKCkgew0KCQkJbWFya2VycyA9IG5ldyBPcGVuTGF5ZXJzLkxheWVyLk1hcmtlcnMoIk1hcmtlcnMiKTsNCgkJCW1hcC5hZGRMYXllcihtYXJrZXJzKTsNCg0KCQkJdmFyIHNpemUgPSBuZXcgT3BlbkxheWVycy5TaXplKDIxLCAyNSk7DQoJCQl2YXIgb2Zmc2V0ID0gbmV3IE9wZW5MYXllcnMuUGl4ZWwoLShzaXplLncgLyAyKSwgLXNpemUuaCk7DQoJCQl2YXIgaWNvbiA9IG5ldyBPcGVuTGF5ZXJzLkljb24obWFwbWFya2VycG5nLCBzaXplLCBvZmZzZXQpOw0KCQkJbWFya2Vycy5hZGRNYXJrZXIobmV3IE9wZW5MYXllcnMuTWFya2VyKG5ldyBPcGVuTGF5ZXJzLkxvbkxhdCh0aGlzLmxhdCwgdGhpcy5sb2cpLCBpY29uKSk7DQoNCgkJCXZhciBtYXJrZXJpbmRleCA9IHsNCgkJCQltYXJrZXJpbmNhbGFtaXR5OiB0aGlzLmNhbGNvdW50LA0KCQkJCW1hcmtlcnNYOiB0aGlzLmxhdCwNCgkJCQltYXJrZXJzWTogdGhpcy5sb2cNCg0KCQkJfQ0KCQkJdGhpcy5tYXJrZXJGZWF0dXJlcy5wdXNoKG1hcmtlcmluZGV4KTsNCgkJCW1hcmtlcnMuZXZlbnRzLnJlZ2lzdGVyKCJjbGljayIsIG1hcmtlcnMsIGZ1bmN0aW9uIChlKSB7DQoJCQkJdmFyIGNhbElkID0gMDsNCgkJCQl2YXIgY2FsYW1pdHlyYWRpdXMgPSAwOw0KCQkJCXZhciBjYWxtYWlubGF0ID0gMDsNCgkJCQl2YXIgY2FsbWFpbmxvZyA9IDA7DQoJCQkJdmFyIGNhbE51bWJlciA9IDA7DQoJCQkJdmFyIGNhbGFkYXRlID0gJyc7DQoJCQkJdmFyIGkNCgkJCQlmb3IgKGkgPSAwOyBpIDwgY2FsYW1pdHlMaXN0Lmxlbmd0aDsgaSsrKSB7DQoJCQkJCWlmIChjYWxhbWl0eUxpc3RbaV0ubWFpbmxhdCA9PSBlLm9iamVjdC5tYXJrZXJzWzBdLmxvbmxhdC5sb24gJiBjYWxhbWl0eUxpc3RbaV0ubWFpbmxvZyA9PSBlLm9iamVjdC5tYXJrZXJzWzBdLmxvbmxhdC5sYXQpIHsNCgkJCQkJCWNhbElkID0gY2FsYW1pdHlMaXN0W2ldLmNhbElkDQoJCQkJCQljYWxhbWl0eXJhZGl1cyA9IGNhbGFtaXR5TGlzdFtpXS5tYWlucmFkaXVzDQoJCQkJCQljYWxtYWlubGF0ID0gY2FsYW1pdHlMaXN0W2ldLm1haW5sYXQNCgkJCQkJCWNhbG1haW5sb2cgPSBjYWxhbWl0eUxpc3RbaV0ubWFpbmxvZw0KCQkJCQkJY2FsTnVtYmVyID0gY2FsYW1pdHlMaXN0W2ldLmNhbGNvdW50DQoJCQkJCQljYWxhZGF0ZSA9IGNhbGFtaXR5TGlzdFtpXS5jYWxEYXRlDQoJCQkJCQlicmVhazsNCgkJCQkJfQ0KCQkJCX0NCgkJCQlFdmVudEJ1cy4kZW1pdCgiY2FsYW1pdHktdGVzdCIsIGNhbGFtaXR5QWxsaW5mbykNCgkJCQl1dWlkRmVhdHVyZXMgPSBuZXcgQXJyYXkoKSAvL+ycoOyggCDrsLDsl7QNCg0KCQkJfSk7DQoJCX0sDQoNCgkJZHJhd1VVSUQodXVpZEZlYXR1cmVMaXN0KSB7DQoNCgkJCW1hcC5hZGRMYXllcih1c2VyTWFya2Vycyk7DQoJCQl2YXIgc2l6ZSA9IG5ldyBPcGVuTGF5ZXJzLlNpemUoNywgNyk7DQoJCQl2YXIgb2Zmc2V0ID0gbmV3IE9wZW5MYXllcnMuUGl4ZWwoLShzaXplLncgLyAyKSwgLXNpemUuaCk7DQoJCQl2YXIgaWNvbiA9IG5ldyBPcGVuTGF5ZXJzLkljb24ocGVvcGxlc0NpcmNsZSwgc2l6ZSwgb2Zmc2V0KTsNCg0KCQkJdXNlck1hcmtlcnMuY2xlYXJNYXJrZXJzKCkNCgkJCWlmIChudWxsICE9IHVzZXJNYXJrZXJzLm1hcmtlcnMpIHsNCgkJCQlmb3IgKDsgMCA8IHVzZXJNYXJrZXJzLm1hcmtlcnM7KSB7DQoJCQkJCXVzZXJNYXJrZXJzLnJlbW92ZU1hcmtlcih1c2VyTWFya2Vycy5tYXJrZXJzWzBdKQ0KCQkJCX0NCgkJCX0NCg0KCQkJZm9yICh2YXIgaSA9IDA7IGkgPCB1dWlkRmVhdHVyZUxpc3QubGVuZ3RoOyBpKyspIHsNCgkJCQl1c2VyTWFya2Vycy5hZGRNYXJrZXIobmV3IE9wZW5MYXllcnMuTWFya2VyKG5ldyBPcGVuTGF5ZXJzLkxvbkxhdCh1dWlkRmVhdHVyZUxpc3RbaV0ueCwgdXVpZEZlYXR1cmVMaXN0W2ldLnkpLCBpY29uKSk7DQoJCQkJdXNlck1hcmtlcnMuYWRkTWFya2VyKG5ldyBPcGVuTGF5ZXJzLk1hcmtlcihuZXcgT3BlbkxheWVycy5Mb25MYXQodXVpZEZlYXR1cmVMaXN0W2ldLngsIHV1aWRGZWF0dXJlTGlzdFtpXS55KSwgaWNvbi5jbG9uZSgpKSk7DQoJCQl9DQoJCQkNCgkJCQ0KCQl9LA0KCQlpbnB1dFNlZ21lbnRJbkxpc3QoY2FsTnVtLCBsYXRQLCBsb2dQLCBzZWdJZGVudCkgew0KCQkJdGhpcy5zZWdjb3VudCsrDQoJCQl2YXIgc2VnbWVudEluZGV4ID0gew0KCQkJCXNlZ051bTogdGhpcy5zZWdjb3VudCwNCgkJCQlzZWdJZDogc2VnSWRlbnQsDQoJCQkJY2FsbExldmVsSW5kZXg6IHRoaXMubGV2ZWwsDQoJCQkJY2FsUmFkaXVzSW5kZXg6IHRoaXMucmFkaXVzMiwNCgkJCQljYWxsVGltZUluZGV4OiB0aGlzLmNhbERhdGUsDQoJCQkJY2FsbGF0SW5kZXg6IHRoaXMubGF0LA0KCQkJCWNhbGxvZ0luZGV4OiB0aGlzLmxvZywNCgkJCQljYWxjb3VudDogdGhpcy5jYWxjb3VudCwNCgkJCQltYWluVHlwZTogdGhpcy50eXBlLA0KCQkJCWNhbEluZGV4OiBjYWxOdW0sDQoJCQkJc2VnTGF0OiBsYXRQLA0KCQkJCXNlZ0xvZzogbG9nUCwNCgkJCQlzZWdtZW50ZnJvbWNhbGFtaXR5OiAwLA0KCQkJCXNlZ21lbnRpbnNpZGVwZW9wbGU6IDAsDQoJCQkJc2VnbWVudFVzZXJMaXN0OiBbXQ0KDQoJCQl9DQoJCQkvL+yZuOu2gOuFuOy2nOyaqSDshLjqt7jrqLztirjrsojtmLgNCg0KCQkJdmFyIGRpc194ID0gdGhpcy5sYXQgLSBzZWdtZW50SW5kZXguc2VnTGF0Ow0KCQkJdmFyIGRpeF95ID0gdGhpcy5sb2cgLSBzZWdtZW50SW5kZXguc2VnTG9nOw0KCQkJc2VnbWVudEluZGV4LnNlZ21lbnRmcm9tY2FsYW1pdHkgPSBNYXRoLnNxcnQoTWF0aC5hYnMoZGlzX3ggKiBkaXNfeCkgKyBNYXRoLmFicyhkaXhfeSAqIGRpeF95KSkNCgkJCXNlZ21lbnRMaXN0LnB1c2goc2VnbWVudEluZGV4KQ0KCQl9LA0KCQlkZWxldGVGKCkgew0KCQkJdmVjdG9yTGF5ZXIucmVtb3ZlQWxsRmVhdHVyZXMoKTsNCgkJCXNlZ21lbnRMYXllci5yZW1vdmVBbGxGZWF0dXJlcygpOw0KCQkJY2VudGVybGF5ZXIucmVtb3ZlQWxsRmVhdHVyZXMoKTsNCgkJCWNhbGFtaXR5TGlzdCA9IG5ldyBBcnJheSgpIC8v7J6s64KcIOuwsOyXtCANCgkJCXNlZ21lbnRMaXN0ID0gbmV3IEFycmF5KCkgLy/shLjqt7jrqLztirgg67Cw7Je0DQoJCQlzZWdtZW50RmVhdHVyZXMgPSBuZXcgQXJyYXkoKSAvL+yEuOq3uOuovO2KuOydmCBmZWF0dXJlKHBvbHlnb24pDQoJCQkNCgkJCXNlZ21lbnRMYXllciA9ICIiOw0KCQkJdmVjdG9yTGF5ZXIgPSAiIjsNCgkJCWNlbnRlcmxheWVyPSIiOw0KDQoJCX0sDQoJCXVwZGF0ZVRpbWUoKSB7DQoJCQl2YXIgY2QgPSBuZXcgRGF0ZSgpOw0KCQkJdGhpcy50aW1lID0gdGhpcy56ZXJvUGFkZGluZyhjZC5nZXRIb3VycygpLCAyKSArICc6JyArIHRoaXMuemVyb1BhZGRpbmcoY2QuZ2V0TWludXRlcygpLCAyKSArICc6JyArIHRoaXMuemVyb1BhZGRpbmcoY2QuZ2V0U2Vjb25kcygpLCAyKTsNCgkJCXRoaXMuZGF0ZSA9IHRoaXMuemVyb1BhZGRpbmcoY2QuZ2V0RnVsbFllYXIoKSwgNCkgKyAnLScgKyB0aGlzLnplcm9QYWRkaW5nKGNkLmdldE1vbnRoKCkrMSwgMikgKyAnLScgKyB0aGlzLnplcm9QYWRkaW5nKGNkLmdldERhdGUoKSwgMikgKyAnICcgKyB0aGlzLndlZWtbY2QuZ2V0RGF5KCldOw0KCQl9LA0KCQl6ZXJvUGFkZGluZyhudW0sIGRpZ2l0KSB7DQoJCQl2YXIgemVybyA9ICcnOw0KCQkJZm9yKHZhciBpID0gMDsgaSA8IGRpZ2l0OyBpKyspIHsNCgkJCQl6ZXJvICs9ICcwJzsNCgkJCX0NCgkJCXJldHVybiAoemVybyArIG51bSkuc2xpY2UoLWRpZ2l0KTsNCgkJfSwNCgkJcmVzZXQoKXsNCgkJCXRoaXMuZGVsZXRlRigpOw0KCQl9LA0KCQljaGFuZ2VzYXRlbGxpdGUoKXsNCgkJDQoJCQkvLyB2YXIgaEdvb2dsZSA9IG5ldyBPcGVuTGF5ZXJzLkxheWVyLkdvb2dsZSgiR29vZ2xlIFNhdGVsbGl0ZSIsew0KCQkJLy8gdHlwZTpnb29nbGUubWFwcy5NYXBUeXBlSWQuU0FURUxMSVRFfSk7DQoJCQkvLyBtYXAuYWRkTGF5ZXIoaEdvb2dsZSk7DQoJCQlpZihtYXAuX2dldE1hcE1vZGUoKT09OSl7DQoJCQkJbWFwLl9zZXRNYXBNb2RlKDApOw0KCQkJfQ0KCQkJZWxzZXsNCgkJCQltYXAuX3NldE1hcE1vZGUoOSk7DQoJCQl9DQoJCQkNCgkJfQ0KCX0NCn0NCg=="},{"version":3,"sources":["Map2.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Map2.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n<div>\r\n\t<div style=\"display:flex; flex-direction: row; justify-content:space-between;\">\r\n\t\t<button @click=\"reset\" class=\"boxTitle\" align=\"left\">재난발생 위치</button>\r\n\t\r\n\t\t<h5 class=\"textal\" align=\"left\">현재 시간 : {{date}} {{time}}</h5>\r\n\t</div>\r\n\t\t\r\n\t<div id=\"map1\">\t\r\n\t\t<div id=\"mouse-position\"></div>\r\n\t\t<div id=\"panel\" style=\"position:absolute;top:520px;right:10px;width:54px;height:100px;z-index:1000000;\">\r\n\t\t<button id=\"testButton\" class=\"btn btn-primary\" @click=\"changesatellite\">\r\n\t\t\t<img src=\"../assets/satellite.png\" style=\"width: 38px;\" >\r\n\t\t\t</button>\r\n\t\t\t<div style='position:absolute;top:-510px;right:0px;width:200px;height:100px;z-index:1000000;'>\t\r\n\t\t\t<input type=\"checkbox\" id=\"cal\"  checked=\"checked\" value=\"One\" @click=\"visibilityC\" v-bind:disabled=\"calcount == 0 ? true:false\" >\r\n           \t<label for=\"one\">재난 </label>\r\n        \t<input type=\"checkbox\" id=\"seg\" checked=\"checked\" value=\"Two\" @click=\"visibilityS\"  v-bind:disabled=\"calcount == 0 ? true:false\" >\r\n            <label for=\"two\">세그먼트 </label>\r\n            <input type=\"checkbox\" id=\"uid\" checked=\"checked\" value=\"Three\" @click=\"visibilityU\"  v-bind:disabled=\"uuidCount == 0 ? true:false\" >\r\n            <label for=\"three\">사용자</label>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div style=\"position:absolute;top:0px;right:10px;width:54px;height:100px;z-index:9999;\"></div>\r\n\t</div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n\tstore\r\n} from '../store/index.js';\r\nimport {\r\n\tdefaults\r\n} from 'ol/control';\r\nimport {\r\n\tEventBus\r\n} from \"./event-bus\";\r\nimport mapmarkerpng from \"../assets/mapmarker.png\"\r\n\r\nimport peoplesCircle from \"../assets/blink.gif\"\r\nimport satellite from \"../assets/satellite.png\"\r\n\r\n\r\nlet map = '';\r\nlet clustering = \"\";\r\nlet markers = '';\r\nlet popup = '';\r\nlet calamityList = new Array(); //재난 배열 \r\nlet uuidFeatures = new Array(); //유저 배열\r\nlet segmentList = new Array(); //세그먼트 배열\r\nlet segmentRadius = 100; //세그먼트 반지름 \r\nlet segmentFeatures = new Array(); //세그먼트의 feature(polygon)\r\nlet userMarkers = \"\";\r\nlet segmentLayer = \"\";\r\nlet vectorLayer = \"\";\r\nlet centerlayer = \"\";\r\nlet count = 0;\r\nexport default {\r\n\r\n\tprops: ['pointX', 'pointY', 'radius', 'calLevel'],\r\n\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tlayerselect: '',\r\n\t\t\tcalview :false,\r\n\t\t\tsegview :false,\r\n\t\t\tuuiview :false,\r\n\t\t\tcalviewcount :0,\r\n\t\t\tsegviewcount :0,\r\n\t\t\tuuiviewcount :0,\r\n\t\t\t\r\n\t\t\tnetwork : '',\r\n\t\t\tmessage: '',\r\n\t\t\tpoint: '',\r\n\t\t\tcalPrimary:'',\r\n\t\t\tcalDate: '',\r\n\t\t\tlat: 0,\r\n\t\t\tlog: 0,\r\n\t\t\tradius2: 0,\r\n\t\t\tlevel: \"\",\r\n\t\t\ttype : '',\r\n\t\t\tstandard_style: {\r\n\t\t\t\tstrokeColor: 'red',\r\n\t\t\t\tstrokeOpacity: 1,\r\n\t\t\t\tstrokeWidth: 3,\r\n\t\t\t\tfillOpacity: 0.4,\r\n\t\t\t\tfillColor: \"red\"\r\n\t\t\t},\r\n\t\t\torange_style: {\r\n\t\t\t\tstrokeColor: 'orange',\r\n\t\t\t\tstrokeOpacity: 1,\r\n\t\t\t\tstrokeWidth: 3,\r\n\t\t\t\tfillOpacity: 0.4,\r\n\t\t\t\tfillColor: \"orange\"\r\n\t\t\t},\r\n\t\t\tyellow_style: {\r\n\t\t\t\tstrokeColor: 'yellow',\r\n\t\t\t\tstrokeOpacity: 1,\r\n\t\t\t\tstrokeWidth: 3,\r\n\t\t\t\tfillOpacity: 0.4,\r\n\t\t\t\tfillColor: \"yellow\"\r\n\t\t\t},\r\n\t\t\tblue_style: {\r\n\t\t\t\tstrokeColor: 'blue',\r\n\t\t\t\tstrokeOpacity: 1,\r\n\t\t\t\tstrokeWidth: 3,\r\n\t\t\t\tfillOpacity: 0.4,\r\n\t\t\t\tfillColor: \"blue\"\r\n\t\t\t},\r\n\t\t\tsegment_style: {\r\n\t\t\t\tstrokeColor: 'black',\r\n\t\t\t\tstrokeOpacity: 0.1,\r\n\t\t\t\tstrokeWidth: 1,\r\n\t\t\t\tfillOpacity: 0.1,\r\n\t\t\t\tfillColor: \"${black}\"\r\n\t\t\t}, //세그먼트 Style\r\n\t\t\tlinsStyle: {\r\n\t\t\t\tstrokeColor: 'black',\r\n\t\t\t\tstrokeOpacity: 0.5,\r\n\t\t\t\tstrokeWidth: 1,\r\n\t\t\t\tfillOpacity: 0.5,\r\n\t\t\t\tfillColor: \"${black}\"\r\n\t\t\t}, //라인 Style\r\n\t\t\tcenterStyle:{\r\n\t\t\t\tstrokeColor: 'red',\r\n\t\t\t\tstrokeOpacity: 1.0,\r\n\t\t\t\tstrokeWidth: 1,\r\n\t\t\t\tfillOpacity: 1.0,\r\n\t\t\t\tfillColor: \"${red}\"\r\n\t\t\t\t\r\n\t\t\t},\r\n\r\n\t\t\tcalcount: 0,\r\n\r\n\t\t\tsegcount: 0,\r\n\t\t\tsegmentIndex: {\r\n\t\t\t\tsegNum: 0,\r\n\t\t\t\tcalNum: 0,\r\n\t\t\t\tsegLat: 0,\r\n\t\t\t\tsegLog: 0,\r\n\t\t\t\tsegName: 0\r\n\t\t\t},\r\n\t\t\tuuidCount: 0,\r\n\t\t\tmarkerFeatures: [],\r\n\t\t\thover: '',\r\n\t\t\ttime:\"\",\r\n\t\t\tdate:\"\",\r\n\t\t\tweek : ['일', '월', '화', '수', '목', '금', '토'],\r\n\t\t\ttimerID : setInterval(this.updateTime, 1000)\r\n\t\t\t//x 증가율 radius * 171.5\r\n\t\t\t//y 증가율 radius * 3\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\t//여기는 재난이 들어오는 곳 \r\n\t\tEventBus.$on('use-eventbus', calIndex => {\r\n\t\t\tif (count != 0) {\r\n\t\t\t\tthis.deleteF();\r\n\t\t\t}\r\n\t\t\tvar cal = document.getElementById(\"cal\")\r\n\t\t\tcal.checked=true;\r\n\t\t\tvar seg = document.getElementById(\"seg\")\r\n\t\t\tseg.checked=true;\r\n\t\t\t\t\t\t\r\n\t\t\tthis.calPrimary = calIndex.calNum;\r\n\t\t\tthis.lat = calIndex.lat * 1;\r\n\t\t\tthis.log = calIndex.log * 1;\r\n\t\t\tthis.radius2 = calIndex.radius * 1;\r\n\t\t\tthis.level = calIndex.callevel + \"\";\r\n\t\t\tthis.calDate = calIndex.calTime;\r\n\t\t\tthis.type = calIndex.calType;\r\n\t\t\tthis.message = calIndex.context;\r\n\r\n\t\t\tswitch (this.level) {\r\n\t\t\t\tcase \"심각\":\r\n\t\t\t\t\tvectorLayer = new OpenLayers.Layer.Vector(\"Overlay\", {\r\n\t\t\t\t\t\tstyleMap: new OpenLayers.StyleMap(\r\n\t\t\t\t\t\t\tthis.standard_style\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"경계\":\r\n\t\t\t\t\tvectorLayer = new OpenLayers.Layer.Vector(\"Overlay\", {\r\n\t\t\t\t\t\tstyleMap: new OpenLayers.StyleMap(\r\n\t\t\t\t\t\t\tthis.orange_style\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"주의\":\r\n\t\t\t\t\tvectorLayer = new OpenLayers.Layer.Vector(\"Overlay\", {\r\n\t\t\t\t\t\tstyleMap: new OpenLayers.StyleMap(\r\n\t\t\t\t\t\t\tthis.yellow_style\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"관심\":\r\n\t\t\t\t\tvectorLayer = new OpenLayers.Layer.Vector(\"Overlay\", {\r\n\t\t\t\t\t\tstyleMap: new OpenLayers.StyleMap(\r\n\t\t\t\t\t\t\tthis.blue_style\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tsegmentLayer = new OpenLayers.Layer.Vector(\"segmentlay\", {\r\n\t\t\t\tstyleMap: new OpenLayers.StyleMap(\r\n\t\t\t\t\tthis.segment_style\r\n\t\t\t\t)\r\n\t\t\t});\r\n\r\n\t\t\t\r\n\t\t\tvectorLayer.setVisibility(true);\r\n\t\t\tsegmentLayer.setVisibility(true);\r\n\r\n\t\t\tcenterlayer = new OpenLayers.Layer.Vector(\"centerLay\",{\r\n\t\t\t\tstyleMap: new OpenLayers.StyleMap(\r\n\t\t\t\t\tthis.centerStyle\r\n\t\t\t\t)\r\n\t\t\t});\r\n\r\n\t\t\tthis.drawMainCircle();\r\n\t\t\t//this.drawMainMarker();\r\n\t\t\tcount++;\r\n\t\t});\r\n\r\n\t\tEventBus.$on('use-eventbus-uuidTest', uuidList => {\r\n\t\t\tthis.uuidCount += 1\r\n\t\t\t\r\n\t\t\tuserMarkers.setVisibility(true);\r\n\t\t\tvar uuid = document.getElementById(\"uid\")\r\n\t\t\tuid.checked=true;\r\n\t\t\tuuidFeatures = new Array();\r\n\t\t\tfor (var i = 0; i < uuidList.length; i++) {\r\n\t\t\t\tvar uuidindex = {\r\n\t\t\t\t\tx: uuidList[i].uuidX,\r\n\t\t\t\t\ty: uuidList[i].uuidY,\r\n\t\t\t\t\tuuidcontainseg: -1,\r\n\t\t\t\t\tuuid: uuidList[i].uuidId\r\n\t\t\t\t}\r\n\t\t\t\tuuidFeatures.push(uuidindex);\r\n\t\t\t}\r\n\r\n\t\t\tthis.drawUUID(uuidFeatures);\r\n\t\t});\r\n\r\n\t},\r\n\tmounted() {\r\n\t\tthis.updateTime();\r\n\t\tthis.init();\r\n\t},\r\n\tcomputed: {},\r\n\tmethods: {\r\n\t\tvisibilityC(){\r\n\t\t\tif (vectorLayer.getVisibility() == true) {\r\n        \t\tvectorLayer.setVisibility(false);\r\n    \t\t\t} else {\r\n        \t\tvectorLayer.setVisibility(true);\r\n    \t\t\t}\r\n\t\t},visibilityS(){\r\n\t\t\tif (segmentLayer.getVisibility() == true) {\r\n        \t\tsegmentLayer.setVisibility(false);\r\n    \t\t\t} else {\r\n        \t\tsegmentLayer.setVisibility(true);\r\n    \t\t\t}\r\n\t\t},visibilityU(){\r\n\t\t\tif (userMarkers.getVisibility() == true) {\r\n        \t\tuserMarkers.setVisibility(false);\r\n    \t\t\t} else {\r\n        \t\tuserMarkers.setVisibility(true);\r\n    \t\t\t}\r\n\t\t},\r\n\t\tinit() {\r\n\t\t\tmap = new ngii_wmts.map(\"map1\", {\r\n\t\t\t\t\r\n\t\t\t\tcontrols: [],\r\n\t\t\t\tprojection: \"EPSG:5179\",\r\n\t\t\t\tcenter: new OpenLayers.LonLat(1099472.79652, 1764427.68399),\r\n\t\t\t\tzoom: 7,\r\n\t\t\t\t//mapmode:3,\r\n\t\t\t\tmapMode:0,\r\n\t\t\t\tnumZoomLevels: 21,\r\n\t\t\t\teventListeners: {\r\n\t\t\t\t\tfeatureclick: function (e) {\r\n\t\t\t\t\t\tif (e.feature.layer.name == 'segmentlay') {\r\n\t\t\t\t\t\t\te.feature.renderIntent = \"select\";\r\n\t\t\t\t\t\t\tvar j = 0;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tfor (j = 0; j < segmentList.length; j++) {\r\n\t\t\t\t\t\t\t\tif (segmentList[j].segId == e.feature.id) {\r\n\t\t\t\t\t\t\t\t\t//해당 세그먼트에 몇명이 있는지 확인 \r\n\t\t\t\t\t\t\t\t\tif (popup) {\r\n\t\t\t\t\t\t\t\t\t\tmap.removePopup(popup)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvar segcode = e.feature.id.split('_');\r\n\t\t\t\t\t\t\t\t\tvar popuplocation = new OpenLayers.LonLat(segmentList[j].segLat, segmentList[j].segLog)\r\n\t\t\t\t\t\t\t\t\tpopup = new OpenLayers.Popup(\"chicken\",\r\n\t\t\t\t\t\t\t\t\t\tpopuplocation,\r\n\t\t\t\t\t\t\t\t\t\tnew OpenLayers.Size(200, 60),\r\n\t\t\t\t\t\t\t\t\t\t\"세그먼트 번호 :\" + segcode[3] + \"<br>\" + '<div style=\"color:#FF0000\">재난 발생시 인원 :   ' + segmentList[j].segmentUserList.length + \"명\", true);\r\n\r\n\t\t\t\t\t\t\t\t\tmap.addPopup(popup);\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tmap.updateSize();\r\n\r\n\t\t\tmap._addDefaultMapModeBox({right:\"1300px\", top:\"500px\"});\r\n\t\t\t//지도 객체 생성 \r\n\t\t\tmap.addControl(new OpenLayers.Control.PanZoomBar());\r\n\t\t\tmap.addControl(new OpenLayers.Control.MousePosition());\r\n\t\t\tmap.addControl(new OpenLayers.Control.ScaleLine());\r\n\t\t\tmap.addControl(new OpenLayers.Control.KeyboardDefaults());\r\n\t\t\t\r\n\t\t\tvar control = new OpenLayers.Control();\r\n\t\t\tOpenLayers.Util.extend(control, {\r\n\t\t\t\tdraw: function () {\r\n\t\t\t\t\t// this Handler.Box will intercept the shift-mousedown\r\n\t\t\t\t\t// before Control.MouseDefault gets to see it\r\n\t\t\t\t\tthis.box = new OpenLayers.Handler.Box(control, {\r\n\t\t\t\t\t\t\"done\": this.notice\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tkeyMask: OpenLayers.Handler.MOD_SHIFT\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.box.activate();\r\n\t\t\t\t},\r\n\t\t\t\tnotice: function (bounds) {\r\n\t\t\t\t\tOpenLayers.Console.userError(bounds);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tmap.addControl(control);\r\n\r\n\r\n\t\t\t//map.controls[1].disableZoomWheel(); // disable the original behavior of\r\n\r\n\t\t\t//create a new control//\r\n\r\n\t\t\tvar mousewheel = new OpenLayers.Control();\r\n\t\t\tOpenLayers.Util.extend(mousewheel, {\r\n\t\t\t\t// The draw method is called when the control is initialized\r\n\t\t\t\tdraw: function () {\r\n\t\t\t\t\tthis.mouse = new OpenLayers.Handler.MouseWheel(mousewheel, {\r\n\t\t\t\t\t\t\"up\": mouseUp,\r\n\t\t\t\t\t\t\"down\": mouseDown\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.mouse.activate();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t//add new control\r\n\t\t\tmap.addControl(mousewheel);\r\n\t\t\t// change behavior of mouse wheel functions\r\n\t\t\tfunction mouseUp() {\r\n\t\t\t\tmap.zoomTo(map.zoom + 1);\r\n\t\t\t}\r\n\r\n\t\t\tfunction mouseDown() {\r\n\t\t\t\tif (map.zoom > 10) {\r\n\t\t\t\t\tmap.zoomTo(map.zoom - 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// var strategy = new OpenLayers.Strategy.Cluster({\r\n\t\t    // distance: 15 // <-- removed clustering flag\r\n\t\t\t// });\r\n\t\t\t// userMarkers = new OpenLayers.Layer.Vector(\"userMarkers\", {strategies: [strategy]});\r\n\r\n\r\n\t\t\tuserMarkers = new OpenLayers.Layer.Markers(\"userMarkers\",{\r\n\t\t\t\t strategies: [\r\n\t\t\t\t\t   new OpenLayers.Strategy.Cluster({distance: 30})\r\n\t\t\t\t ]\r\n\t\t\t\t });\r\n\t\t},\r\n\r\n\t\tdrawMainCircle() {\r\n\t\t\tvar x = this.lat;\r\n\t\t\tvar y = this.log;\r\n\t\t\tvar length = 0;\r\n\t\t\tvar count = 0;\r\n\t\t\r\n\t\t\t//가장 큰 재난 원 \r\n\t\t\tvar point = new OpenLayers.Geometry.Point(x, y);\r\n\t\t\tvar mainCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point, this.radius2, 36, 0);\r\n\t\t\tvar mainFeature = new OpenLayers.Feature.Vector(mainCircle);\r\n\t\t\tconsole.log(\"Map says: \" + mainFeature.id);\r\n\t\t\tvectorLayer.addFeatures(mainFeature)\r\n\t\t\t\r\n\t\t\t// var pointRight = new OpenLayers.Geometry.Point(x,y);\r\n\t\t\t// var mainLine = OpenLayers.Geometry.Polygon.createRegularPolygon(point,20, 20, 0);\r\n\t\t\t// var mainLineFeature = new OpenLayers.Feature.Vector(mainLine);\r\n\t\t\t// 중앙 원 \r\n\r\n\r\n\t\t\tthis.calcount += 1;\r\n\t\t\tvar calamityIndex = {\r\n\t\t\t\tcalcount: this.calcount,\r\n\t\t\t\tcalId: mainFeature.id,\r\n\t\t\t\tmainlat: x,\r\n\t\t\t\tmainlog: y,\r\n\t\t\t\tmainradius: this.radius2,\r\n\t\t\t\tmainlevel: this.level,\r\n\t\t\t\tmainType: this.type,\r\n\t\t\t\tcalmessage: this.message\r\n\t\t\t}\r\n\t\t\tcalamityList.push(calamityIndex)\r\n\r\n\t\t\t// 기본 세그먼트 0.0 에 있는거 그리기\r\n\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point, segmentRadius, 36, 0);\r\n\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\t\t\tthis.inputSegmentInList(mainFeature.id, x, y, featureCircle.id)\r\n\t\t\tsegmentFeatures.push(featureCircle)\r\n\r\n\t\t\tvar ycount = 0\r\n\t\t\twhile (true) {\r\n\t\t\t\tif (ycount == 0) {\r\n\t\t\t\t\twhile (true) {\r\n\t\t\t\t\t\tlength += 171.5;\r\n\t\t\t\t\t\t//늘어나는 길이가 루트3만큼 늘어난다.\r\n\t\t\t\t\t\tvar point = new OpenLayers.Geometry.Point(x + length, this.log);\r\n\t\t\t\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point, segmentRadius, 36, 0);\r\n\t\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\t\t\t\t\t\tif (!myCircle.intersects(mainCircle)) break;\r\n\t\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\t\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, x + length, this.log, featureCircle.id)\r\n\t\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\t\t\t\t\t\t//this.inputSegmentInList(this.calcount,x + length,this.log)\r\n\t\t\t\t\t\tvar minuspoint = new OpenLayers.Geometry.Point(x - length, this.log);\r\n\t\t\t\t\t\tvar minusmyCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(minuspoint, segmentRadius, 36, 0);\r\n\t\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(minusmyCircle);\r\n\t\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\t\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, x - length, this.log, featureCircle.id)\r\n\t\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\t\t\t\t\t\t//this.inputSegmentInList(this.calcount,x - length,this.log)\r\n\t\t\t\t\t} //기본이 되는 선을 하나 그린다.\r\n\t\t\t\t\tycount = 1;\r\n\t\t\t\t\tlength = 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\ty += 300\r\n\t\t\t\t\tvar point = new OpenLayers.Geometry.Point(x, y);\r\n\t\t\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point, segmentRadius, 36, 0);\r\n\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\r\n\t\t\t\t\tif (!myCircle.intersects(mainCircle)) break;\r\n\t\t\t\t\t//리스트에 집어 넣기\r\n\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, x, y, featureCircle.id)\r\n\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\r\n\t\t\t\t\tvar reverseY = this.log - (y - this.log)\r\n\t\t\t\t\tvar minuspoint = new OpenLayers.Geometry.Point(x, reverseY);\r\n\t\t\t\t\tvar minusmyCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(minuspoint, segmentRadius, 36, 0);\r\n\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(minusmyCircle);\r\n\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\r\n\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, x, reverseY, featureCircle.id)\r\n\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\t\t\t\t\tycount++\r\n\t\t\t\t\t//y축으로 +- 를 쫙 그리고 \r\n\t\t\t\t\twhile (true) {\r\n\t\t\t\t\t\t//그 y축을 가지고 x축을 그린다.\r\n\t\t\t\t\t\tlength += 171.5;\r\n\t\t\t\t\t\tvar point = new OpenLayers.Geometry.Point(x + length, y);\r\n\t\t\t\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point, segmentRadius, 36, 0);\r\n\t\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\t\t\t\t\t\tif (!mainCircle.intersects(myCircle)) break;\r\n\t\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\r\n\t\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, x + length, y, featureCircle.id)\r\n\t\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\t\t\t\t\t\tvar minuspoint = new OpenLayers.Geometry.Point(x - length, y);\r\n\t\t\t\t\t\tvar minusmyCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(minuspoint, segmentRadius, 36, 0);\r\n\t\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(minusmyCircle);\r\n\t\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\r\n\t\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, x - length, y, featureCircle.id)\r\n\t\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\t\t\t\t\t\tvar point = new OpenLayers.Geometry.Point(x + length, reverseY);\r\n\t\t\t\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point, segmentRadius, 36, 0);\r\n\t\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\r\n\t\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\t\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, x + length, reverseY, featureCircle.id)\r\n\t\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\t\t\t\t\t\tvar minuspoint = new OpenLayers.Geometry.Point(x - length, reverseY);\r\n\t\t\t\t\t\tvar minusmyCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(minuspoint, segmentRadius, 36, 0);\r\n\t\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(minusmyCircle);\r\n\t\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\r\n\t\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, x - length, reverseY, featureCircle.id)\r\n\t\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlength = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar x = this.lat;\r\n\t\t\tvar y = this.log;\r\n\r\n\t\t\tvar length = 0;\r\n\t\t\tvar ylength = 150;\r\n\t\t\tvar count = 0;\r\n\r\n\t\t\twhile (true) {\r\n\t\t\t\tif (count == 0) {\r\n\t\t\t\t\tvar point2 = new OpenLayers.Geometry.Point(x + (171.5 / 2), y + 150);\r\n\t\t\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point2, segmentRadius, 36, 0);\r\n\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\r\n\t\t\t\t\tif (!myCircle.intersects(mainCircle)) break;\r\n\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\r\n\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, x + (171.5 / 2), y + 150, featureCircle.id)\r\n\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\r\n\t\t\t\t\tvar point3 = new OpenLayers.Geometry.Point(x - (171.5 / 2), y + 150);\r\n\t\t\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point3, segmentRadius, 36, 0);\r\n\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, x - (171.5 / 2), y + 150, featureCircle.id)\r\n\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\r\n\t\t\t\t\tvar point2 = new OpenLayers.Geometry.Point(x + (171.5 / 2), y - 150);\r\n\t\t\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point2, segmentRadius, 36, 0);\r\n\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, x + (171.5 / 2), y - 150, featureCircle.id)\r\n\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\r\n\t\t\t\t\tvar point3 = new OpenLayers.Geometry.Point(x - (171.5 / 2), y - 150);\r\n\t\t\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point3, segmentRadius, 36, 0);\r\n\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, x - (171.5 / 2), y - 150, featureCircle.id)\r\n\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\r\n\t\t\t\t\tvar ypluspoint = y + ylength\r\n\t\t\t\t\tvar yminuspoint = y - ylength\r\n\t\t\t\t\tvar plusx = x + (171.5 / 2);\r\n\t\t\t\t\tvar minusx = x - (171.5 / 2);\r\n\t\t\t\t\twhile (true) {\r\n\t\t\t\t\t\t//그 y축을 가지고 x축을 그린다.\r\n\t\t\t\t\t\tlength += 171.5;\r\n\t\t\t\t\t\tvar point = new OpenLayers.Geometry.Point(plusx + length, ypluspoint);\r\n\t\t\t\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point, segmentRadius, 36, 0);\r\n\t\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\t\t\t\t\t\tif (!mainCircle.intersects(myCircle)) break;\r\n\t\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\r\n\t\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, plusx + length, ypluspoint, featureCircle.id)\r\n\t\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\t\t\t\t\t\tvar minuspoint = new OpenLayers.Geometry.Point(minusx - length, ypluspoint);\r\n\t\t\t\t\t\tvar minusmyCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(minuspoint, segmentRadius, 36, 0);\r\n\t\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(minusmyCircle);\r\n\t\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\r\n\t\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, minusx - length, ypluspoint, featureCircle.id)\r\n\t\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\t\t\t\t\t\tvar point = new OpenLayers.Geometry.Point(plusx + length, yminuspoint);\r\n\t\t\t\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point, segmentRadius, 36, 0);\r\n\t\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\r\n\t\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\r\n\t\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, plusx + length, yminuspoint, featureCircle.id)\r\n\t\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\t\t\t\t\t\tvar minuspoint = new OpenLayers.Geometry.Point(minusx - length, yminuspoint);\r\n\t\t\t\t\t\tvar minusmyCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(minuspoint, segmentRadius, 36, 0);\r\n\t\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(minusmyCircle);\r\n\t\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\r\n\t\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, minusx - length, yminuspoint, featureCircle.id)\r\n\t\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlength = 0;\r\n\r\n\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tylength += 300\r\n\t\t\t\t\tvar point2 = new OpenLayers.Geometry.Point(x + (171.5 / 2), y + ylength);\r\n\t\t\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point2, segmentRadius, 36, 0);\r\n\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\r\n\t\t\t\t\tif (!myCircle.intersects(mainCircle)) break;\r\n\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\r\n\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, x + (171.5 / 2), y + ylength, featureCircle.id)\r\n\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\r\n\t\t\t\t\tvar point3 = new OpenLayers.Geometry.Point(x - (171.5 / 2), y + ylength);\r\n\t\t\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point3, segmentRadius, 36, 0);\r\n\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, x - (171.5 / 2), y + ylength, featureCircle.id)\r\n\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\r\n\t\t\t\t\tvar point2 = new OpenLayers.Geometry.Point(x + (171.5 / 2), y - ylength);\r\n\t\t\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point2, segmentRadius, 36, 0);\r\n\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, x + (171.5 / 2), y - ylength, featureCircle.id)\r\n\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\r\n\t\t\t\t\tvar point3 = new OpenLayers.Geometry.Point(x - (171.5 / 2), y - ylength);\r\n\t\t\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point3, segmentRadius, 36, 0);\r\n\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, x - (171.5 / 2), y - ylength, featureCircle.id)\r\n\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\t\t\t\t\t//대각선 위치에 있는 원 그리기 \r\n\t\t\t\t\tvar ypluspoint = y + ylength\r\n\t\t\t\t\tvar yminuspoint = y - ylength\r\n\t\t\t\t\tvar plusx = x + (171.5 / 2);\r\n\t\t\t\t\tvar minusx = x - (171.5 / 2);\r\n\t\t\t\t\twhile (true) {\r\n\t\t\t\t\t\t//그 y축을 가지고 x축을 그린다.\r\n\t\t\t\t\t\tlength += 171.5;\r\n\t\t\t\t\t\tvar point = new OpenLayers.Geometry.Point(plusx + length, ypluspoint);\r\n\t\t\t\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point, segmentRadius, 36, 0);\r\n\t\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\t\t\t\t\t\tif (!mainCircle.intersects(myCircle)) break;\r\n\t\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\t\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, plusx + length, ypluspoint, featureCircle.id)\r\n\t\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\r\n\t\t\t\t\t\tvar minuspoint = new OpenLayers.Geometry.Point(minusx - length, ypluspoint);\r\n\t\t\t\t\t\tvar minusmyCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(minuspoint, segmentRadius, 36, 0);\r\n\t\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(minusmyCircle);\r\n\t\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\r\n\t\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, minusx - length, ypluspoint, featureCircle.id)\r\n\t\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\t\t\t\t\t\tvar point = new OpenLayers.Geometry.Point(plusx + length, yminuspoint);\r\n\t\t\t\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point, segmentRadius, 36, 0);\r\n\t\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\t\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\t\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, plusx + length, yminuspoint, featureCircle.id)\r\n\t\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\r\n\t\t\t\t\t\tvar minuspoint = new OpenLayers.Geometry.Point(minusx - length, yminuspoint);\r\n\t\t\t\t\t\tvar minusmyCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(minuspoint, segmentRadius, 36, 0);\r\n\t\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(minusmyCircle);\r\n\t\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\t\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, minusx - length, yminuspoint, featureCircle.id)\r\n\t\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlength = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t//\tcenterlayer.addFeatures(mainLineFeature)\r\n\r\n\t\t\tmap.addLayer(vectorLayer);\r\n\t\t\tmap.addLayer(segmentLayer);\r\n\t\t\t// map.addLayer(centerlayer);\r\n\t\t\t\r\n\t\t\tconsole.log(vectorLayer)\r\n\t\t\tconsole.log(segmentLayer)\r\n\t\t\t\r\n\r\n\t\t\tvar pointZoom = new OpenLayers.LonLat(this.lat, this.log)\r\n\t\t\tmap.setCenter(pointZoom, 8)\r\n\t\t\r\n\t\t\tvar segmentSendingList = [];\r\n\t\t\tvar countall = 0;\r\n\t\t\tvar countsub = 0;\r\n\t\t\t\r\n\t\t\tfor (var k = 0; k < uuidFeatures.length; k++) {\r\n\t\t\t\tuuidFeatures[k].uuidcontainseg =-1;\r\n\t\t\t}\r\n\t\t\tvar calculateradius = calamityIndex.mainradius;\r\n\t\t\tvar calculateuuidList = new Array();\r\n\r\n\t\t\tfor (var k = 0; k < uuidFeatures.length; k++) {\r\n\t\t\tif((Math.sqrt(Math.abs((uuidFeatures[k].x - calamityIndex.mainlat) * (uuidFeatures[k].x - calamityIndex.mainlat)) + Math.abs((uuidFeatures[k].y - calamityIndex.mainlog) * (uuidFeatures[k].y - calamityIndex.mainlog))))< calamityIndex.mainradius+200){\t\r\n\t\t\t\tvar calculateuuidIndex ={\r\n\t\t\t\t\tx: uuidFeatures[k].x,\r\n\t\t\t\t\ty: uuidFeatures[k].y,\r\n\t\t\t\t\tuuidcontainseg: -1,\r\n\t\t\t\t\tuuid: uuidFeatures[k].uuid\r\n\t\t\t\t}\r\n\t\t\t\t\tcalculateuuidList.push(calculateuuidIndex);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//모든 uuid리스트의 포함관계를 초기화 시킨다.\r\n\t\t\t\tvar p = ''\r\n\t\t\t\tfor (var j = 0; j < segmentFeatures.length; j++) {\r\n\t\t\t\t\tif (segmentList[j].calIndex == calamityIndex.calId) {\r\n\t\t\t\t\t\t// 모든 세그먼트중 해당 재난에 들어있는지 안들어있는지 판단\r\n\t\t\t\t\t\tfor (var k = 0; k < calculateuuidList.length; k++) {\r\n\t\t\t\t\t\t\t//모든 uuid 중 \r\n\t\t\t\t\t\t\tp = new OpenLayers.Geometry.Point(calculateuuidList[k].x, calculateuuidList[k].y);\r\n\t\t\t\t\t\t\tif (segmentFeatures[j].geometry.intersects(p)) {\r\n\t\t\t\t\t\t\t\tcountall++;\r\n\r\n\t\t\t\t\t\t\t\tif (calculateuuidList[k].uuidcontainseg == -1) {\r\n\t\t\t\t\t\t\t\t\tsegmentList[j].segmentUserList.push(calculateuuidList[k].uuid)\r\n\t\t\t\t\t\t\t\t\tcalculateuuidList[k].uuidcontainseg = segmentList[j].segId;\r\n\t\t\t\t\t\t\t\t\tsegmentSendingList.push(segmentList[j])\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if (calculateuuidList[k].uuidcontainseg != -1) {\r\n\t\t\t\t\t\t\t\t\tfor (var h = 0; h < segmentList.length; h++) {\r\n\t\t\t\t\t\t\t\t\t\tif (segmentList[h].segId == calculateuuidList[k].uuidcontainseg) {\r\n\t\t\t\t\t\t\t\t\t\t\t//원래 들어있던게 다를 경우 \r\n\t\t\t\t\t\t\t\t\t\t\tif (segmentList[j].segmentfromcalamity <= segmentList[h].segmentfromcalamity) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tcalculateuuidList[k].uuidcontainseg = segmentList[j].segId;\r\n\t\t\t\t\t\t\t\t\t\t\t\tcountsub++;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (var k = 0; k < uuidFeatures.length; k++) {\r\n\t\t\t\t\tfor(var j=0; j< calculateuuidList.length;j++){\r\n\t\t\t\t\t\tif(uuidFeatures[k].uuid==calculateuuidList[j].uuid){\r\n\t\t\t\t\t\t\tuuidFeatures[k].uuidcontainseg = calculateuuidList[j].uuidcontainseg;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tvar calamityAllinfo = {\r\n\t\t\t\t\ttargetUser: 0,\r\n\t\t\t\t\tdangerUser: 0,\r\n\t\t\t\t\tcallPri: this.calPrimary,\r\n\t\t\t\t\tcallat: calamityIndex.mainlat,\r\n\t\t\t\t\tcallon: calamityIndex.mainlog,\r\n\t\t\t\t\tcaldate: this.calDate,\r\n\t\t\t\t\tcallevel: this.level,\r\n\t\t\t\t\tcalRange: this.radius2,\r\n\t\t\t\t\tcalType: calamityIndex.mainType,\r\n\t\t\t\t\tcalNumber: this.calcount,\r\n\t\t\t\t\tcalMessageInfo: calamityIndex.calmessage,\r\n\t\t\t\t\tuuidAllInfo: calculateuuidList,\r\n\t\t\t\t\tsegmentSendingFeature: segmentSendingList\r\n\t\t\t\t}\r\n\t\t\t\tEventBus.$emit(\"calamity-test\", calamityAllinfo)\r\n\t\t},\r\n\t\tpointer(xpoint,ypoint){\r\n\t\t\tvar point = new OpenLayers.Geometry.Point(xpoint, ypluspoint);\r\n\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point, segmentRadius, 36, 0);\r\n\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\t\t},\r\n\t\tdrawMainMarker() {\r\n\t\t\tmarkers = new OpenLayers.Layer.Markers(\"Markers\");\r\n\t\t\tmap.addLayer(markers);\r\n\r\n\t\t\tvar size = new OpenLayers.Size(21, 25);\r\n\t\t\tvar offset = new OpenLayers.Pixel(-(size.w / 2), -size.h);\r\n\t\t\tvar icon = new OpenLayers.Icon(mapmarkerpng, size, offset);\r\n\t\t\tmarkers.addMarker(new OpenLayers.Marker(new OpenLayers.LonLat(this.lat, this.log), icon));\r\n\r\n\t\t\tvar markerindex = {\r\n\t\t\t\tmarkerincalamity: this.calcount,\r\n\t\t\t\tmarkersX: this.lat,\r\n\t\t\t\tmarkersY: this.log\r\n\r\n\t\t\t}\r\n\t\t\tthis.markerFeatures.push(markerindex);\r\n\t\t\tmarkers.events.register(\"click\", markers, function (e) {\r\n\t\t\t\tvar calId = 0;\r\n\t\t\t\tvar calamityradius = 0;\r\n\t\t\t\tvar calmainlat = 0;\r\n\t\t\t\tvar calmainlog = 0;\r\n\t\t\t\tvar calNumber = 0;\r\n\t\t\t\tvar caladate = '';\r\n\t\t\t\tvar i\r\n\t\t\t\tfor (i = 0; i < calamityList.length; i++) {\r\n\t\t\t\t\tif (calamityList[i].mainlat == e.object.markers[0].lonlat.lon & calamityList[i].mainlog == e.object.markers[0].lonlat.lat) {\r\n\t\t\t\t\t\tcalId = calamityList[i].calId\r\n\t\t\t\t\t\tcalamityradius = calamityList[i].mainradius\r\n\t\t\t\t\t\tcalmainlat = calamityList[i].mainlat\r\n\t\t\t\t\t\tcalmainlog = calamityList[i].mainlog\r\n\t\t\t\t\t\tcalNumber = calamityList[i].calcount\r\n\t\t\t\t\t\tcaladate = calamityList[i].calDate\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tEventBus.$emit(\"calamity-test\", calamityAllinfo)\r\n\t\t\t\tuuidFeatures = new Array() //유저 배열\r\n\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tdrawUUID(uuidFeatureList) {\r\n\r\n\t\t\tmap.addLayer(userMarkers);\r\n\t\t\tvar size = new OpenLayers.Size(7, 7);\r\n\t\t\tvar offset = new OpenLayers.Pixel(-(size.w / 2), -size.h);\r\n\t\t\tvar icon = new OpenLayers.Icon(peoplesCircle, size, offset);\r\n\r\n\t\t\tuserMarkers.clearMarkers()\r\n\t\t\tif (null != userMarkers.markers) {\r\n\t\t\t\tfor (; 0 < userMarkers.markers;) {\r\n\t\t\t\t\tuserMarkers.removeMarker(userMarkers.markers[0])\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < uuidFeatureList.length; i++) {\r\n\t\t\t\tuserMarkers.addMarker(new OpenLayers.Marker(new OpenLayers.LonLat(uuidFeatureList[i].x, uuidFeatureList[i].y), icon));\r\n\t\t\t\tuserMarkers.addMarker(new OpenLayers.Marker(new OpenLayers.LonLat(uuidFeatureList[i].x, uuidFeatureList[i].y), icon.clone()));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t},\r\n\t\tinputSegmentInList(calNum, latP, logP, segIdent) {\r\n\t\t\tthis.segcount++\r\n\t\t\tvar segmentIndex = {\r\n\t\t\t\tsegNum: this.segcount,\r\n\t\t\t\tsegId: segIdent,\r\n\t\t\t\tcallLevelIndex: this.level,\r\n\t\t\t\tcalRadiusIndex: this.radius2,\r\n\t\t\t\tcallTimeIndex: this.calDate,\r\n\t\t\t\tcallatIndex: this.lat,\r\n\t\t\t\tcallogIndex: this.log,\r\n\t\t\t\tcalcount: this.calcount,\r\n\t\t\t\tmainType: this.type,\r\n\t\t\t\tcalIndex: calNum,\r\n\t\t\t\tsegLat: latP,\r\n\t\t\t\tsegLog: logP,\r\n\t\t\t\tsegmentfromcalamity: 0,\r\n\t\t\t\tsegmentinsidepeople: 0,\r\n\t\t\t\tsegmentUserList: []\r\n\r\n\t\t\t}\r\n\t\t\t//외부노출용 세그먼트번호\r\n\r\n\t\t\tvar dis_x = this.lat - segmentIndex.segLat;\r\n\t\t\tvar dix_y = this.log - segmentIndex.segLog;\r\n\t\t\tsegmentIndex.segmentfromcalamity = Math.sqrt(Math.abs(dis_x * dis_x) + Math.abs(dix_y * dix_y))\r\n\t\t\tsegmentList.push(segmentIndex)\r\n\t\t},\r\n\t\tdeleteF() {\r\n\t\t\tvectorLayer.removeAllFeatures();\r\n\t\t\tsegmentLayer.removeAllFeatures();\r\n\t\t\tcenterlayer.removeAllFeatures();\r\n\t\t\tcalamityList = new Array() //재난 배열 \r\n\t\t\tsegmentList = new Array() //세그먼트 배열\r\n\t\t\tsegmentFeatures = new Array() //세그먼트의 feature(polygon)\r\n\t\t\t\r\n\t\t\tsegmentLayer = \"\";\r\n\t\t\tvectorLayer = \"\";\r\n\t\t\tcenterlayer=\"\";\r\n\r\n\t\t},\r\n\t\tupdateTime() {\r\n\t\t\tvar cd = new Date();\r\n\t\t\tthis.time = this.zeroPadding(cd.getHours(), 2) + ':' + this.zeroPadding(cd.getMinutes(), 2) + ':' + this.zeroPadding(cd.getSeconds(), 2);\r\n\t\t\tthis.date = this.zeroPadding(cd.getFullYear(), 4) + '-' + this.zeroPadding(cd.getMonth()+1, 2) + '-' + this.zeroPadding(cd.getDate(), 2) + ' ' + this.week[cd.getDay()];\r\n\t\t},\r\n\t\tzeroPadding(num, digit) {\r\n\t\t\tvar zero = '';\r\n\t\t\tfor(var i = 0; i < digit; i++) {\r\n\t\t\t\tzero += '0';\r\n\t\t\t}\r\n\t\t\treturn (zero + num).slice(-digit);\r\n\t\t},\r\n\t\treset(){\r\n\t\t\tthis.deleteF();\r\n\t\t},\r\n\t\tchangesatellite(){\r\n\t\t\r\n\t\t\t// var hGoogle = new OpenLayers.Layer.Google(\"Google Satellite\",{\r\n\t\t\t// type:google.maps.MapTypeId.SATELLITE});\r\n\t\t\t// map.addLayer(hGoogle);\r\n\t\t\tif(map._getMapMode()==9){\r\n\t\t\t\tmap._setMapMode(0);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tmap._setMapMode(9);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style>\r\n#map1 {\r\n width:100%;\r\n height:650px;\r\n position:relative;\r\n border: 0px solid #bcbcbc;\r\n}\r\n\r\n#textcontainer {\r\n  display: flex;\r\n}\r\n#textal {\r\n  float: left;\r\n}\r\n#clear-element {\r\n  clear: both; /* or left */\r\n}\r\n.olControlScaleLine{\r\n\tpadding-left: 850px;\r\n}\r\n/**\r\n * Layer switcher\r\n */\r\n.olControlLayerSwitcher {\r\n    position: absolute;\r\n    top: 25px;\r\n    right: 0;\r\n    width: 20em;\r\n    font-family: sans-serif;\r\n    font-weight: bold;\r\n    margin-top: 3px;\r\n    margin-left: 3px;\r\n    margin-bottom: 3px;\r\n    font-size: smaller;\r\n    color: white;\r\n    background-color: #303a59 !important;\r\n}\r\n\r\n.olControlLayerSwitcher .layersDiv {\r\n    padding-top: 5px;\r\n    padding-left: 10px;\r\n    padding-bottom: 5px;\r\n    padding-right: 10px;\r\n    background-color: #303a59 !important;\r\n}\r\n\r\n.olControlLayerSwitcher .layersDiv .baseLbl,\r\n.olControlLayerSwitcher .layersDiv .dataLbl {\r\n    margin-top: 3px;\r\n    margin-left: 3px;\r\n    margin-bottom: 3px;\r\n}\r\n\r\n.olControlLayerSwitcher .layersDiv .baseLayersDiv,\r\n.olControlLayerSwitcher .layersDiv .dataLayersDiv {\r\n    padding-left: 10px;\r\n}\r\n\r\n.olControlLayerSwitcher .maximizeDiv,\r\n.olControlLayerSwitcher .minimizeDiv {\r\n    width: 18px;\r\n    height: 18px;\r\n    top: 5px;\r\n    right: 0;\r\n    cursor: pointer;\r\n}\r\n\r\n.olBingAttribution {\r\n    color: #DDD;\r\n}\r\n.olBingAttribution.road {\r\n    color: #333;\r\n}\r\n\r\n.olGoogleAttribution.hybrid, .olGoogleAttribution.satellite {\r\n    color: #EEE;\r\n}\r\n.olGoogleAttribution {\r\n    color: #333;\r\n}\r\nspan.olGoogleAttribution a {\r\n    color: #77C;\r\n}\r\nspan.olGoogleAttribution.hybrid a, span.olGoogleAttribution.satellite a {\r\n    color: #EEE;\r\n}\r\n</style>"]}]}