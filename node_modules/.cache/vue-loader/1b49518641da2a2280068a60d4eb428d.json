{"remainingRequest":"C:\\Users\\ljh\\Vueworkspace\\ninja\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ljh\\Vueworkspace\\ninja\\src\\components\\Map2.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ljh\\Vueworkspace\\ninja\\src\\components\\Map2.vue","mtime":1599790245244},{"path":"C:\\Users\\ljh\\Vueworkspace\\ninja\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ljh\\Vueworkspace\\ninja\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\ljh\\Vueworkspace\\ninja\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ljh\\Vueworkspace\\ninja\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KCXN0b3JlDQp9IGZyb20gJy4uL3N0b3JlL2luZGV4LmpzJzsNCmltcG9ydCB7DQoJZGVmYXVsdHMNCn0gZnJvbSAnb2wvY29udHJvbCc7DQppbXBvcnQgew0KCUV2ZW50QnVzDQp9IGZyb20gIi4vZXZlbnQtYnVzIjsNCmltcG9ydCBtYXBtYXJrZXJwbmcgZnJvbSAiLi4vYXNzZXRzL21hcG1hcmtlci5wbmciDQppbXBvcnQgcGVvcGxlc0NpcmNsZSBmcm9tICIuLi9hc3NldHMvcGVvcGxlc0NpcmNsZS5wbmciDQoNCg0KbGV0IG1hcCA9ICcnDQpsZXQgbWFya2VycyA9ICcnDQpsZXQgcG9wdXAgPSAnJw0KbGV0IGNhbGFtaXR5TGlzdCA9IG5ldyBBcnJheSgpIC8v7J6s64KcIOuwsOyXtCANCmxldCB1dWlkRmVhdHVyZXMgPSBuZXcgQXJyYXkoKSAvL+ycoOyggCDrsLDsl7QNCmxldCBzZWdtZW50TGlzdCA9IG5ldyBBcnJheSgpIC8v7IS46re466i87Yq4IOuwsOyXtA0KbGV0IHNlZ21lbnRSYWRpdXMgPSAxMDANCmxldCBzZWdtZW50RmVhdHVyZXMgPSBuZXcgQXJyYXkoKSAvL+yEuOq3uOuovO2KuOydmCBmZWF0dXJlKHBvbHlnb24pDQpsZXQgdXNlck1hcmtlcnMgPSAiIjsNCmxldCBzZWdtZW50TGF5ZXIgPSAiIjsNCmxldCB2ZWN0b3JMYXllciA9ICIiOw0KbGV0IGNvdW50ID0gMDsNCmV4cG9ydCBkZWZhdWx0IHsNCg0KCXByb3BzOiBbJ3BvaW50WCcsICdwb2ludFknLCAncmFkaXVzJywgJ2NhbExldmVsJ10sDQoNCglkYXRhKCkgew0KCQlyZXR1cm4gew0KCQkJbmV0d29yayA6ICcnLA0KCQkJbWVzc2FnZTogJycsDQoJCQlwb2ludDogJycsDQoJCQljYWxEYXRlOiAnJywNCgkJCWxhdDogMCwNCgkJCWxvZzogMCwNCgkJCXJhZGl1czI6IDAsDQoJCQlsZXZlbDogIiIsDQoJCQl0eXBlIDogJycsDQoJCQlzdGFuZGFyZF9zdHlsZTogew0KCQkJCXN0cm9rZUNvbG9yOiAncmVkJywNCgkJCQlzdHJva2VPcGFjaXR5OiAxLA0KCQkJCXN0cm9rZVdpZHRoOiAzLA0KCQkJCWZpbGxPcGFjaXR5OiAwLjQsDQoJCQkJZmlsbENvbG9yOiAicmVkIg0KCQkJfSwNCgkJCW9yYW5nZV9zdHlsZTogew0KCQkJCXN0cm9rZUNvbG9yOiAnb3JhbmdlJywNCgkJCQlzdHJva2VPcGFjaXR5OiAxLA0KCQkJCXN0cm9rZVdpZHRoOiAzLA0KCQkJCWZpbGxPcGFjaXR5OiAwLjQsDQoJCQkJZmlsbENvbG9yOiAib3JhbmdlIg0KCQkJfSwNCgkJCXllbGxvd19zdHlsZTogew0KCQkJCXN0cm9rZUNvbG9yOiAneWVsbG93JywNCgkJCQlzdHJva2VPcGFjaXR5OiAxLA0KCQkJCXN0cm9rZVdpZHRoOiAzLA0KCQkJCWZpbGxPcGFjaXR5OiAwLjQsDQoJCQkJZmlsbENvbG9yOiAieWVsbG93Ig0KCQkJfSwNCgkJCWdyZWVuX3N0eWxlOiB7DQoJCQkJc3Ryb2tlQ29sb3I6ICdncmVlbicsDQoJCQkJc3Ryb2tlT3BhY2l0eTogMSwNCgkJCQlzdHJva2VXaWR0aDogMywNCgkJCQlmaWxsT3BhY2l0eTogMC40LA0KCQkJCWZpbGxDb2xvcjogImdyZWVuIg0KCQkJfSwNCgkJCXNlZ21lbnRfc3R5bGU6IHsNCgkJCQlzdHJva2VDb2xvcjogJ2JsYWNrJywNCgkJCQlzdHJva2VPcGFjaXR5OiAwLjEsDQoJCQkJc3Ryb2tlV2lkdGg6IDEsDQoJCQkJZmlsbE9wYWNpdHk6IDAuMSwNCgkJCQlmaWxsQ29sb3I6ICIke2JsYWNrfSINCgkJCX0sIC8v7IS46re466i87Yq4IFN0eWxlDQoNCgkJCWNhbGNvdW50OiAwLA0KDQoJCQlzZWdjb3VudDogMCwNCgkJCXNlZ21lbnRJbmRleDogew0KCQkJCXNlZ051bTogMCwNCgkJCQljYWxOdW06IDAsDQoJCQkJc2VnTGF0OiAwLA0KCQkJCXNlZ0xvZzogMCwNCgkJCQlzZWdOYW1lOiAwDQoJCQl9LA0KCQkJdXVpZENvdW50OiAwLA0KCQkJbWFya2VyRmVhdHVyZXM6IFtdLA0KCQkJaG92ZXI6ICcnLA0KCQkJdGltZToiIiwNCgkJCWRhdGU6IiIsDQoJCQl3ZWVrIDogWydTVU4nLCAnTU9OJywgJ1RVRScsICdXRUQnLCAnVEhVJywgJ0ZSSScsICdTQVQnXSwNCgkJCXRpbWVySUQgOiBzZXRJbnRlcnZhbCh0aGlzLnVwZGF0ZVRpbWUsIDEwMDApDQoJCQkvL3gg7Kad6rCA7JyoIHJhZGl1cyAqIDE3MS41DQoJCQkvL3kg7Kad6rCA7JyoIHJhZGl1cyAqIDMNCgkJfQ0KCX0sDQoJY3JlYXRlZCgpIHsNCgkJLy/sl6zquLDripQg7J6s64Kc7J20IOuTpOyWtOyYpOuKlCDqs7MgDQoJCUV2ZW50QnVzLiRvbigndXNlLWV2ZW50YnVzJywgY2FsSW5kZXggPT4gew0KDQoJCQlpZiAoY291bnQgIT0gMCkgew0KCQkJCXRoaXMuZGVsZXRlRigpOw0KCQkJfQ0KDQoJCQl0aGlzLmxhdCA9IGNhbEluZGV4LmxhdCAqIDE7DQoJCQl0aGlzLmxvZyA9IGNhbEluZGV4LmxvZyAqIDE7DQoJCQl0aGlzLnJhZGl1czIgPSBjYWxJbmRleC5yYWRpdXMgKiAxOw0KCQkJdGhpcy5sZXZlbCA9IGNhbEluZGV4LmNhbGxldmVsICsgIiI7DQoJCQl0aGlzLmNhbERhdGUgPSBjYWxJbmRleC5jYWxUaW1lOw0KCQkJdGhpcy50eXBlID0gY2FsSW5kZXguY2FsVHlwZTsNCgkJCXN3aXRjaCAodGhpcy5sZXZlbCkgew0KCQkJCWNhc2UgIjEiOg0KCQkJCQl2ZWN0b3JMYXllciA9IG5ldyBPcGVuTGF5ZXJzLkxheWVyLlZlY3RvcigiT3ZlcmxheSIsIHsNCgkJCQkJCXN0eWxlTWFwOiBuZXcgT3BlbkxheWVycy5TdHlsZU1hcCgNCgkJCQkJCQl0aGlzLnN0YW5kYXJkX3N0eWxlDQoJCQkJCQkpDQoJCQkJCX0pOw0KCQkJCQlicmVhazsNCgkJCQljYXNlICIyIjoNCgkJCQkJdmVjdG9yTGF5ZXIgPSBuZXcgT3BlbkxheWVycy5MYXllci5WZWN0b3IoIk92ZXJsYXkiLCB7DQoJCQkJCQlzdHlsZU1hcDogbmV3IE9wZW5MYXllcnMuU3R5bGVNYXAoDQoJCQkJCQkJdGhpcy5vcmFuZ2Vfc3R5bGUNCgkJCQkJCSkNCgkJCQkJfSk7DQoJCQkJCWJyZWFrOw0KCQkJCWNhc2UgIjMiOg0KCQkJCQl2ZWN0b3JMYXllciA9IG5ldyBPcGVuTGF5ZXJzLkxheWVyLlZlY3RvcigiT3ZlcmxheSIsIHsNCgkJCQkJCXN0eWxlTWFwOiBuZXcgT3BlbkxheWVycy5TdHlsZU1hcCgNCgkJCQkJCQl0aGlzLnllbGxvd19zdHlsZQ0KCQkJCQkJKQ0KCQkJCQl9KTsNCgkJCQkJYnJlYWs7DQoJCQkJY2FzZSAiNCI6DQoJCQkJCXZlY3RvckxheWVyID0gbmV3IE9wZW5MYXllcnMuTGF5ZXIuVmVjdG9yKCJPdmVybGF5Iiwgew0KCQkJCQkJc3R5bGVNYXA6IG5ldyBPcGVuTGF5ZXJzLlN0eWxlTWFwKA0KCQkJCQkJCXRoaXMuZ3JlZW5fc3R5bGUNCgkJCQkJCSkNCgkJCQkJfSk7DQoJCQkJCWJyZWFrOw0KCQkJfQ0KDQoJCQlzZWdtZW50TGF5ZXIgPSBuZXcgT3BlbkxheWVycy5MYXllci5WZWN0b3IoInNlZ21lbnRsYXkiLCB7DQoJCQkJc3R5bGVNYXA6IG5ldyBPcGVuTGF5ZXJzLlN0eWxlTWFwKA0KCQkJCQl0aGlzLnNlZ21lbnRfc3R5bGUNCgkJCQkpDQoJCQl9KTsNCgkJCXRoaXMuZHJhd01haW5DaXJjbGUoKTsNCgkJCS8vdGhpcy5kcmF3TWFpbk1hcmtlcigpOw0KCQkJY291bnQrKzsNCgkJfSk7DQoJCUV2ZW50QnVzLiRvbigndXNlLWV2ZW50YnVzLXV1aWRUZXN0JywgdXVpZExpc3QgPT4gew0KCQkJdGhpcy51dWlkQ291bnQgKz0gMQ0KCQkJdXVpZEZlYXR1cmVzID0gbmV3IEFycmF5KCk7DQoJCQlmb3IgKHZhciBpID0gMDsgaSA8IHV1aWRMaXN0Lmxlbmd0aDsgaSsrKSB7DQoJCQkJdmFyIHV1aWRpbmRleCA9IHsNCgkJCQkJeDogdXVpZExpc3RbaV0udXVpZFgsDQoJCQkJCXk6IHV1aWRMaXN0W2ldLnV1aWRZLA0KCQkJCQl1dWlkY29udGFpbkNhbDogMCwNCgkJCQkJdXVpZGNvbnRhaW5zZWc6IC0xLA0KCQkJCQl1dWlkOiB1dWlkTGlzdFtpXS51dWlkSWQNCgkJCQl9DQoJCQkJdXVpZEZlYXR1cmVzLnB1c2godXVpZGluZGV4KTsNCgkJCX0NCg0KCQkJdGhpcy5kcmF3VVVJRCh1dWlkRmVhdHVyZXMpOw0KCQl9KTsNCg0KCX0sDQoJbW91bnRlZCgpIHsNCgkJdGhpcy51cGRhdGVUaW1lKCk7DQoJCXRoaXMuaW5pdCgpOw0KCX0sDQoJY29tcHV0ZWQ6IHt9LA0KCW1ldGhvZHM6IHsNCgkJaW5pdCgpIHsNCgkJCW1hcCA9IG5ldyBuZ2lpX3dtdHMubWFwKCJtYXAxIiwgew0KCQkJCWNvbnRyb2xzOiBbXSwNCgkJCQlwcm9qZWN0aW9uOiAiRVBTRzo1MTc5IiwNCgkJCQljZW50ZXI6IG5ldyBPcGVuTGF5ZXJzLkxvbkxhdCgxMDk5NDcyLjc5NjUyLCAxNzY0NDI3LjY4Mzk5KSwNCgkJCQl6b29tOiA3LA0KCQkJCW51bVpvb21MZXZlbHM6IDIxLA0KCQkJCWV2ZW50TGlzdGVuZXJzOiB7DQoJCQkJCWZlYXR1cmVjbGljazogZnVuY3Rpb24gKGUpIHsNCgkJCQkJCWlmIChlLmZlYXR1cmUubGF5ZXIubmFtZSA9PSAnc2VnbWVudGxheScpIHsNCgkJCQkJCQllLmZlYXR1cmUucmVuZGVySW50ZW50ID0gInNlbGVjdCI7DQoJCQkJCQkJdmFyIGogPSAwOw0KCQkJCQkJCWZvciAoaiA9IDA7IGogPCBzZWdtZW50TGlzdC5sZW5ndGg7IGorKykgew0KCQkJCQkJCQlpZiAoc2VnbWVudExpc3Rbal0uc2VnSWQgPT0gZS5mZWF0dXJlLmlkKSB7DQoJCQkJCQkJCQkvL+2VtOuLuSDshLjqt7jrqLztirjsl5Ag66qH66qF7J20IOyeiOuKlOyngCDtmZXsnbggDQoJCQkJCQkJCQlpZiAocG9wdXApIHsNCgkJCQkJCQkJCQltYXAucmVtb3ZlUG9wdXAocG9wdXApDQoJCQkJCQkJCQl9DQoJCQkJCQkJCQl2YXIgc2VnY29kZSA9IGUuZmVhdHVyZS5pZC5zcGxpdCgnXycpOw0KCQkJCQkJCQkJdmFyIGNvdW50dXVpZCA9IDA7DQoNCgkJCQkJCQkJCWZvciAodmFyIGwgPSAwOyBsIDwgdXVpZEZlYXR1cmVzLmxlbmd0aDsgbCsrKSB7DQoNCgkJCQkJCQkJCQlpZiAodXVpZEZlYXR1cmVzW2xdLnV1aWRjb250YWluc2VnID09IHNlZ21lbnRMaXN0W2pdLnNlZ0lkKQ0KCQkJCQkJCQkJCQljb3VudHV1aWQrKw0KCQkJCQkJCQkJfQ0KCQkJCQkJCQkJdmFyIHBvcHVwbG9jYXRpb24gPSBuZXcgT3BlbkxheWVycy5Mb25MYXQoc2VnbWVudExpc3Rbal0uc2VnTGF0LCBzZWdtZW50TGlzdFtqXS5zZWdMb2cpDQoJCQkJCQkJCQlwb3B1cCA9IG5ldyBPcGVuTGF5ZXJzLlBvcHVwKCJjaGlja2VuIiwNCgkJCQkJCQkJCQlwb3B1cGxvY2F0aW9uLA0KCQkJCQkJCQkJCW5ldyBPcGVuTGF5ZXJzLlNpemUoMjAwLCA2MCksDQoJCQkJCQkJCQkJIuyEuOq3uOuovO2KuCDrsojtmLggOiIgKyBzZWdjb2RlWzNdICsgIjxicj4iICsgJzxkaXYgc3R5bGU9ImNvbG9yOiNGRjAwMDAiPu2PrO2VqCDsnbjsm5AgOiAgICcgKyBjb3VudHV1aWQgKyAi66qFIiwgdHJ1ZSk7DQoNCgkJCQkJCQkJCW1hcC5hZGRQb3B1cChwb3B1cCk7DQoNCgkJCQkJCQkJfQ0KCQkJCQkJCX0NCgkJCQkJCX0NCgkJCQkJfQ0KDQoJCQkJfQ0KCQkJfSk7DQoNCgkJCS8v7KeA64+EIOqwneyytCDsg53shLEgDQoJCQltYXAuYWRkQ29udHJvbChuZXcgT3BlbkxheWVycy5Db250cm9sLlBhblpvb21CYXIoKSk7DQoJCQltYXAuYWRkQ29udHJvbChuZXcgT3BlbkxheWVycy5Db250cm9sLk1vdXNlUG9zaXRpb24oKSk7DQoJCQltYXAuYWRkQ29udHJvbChuZXcgT3BlbkxheWVycy5Db250cm9sLk92ZXJ2aWV3TWFwKCkpOw0KCQkJbWFwLmFkZENvbnRyb2wobmV3IE9wZW5MYXllcnMuQ29udHJvbC5LZXlib2FyZERlZmF1bHRzKCkpOw0KDQoJCQl2YXIgY29udHJvbCA9IG5ldyBPcGVuTGF5ZXJzLkNvbnRyb2woKTsNCgkJCU9wZW5MYXllcnMuVXRpbC5leHRlbmQoY29udHJvbCwgew0KCQkJCWRyYXc6IGZ1bmN0aW9uICgpIHsNCgkJCQkJLy8gdGhpcyBIYW5kbGVyLkJveCB3aWxsIGludGVyY2VwdCB0aGUgc2hpZnQtbW91c2Vkb3duDQoJCQkJCS8vIGJlZm9yZSBDb250cm9sLk1vdXNlRGVmYXVsdCBnZXRzIHRvIHNlZSBpdA0KCQkJCQl0aGlzLmJveCA9IG5ldyBPcGVuTGF5ZXJzLkhhbmRsZXIuQm94KGNvbnRyb2wsIHsNCgkJCQkJCSJkb25lIjogdGhpcy5ub3RpY2UNCgkJCQkJfSwgew0KCQkJCQkJa2V5TWFzazogT3BlbkxheWVycy5IYW5kbGVyLk1PRF9TSElGVA0KCQkJCQl9KTsNCgkJCQkJdGhpcy5ib3guYWN0aXZhdGUoKTsNCgkJCQl9LA0KCQkJCW5vdGljZTogZnVuY3Rpb24gKGJvdW5kcykgew0KCQkJCQlPcGVuTGF5ZXJzLkNvbnNvbGUudXNlckVycm9yKGJvdW5kcyk7DQoJCQkJfQ0KCQkJfSk7DQoJCQltYXAuYWRkQ29udHJvbChjb250cm9sKTsNCg0KDQoJCQkvL21hcC5jb250cm9sc1sxXS5kaXNhYmxlWm9vbVdoZWVsKCk7IC8vIGRpc2FibGUgdGhlIG9yaWdpbmFsIGJlaGF2aW9yIG9mDQoNCgkJCS8vY3JlYXRlIGEgbmV3IGNvbnRyb2wvLw0KDQoJCQl2YXIgbW91c2V3aGVlbCA9IG5ldyBPcGVuTGF5ZXJzLkNvbnRyb2woKTsNCgkJCU9wZW5MYXllcnMuVXRpbC5leHRlbmQobW91c2V3aGVlbCwgew0KCQkJCS8vIFRoZSBkcmF3IG1ldGhvZCBpcyBjYWxsZWQgd2hlbiB0aGUgY29udHJvbCBpcyBpbml0aWFsaXplZA0KCQkJCWRyYXc6IGZ1bmN0aW9uICgpIHsNCgkJCQkJdGhpcy5tb3VzZSA9IG5ldyBPcGVuTGF5ZXJzLkhhbmRsZXIuTW91c2VXaGVlbChtb3VzZXdoZWVsLCB7DQoJCQkJCQkidXAiOiBtb3VzZVVwLA0KCQkJCQkJImRvd24iOiBtb3VzZURvd24NCgkJCQkJfSk7DQoJCQkJCXRoaXMubW91c2UuYWN0aXZhdGUoKTsNCgkJCQl9DQoJCQl9KTsNCg0KCQkJLy9hZGQgbmV3IGNvbnRyb2wNCgkJCW1hcC5hZGRDb250cm9sKG1vdXNld2hlZWwpOw0KCQkJLy8gY2hhbmdlIGJlaGF2aW9yIG9mIG1vdXNlIHdoZWVsIGZ1bmN0aW9ucw0KCQkJZnVuY3Rpb24gbW91c2VVcCgpIHsNCgkJCQltYXAuem9vbVRvKG1hcC56b29tICsgMSk7DQoJCQl9DQoNCgkJCWZ1bmN0aW9uIG1vdXNlRG93bigpIHsNCgkJCQlpZiAobWFwLnpvb20gPiAxMCkgew0KCQkJCQltYXAuem9vbVRvKG1hcC56b29tIC0gMSk7DQoJCQkJfQ0KCQkJfQ0KDQoJCQl1c2VyTWFya2VycyA9IG5ldyBPcGVuTGF5ZXJzLkxheWVyLk1hcmtlcnMoInVzZXJNYXJrZXJzIik7DQoNCgkJfSwNCg0KCQlkcmF3TWFpbkNpcmNsZSgpIHsNCgkJCXZhciB4ID0gdGhpcy5sYXQ7DQoJCQl2YXIgeSA9IHRoaXMubG9nOw0KCQkJdmFyIGxlbmd0aCA9IDA7DQoJCQl2YXIgY291bnQgPSAwOw0KCQkJLy/qsIDsnqUg7YGwIOyerOuCnCDsm5AgDQoJCQl2YXIgcG9pbnQgPSBuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCh4LCB5KTsNCgkJCXZhciBtYWluQ2lyY2xlID0gT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uLmNyZWF0ZVJlZ3VsYXJQb2x5Z29uKHBvaW50LCB0aGlzLnJhZGl1czIsIDM2LCAwKTsNCgkJCXZhciBtYWluRmVhdHVyZSA9IG5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKG1haW5DaXJjbGUpOw0KCQkJY29uc29sZS5sb2coIk1hcCBzYXlzOiAiICsgbWFpbkZlYXR1cmUuaWQpOw0KCQkJdmVjdG9yTGF5ZXIuYWRkRmVhdHVyZXMobWFpbkZlYXR1cmUpDQoNCgkJCXRoaXMuY2FsY291bnQgKz0gMTsNCgkJCXZhciBjYWxhbWl0eUluZGV4ID0gew0KCQkJCWNhbGNvdW50OiB0aGlzLmNhbGNvdW50LA0KCQkJCWNhbElkOiBtYWluRmVhdHVyZS5pZCwNCgkJCQltYWlubGF0OiB4LA0KCQkJCW1haW5sb2c6IHksDQoJCQkJbWFpbnJhZGl1czogdGhpcy5yYWRpdXMyLA0KCQkJCW1haW5sZXZlbDogdGhpcy5sZXZlbCwNCgkJCQltYWluVHlwZTogdGhpcy50eXBlLA0KCQkJCWNhbG1lc3NhZ2U6ICJtIg0KCQkJfQ0KCQkJY2FsYW1pdHlMaXN0LnB1c2goY2FsYW1pdHlJbmRleCkNCg0KCQkJLy8g6riw67O4IOyEuOq3uOuovO2KuCAwLjAg7JeQIOyeiOuKlOqxsCDqt7jrpqzquLANCgkJCXZhciBteUNpcmNsZSA9IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbi5jcmVhdGVSZWd1bGFyUG9seWdvbihwb2ludCwgc2VnbWVudFJhZGl1cywgMzYsIDApOw0KCQkJdmFyIGZlYXR1cmVDaXJjbGUgPSBuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihteUNpcmNsZSk7DQoJCQlzZWdtZW50TGF5ZXIuYWRkRmVhdHVyZXMoZmVhdHVyZUNpcmNsZSkNCgkJCXRoaXMuaW5wdXRTZWdtZW50SW5MaXN0KG1haW5GZWF0dXJlLmlkLCB4LCB5LCBmZWF0dXJlQ2lyY2xlLmlkKQ0KCQkJc2VnbWVudEZlYXR1cmVzLnB1c2goZmVhdHVyZUNpcmNsZSkNCg0KCQkJdmFyIHljb3VudCA9IDANCgkJCXdoaWxlICh0cnVlKSB7DQoJCQkJaWYgKHljb3VudCA9PSAwKSB7DQoJCQkJCXdoaWxlICh0cnVlKSB7DQoJCQkJCQlsZW5ndGggKz0gMTcxLjU7DQoJCQkJCQkvL+uKmOyWtOuCmOuKlCDquLjsnbTqsIAg66Oo7Yq4M+unjO2BvCDripjslrTrgpzri6QuDQoJCQkJCQl2YXIgcG9pbnQgPSBuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCh4ICsgbGVuZ3RoLCB0aGlzLmxvZyk7DQoJCQkJCQl2YXIgbXlDaXJjbGUgPSBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24uY3JlYXRlUmVndWxhclBvbHlnb24ocG9pbnQsIHNlZ21lbnRSYWRpdXMsIDM2LCAwKTsNCgkJCQkJCXZhciBmZWF0dXJlQ2lyY2xlID0gbmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobXlDaXJjbGUpOw0KCQkJCQkJaWYgKCFteUNpcmNsZS5pbnRlcnNlY3RzKG1haW5DaXJjbGUpKSBicmVhazsNCgkJCQkJCXNlZ21lbnRMYXllci5hZGRGZWF0dXJlcyhmZWF0dXJlQ2lyY2xlKQ0KCQkJCQkJdGhpcy5pbnB1dFNlZ21lbnRJbkxpc3QobWFpbkZlYXR1cmUuaWQsIHggKyBsZW5ndGgsIHRoaXMubG9nLCBmZWF0dXJlQ2lyY2xlLmlkKQ0KCQkJCQkJc2VnbWVudEZlYXR1cmVzLnB1c2goZmVhdHVyZUNpcmNsZSkNCgkJCQkJCS8vdGhpcy5pbnB1dFNlZ21lbnRJbkxpc3QodGhpcy5jYWxjb3VudCx4ICsgbGVuZ3RoLHRoaXMubG9nKQ0KCQkJCQkJdmFyIG1pbnVzcG9pbnQgPSBuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCh4IC0gbGVuZ3RoLCB0aGlzLmxvZyk7DQoJCQkJCQl2YXIgbWludXNteUNpcmNsZSA9IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbi5jcmVhdGVSZWd1bGFyUG9seWdvbihtaW51c3BvaW50LCBzZWdtZW50UmFkaXVzLCAzNiwgMCk7DQoJCQkJCQl2YXIgZmVhdHVyZUNpcmNsZSA9IG5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKG1pbnVzbXlDaXJjbGUpOw0KCQkJCQkJc2VnbWVudExheWVyLmFkZEZlYXR1cmVzKGZlYXR1cmVDaXJjbGUpDQoJCQkJCQl0aGlzLmlucHV0U2VnbWVudEluTGlzdChtYWluRmVhdHVyZS5pZCwgeCAtIGxlbmd0aCwgdGhpcy5sb2csIGZlYXR1cmVDaXJjbGUuaWQpDQoJCQkJCQlzZWdtZW50RmVhdHVyZXMucHVzaChmZWF0dXJlQ2lyY2xlKQ0KCQkJCQkJLy90aGlzLmlucHV0U2VnbWVudEluTGlzdCh0aGlzLmNhbGNvdW50LHggLSBsZW5ndGgsdGhpcy5sb2cpDQoJCQkJCX0gLy/quLDrs7jsnbQg65CY64qUIOyEoOydhCDtlZjrgpgg6re466aw64ukLg0KCQkJCQl5Y291bnQgPSAxOw0KCQkJCQlsZW5ndGggPSAwOw0KCQkJCX0gZWxzZSB7DQoJCQkJCXkgKz0gMzAwDQoJCQkJCXZhciBwb2ludCA9IG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KHgsIHkpOw0KCQkJCQl2YXIgbXlDaXJjbGUgPSBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24uY3JlYXRlUmVndWxhclBvbHlnb24ocG9pbnQsIHNlZ21lbnRSYWRpdXMsIDM2LCAwKTsNCgkJCQkJdmFyIGZlYXR1cmVDaXJjbGUgPSBuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihteUNpcmNsZSk7DQoNCgkJCQkJaWYgKCFteUNpcmNsZS5pbnRlcnNlY3RzKG1haW5DaXJjbGUpKSBicmVhazsNCgkJCQkJLy/rpqzsiqTtirjsl5Ag7KeR7Ja0IOuEo+q4sA0KCQkJCQlzZWdtZW50TGF5ZXIuYWRkRmVhdHVyZXMoZmVhdHVyZUNpcmNsZSkNCgkJCQkJdGhpcy5pbnB1dFNlZ21lbnRJbkxpc3QobWFpbkZlYXR1cmUuaWQsIHgsIHksIGZlYXR1cmVDaXJjbGUuaWQpDQoJCQkJCXNlZ21lbnRGZWF0dXJlcy5wdXNoKGZlYXR1cmVDaXJjbGUpDQoNCgkJCQkJdmFyIHJldmVyc2VZID0gdGhpcy5sb2cgLSAoeSAtIHRoaXMubG9nKQ0KCQkJCQl2YXIgbWludXNwb2ludCA9IG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KHgsIHJldmVyc2VZKTsNCgkJCQkJdmFyIG1pbnVzbXlDaXJjbGUgPSBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24uY3JlYXRlUmVndWxhclBvbHlnb24obWludXNwb2ludCwgc2VnbWVudFJhZGl1cywgMzYsIDApOw0KCQkJCQl2YXIgZmVhdHVyZUNpcmNsZSA9IG5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKG1pbnVzbXlDaXJjbGUpOw0KCQkJCQlzZWdtZW50TGF5ZXIuYWRkRmVhdHVyZXMoZmVhdHVyZUNpcmNsZSkNCg0KCQkJCQl0aGlzLmlucHV0U2VnbWVudEluTGlzdChtYWluRmVhdHVyZS5pZCwgeCwgcmV2ZXJzZVksIGZlYXR1cmVDaXJjbGUuaWQpDQoJCQkJCXNlZ21lbnRGZWF0dXJlcy5wdXNoKGZlYXR1cmVDaXJjbGUpDQoJCQkJCXljb3VudCsrDQoJCQkJCS8veey2leycvOuhnCArLSDrpbwg7KuZIOq3uOumrOqzoCANCgkJCQkJd2hpbGUgKHRydWUpIHsNCgkJCQkJCS8v6re4IHnstpXsnYQg6rCA7KeA6rOgIHjstpXsnYQg6re466aw64ukLg0KCQkJCQkJbGVuZ3RoICs9IDE3MS41Ow0KCQkJCQkJdmFyIHBvaW50ID0gbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoeCArIGxlbmd0aCwgeSk7DQoJCQkJCQl2YXIgbXlDaXJjbGUgPSBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24uY3JlYXRlUmVndWxhclBvbHlnb24ocG9pbnQsIHNlZ21lbnRSYWRpdXMsIDM2LCAwKTsNCgkJCQkJCXZhciBmZWF0dXJlQ2lyY2xlID0gbmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobXlDaXJjbGUpOw0KCQkJCQkJaWYgKCFtYWluQ2lyY2xlLmludGVyc2VjdHMobXlDaXJjbGUpKSBicmVhazsNCgkJCQkJCXNlZ21lbnRMYXllci5hZGRGZWF0dXJlcyhmZWF0dXJlQ2lyY2xlKQ0KDQoJCQkJCQl0aGlzLmlucHV0U2VnbWVudEluTGlzdChtYWluRmVhdHVyZS5pZCwgeCArIGxlbmd0aCwgeSwgZmVhdHVyZUNpcmNsZS5pZCkNCgkJCQkJCXNlZ21lbnRGZWF0dXJlcy5wdXNoKGZlYXR1cmVDaXJjbGUpDQoJCQkJCQl2YXIgbWludXNwb2ludCA9IG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KHggLSBsZW5ndGgsIHkpOw0KCQkJCQkJdmFyIG1pbnVzbXlDaXJjbGUgPSBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24uY3JlYXRlUmVndWxhclBvbHlnb24obWludXNwb2ludCwgc2VnbWVudFJhZGl1cywgMzYsIDApOw0KCQkJCQkJdmFyIGZlYXR1cmVDaXJjbGUgPSBuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihtaW51c215Q2lyY2xlKTsNCgkJCQkJCXNlZ21lbnRMYXllci5hZGRGZWF0dXJlcyhmZWF0dXJlQ2lyY2xlKQ0KDQoJCQkJCQl0aGlzLmlucHV0U2VnbWVudEluTGlzdChtYWluRmVhdHVyZS5pZCwgeCAtIGxlbmd0aCwgeSwgZmVhdHVyZUNpcmNsZS5pZCkNCgkJCQkJCXNlZ21lbnRGZWF0dXJlcy5wdXNoKGZlYXR1cmVDaXJjbGUpDQoJCQkJCQl2YXIgcG9pbnQgPSBuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCh4ICsgbGVuZ3RoLCByZXZlcnNlWSk7DQoJCQkJCQl2YXIgbXlDaXJjbGUgPSBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24uY3JlYXRlUmVndWxhclBvbHlnb24ocG9pbnQsIHNlZ21lbnRSYWRpdXMsIDM2LCAwKTsNCgkJCQkJCXZhciBmZWF0dXJlQ2lyY2xlID0gbmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobXlDaXJjbGUpOw0KDQoJCQkJCQlzZWdtZW50TGF5ZXIuYWRkRmVhdHVyZXMoZmVhdHVyZUNpcmNsZSkNCgkJCQkJCXRoaXMuaW5wdXRTZWdtZW50SW5MaXN0KG1haW5GZWF0dXJlLmlkLCB4ICsgbGVuZ3RoLCByZXZlcnNlWSwgZmVhdHVyZUNpcmNsZS5pZCkNCgkJCQkJCXNlZ21lbnRGZWF0dXJlcy5wdXNoKGZlYXR1cmVDaXJjbGUpDQoJCQkJCQl2YXIgbWludXNwb2ludCA9IG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KHggLSBsZW5ndGgsIHJldmVyc2VZKTsNCgkJCQkJCXZhciBtaW51c215Q2lyY2xlID0gT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uLmNyZWF0ZVJlZ3VsYXJQb2x5Z29uKG1pbnVzcG9pbnQsIHNlZ21lbnRSYWRpdXMsIDM2LCAwKTsNCgkJCQkJCXZhciBmZWF0dXJlQ2lyY2xlID0gbmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobWludXNteUNpcmNsZSk7DQoJCQkJCQlzZWdtZW50TGF5ZXIuYWRkRmVhdHVyZXMoZmVhdHVyZUNpcmNsZSkNCg0KCQkJCQkJdGhpcy5pbnB1dFNlZ21lbnRJbkxpc3QobWFpbkZlYXR1cmUuaWQsIHggLSBsZW5ndGgsIHJldmVyc2VZLCBmZWF0dXJlQ2lyY2xlLmlkKQ0KCQkJCQkJc2VnbWVudEZlYXR1cmVzLnB1c2goZmVhdHVyZUNpcmNsZSkNCgkJCQkJfQ0KCQkJCQlsZW5ndGggPSAwOw0KCQkJCX0NCgkJCX0NCg0KCQkJdmFyIHggPSB0aGlzLmxhdDsNCgkJCXZhciB5ID0gdGhpcy5sb2c7DQoNCgkJCXZhciBsZW5ndGggPSAwOw0KCQkJdmFyIHlsZW5ndGggPSAxNTA7DQoJCQl2YXIgY291bnQgPSAwOw0KDQoJCQl3aGlsZSAodHJ1ZSkgew0KCQkJCWlmIChjb3VudCA9PSAwKSB7DQoJCQkJCXZhciBwb2ludDIgPSBuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCh4ICsgKDE3MS41IC8gMiksIHkgKyAxNTApOw0KCQkJCQl2YXIgbXlDaXJjbGUgPSBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24uY3JlYXRlUmVndWxhclBvbHlnb24ocG9pbnQyLCBzZWdtZW50UmFkaXVzLCAzNiwgMCk7DQoJCQkJCXZhciBmZWF0dXJlQ2lyY2xlID0gbmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobXlDaXJjbGUpOw0KDQoJCQkJCWlmICghbXlDaXJjbGUuaW50ZXJzZWN0cyhtYWluQ2lyY2xlKSkgYnJlYWs7DQoJCQkJCXNlZ21lbnRMYXllci5hZGRGZWF0dXJlcyhmZWF0dXJlQ2lyY2xlKQ0KDQoJCQkJCXRoaXMuaW5wdXRTZWdtZW50SW5MaXN0KG1haW5GZWF0dXJlLmlkLCB4ICsgKDE3MS41IC8gMiksIHkgKyAxNTAsIGZlYXR1cmVDaXJjbGUuaWQpDQoJCQkJCXNlZ21lbnRGZWF0dXJlcy5wdXNoKGZlYXR1cmVDaXJjbGUpDQoNCgkJCQkJdmFyIHBvaW50MyA9IG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KHggLSAoMTcxLjUgLyAyKSwgeSArIDE1MCk7DQoJCQkJCXZhciBteUNpcmNsZSA9IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbi5jcmVhdGVSZWd1bGFyUG9seWdvbihwb2ludDMsIHNlZ21lbnRSYWRpdXMsIDM2LCAwKTsNCgkJCQkJdmFyIGZlYXR1cmVDaXJjbGUgPSBuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihteUNpcmNsZSk7DQoJCQkJCXNlZ21lbnRMYXllci5hZGRGZWF0dXJlcyhmZWF0dXJlQ2lyY2xlKQ0KCQkJCQl0aGlzLmlucHV0U2VnbWVudEluTGlzdChtYWluRmVhdHVyZS5pZCwgeCAtICgxNzEuNSAvIDIpLCB5ICsgMTUwLCBmZWF0dXJlQ2lyY2xlLmlkKQ0KCQkJCQlzZWdtZW50RmVhdHVyZXMucHVzaChmZWF0dXJlQ2lyY2xlKQ0KDQoJCQkJCXZhciBwb2ludDIgPSBuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCh4ICsgKDE3MS41IC8gMiksIHkgLSAxNTApOw0KCQkJCQl2YXIgbXlDaXJjbGUgPSBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24uY3JlYXRlUmVndWxhclBvbHlnb24ocG9pbnQyLCBzZWdtZW50UmFkaXVzLCAzNiwgMCk7DQoJCQkJCXZhciBmZWF0dXJlQ2lyY2xlID0gbmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobXlDaXJjbGUpOw0KCQkJCQlzZWdtZW50TGF5ZXIuYWRkRmVhdHVyZXMoZmVhdHVyZUNpcmNsZSkNCgkJCQkJdGhpcy5pbnB1dFNlZ21lbnRJbkxpc3QobWFpbkZlYXR1cmUuaWQsIHggKyAoMTcxLjUgLyAyKSwgeSAtIDE1MCwgZmVhdHVyZUNpcmNsZS5pZCkNCgkJCQkJc2VnbWVudEZlYXR1cmVzLnB1c2goZmVhdHVyZUNpcmNsZSkNCg0KCQkJCQl2YXIgcG9pbnQzID0gbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoeCAtICgxNzEuNSAvIDIpLCB5IC0gMTUwKTsNCgkJCQkJdmFyIG15Q2lyY2xlID0gT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uLmNyZWF0ZVJlZ3VsYXJQb2x5Z29uKHBvaW50Mywgc2VnbWVudFJhZGl1cywgMzYsIDApOw0KCQkJCQl2YXIgZmVhdHVyZUNpcmNsZSA9IG5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKG15Q2lyY2xlKTsNCgkJCQkJc2VnbWVudExheWVyLmFkZEZlYXR1cmVzKGZlYXR1cmVDaXJjbGUpDQoJCQkJCXRoaXMuaW5wdXRTZWdtZW50SW5MaXN0KG1haW5GZWF0dXJlLmlkLCB4IC0gKDE3MS41IC8gMiksIHkgLSAxNTAsIGZlYXR1cmVDaXJjbGUuaWQpDQoJCQkJCXNlZ21lbnRGZWF0dXJlcy5wdXNoKGZlYXR1cmVDaXJjbGUpDQoNCgkJCQkJdmFyIHlwbHVzcG9pbnQgPSB5ICsgeWxlbmd0aA0KCQkJCQl2YXIgeW1pbnVzcG9pbnQgPSB5IC0geWxlbmd0aA0KCQkJCQl2YXIgcGx1c3ggPSB4ICsgKDE3MS41IC8gMik7DQoJCQkJCXZhciBtaW51c3ggPSB4IC0gKDE3MS41IC8gMik7DQoJCQkJCXdoaWxlICh0cnVlKSB7DQoJCQkJCQkvL+q3uCB57LaV7J2EIOqwgOyngOqzoCB47LaV7J2EIOq3uOumsOuLpC4NCgkJCQkJCWxlbmd0aCArPSAxNzEuNTsNCgkJCQkJCXZhciBwb2ludCA9IG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KHBsdXN4ICsgbGVuZ3RoLCB5cGx1c3BvaW50KTsNCgkJCQkJCXZhciBteUNpcmNsZSA9IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbi5jcmVhdGVSZWd1bGFyUG9seWdvbihwb2ludCwgc2VnbWVudFJhZGl1cywgMzYsIDApOw0KCQkJCQkJdmFyIGZlYXR1cmVDaXJjbGUgPSBuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihteUNpcmNsZSk7DQoJCQkJCQlpZiAoIW1haW5DaXJjbGUuaW50ZXJzZWN0cyhteUNpcmNsZSkpIGJyZWFrOw0KCQkJCQkJc2VnbWVudExheWVyLmFkZEZlYXR1cmVzKGZlYXR1cmVDaXJjbGUpDQoNCgkJCQkJCXRoaXMuaW5wdXRTZWdtZW50SW5MaXN0KG1haW5GZWF0dXJlLmlkLCBwbHVzeCArIGxlbmd0aCwgeXBsdXNwb2ludCwgZmVhdHVyZUNpcmNsZS5pZCkNCgkJCQkJCXNlZ21lbnRGZWF0dXJlcy5wdXNoKGZlYXR1cmVDaXJjbGUpDQoJCQkJCQl2YXIgbWludXNwb2ludCA9IG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KG1pbnVzeCAtIGxlbmd0aCwgeXBsdXNwb2ludCk7DQoJCQkJCQl2YXIgbWludXNteUNpcmNsZSA9IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbi5jcmVhdGVSZWd1bGFyUG9seWdvbihtaW51c3BvaW50LCBzZWdtZW50UmFkaXVzLCAzNiwgMCk7DQoJCQkJCQl2YXIgZmVhdHVyZUNpcmNsZSA9IG5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKG1pbnVzbXlDaXJjbGUpOw0KCQkJCQkJc2VnbWVudExheWVyLmFkZEZlYXR1cmVzKGZlYXR1cmVDaXJjbGUpDQoNCgkJCQkJCXRoaXMuaW5wdXRTZWdtZW50SW5MaXN0KG1haW5GZWF0dXJlLmlkLCBtaW51c3ggLSBsZW5ndGgsIHlwbHVzcG9pbnQsIGZlYXR1cmVDaXJjbGUuaWQpDQoJCQkJCQlzZWdtZW50RmVhdHVyZXMucHVzaChmZWF0dXJlQ2lyY2xlKQ0KCQkJCQkJdmFyIHBvaW50ID0gbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQocGx1c3ggKyBsZW5ndGgsIHltaW51c3BvaW50KTsNCgkJCQkJCXZhciBteUNpcmNsZSA9IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbi5jcmVhdGVSZWd1bGFyUG9seWdvbihwb2ludCwgc2VnbWVudFJhZGl1cywgMzYsIDApOw0KCQkJCQkJdmFyIGZlYXR1cmVDaXJjbGUgPSBuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihteUNpcmNsZSk7DQoNCgkJCQkJCXNlZ21lbnRMYXllci5hZGRGZWF0dXJlcyhmZWF0dXJlQ2lyY2xlKQ0KDQoJCQkJCQl0aGlzLmlucHV0U2VnbWVudEluTGlzdChtYWluRmVhdHVyZS5pZCwgcGx1c3ggKyBsZW5ndGgsIHltaW51c3BvaW50LCBmZWF0dXJlQ2lyY2xlLmlkKQ0KCQkJCQkJc2VnbWVudEZlYXR1cmVzLnB1c2goZmVhdHVyZUNpcmNsZSkNCgkJCQkJCXZhciBtaW51c3BvaW50ID0gbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQobWludXN4IC0gbGVuZ3RoLCB5bWludXNwb2ludCk7DQoJCQkJCQl2YXIgbWludXNteUNpcmNsZSA9IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbi5jcmVhdGVSZWd1bGFyUG9seWdvbihtaW51c3BvaW50LCBzZWdtZW50UmFkaXVzLCAzNiwgMCk7DQoJCQkJCQl2YXIgZmVhdHVyZUNpcmNsZSA9IG5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKG1pbnVzbXlDaXJjbGUpOw0KCQkJCQkJc2VnbWVudExheWVyLmFkZEZlYXR1cmVzKGZlYXR1cmVDaXJjbGUpDQoNCgkJCQkJCXRoaXMuaW5wdXRTZWdtZW50SW5MaXN0KG1haW5GZWF0dXJlLmlkLCBtaW51c3ggLSBsZW5ndGgsIHltaW51c3BvaW50LCBmZWF0dXJlQ2lyY2xlLmlkKQ0KCQkJCQkJc2VnbWVudEZlYXR1cmVzLnB1c2goZmVhdHVyZUNpcmNsZSkNCgkJCQkJfQ0KCQkJCQlsZW5ndGggPSAwOw0KDQoNCgkJCQkJY291bnQrKzsNCgkJCQl9IGVsc2Ugew0KCQkJCQl5bGVuZ3RoICs9IDMwMA0KCQkJCQl2YXIgcG9pbnQyID0gbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoeCArICgxNzEuNSAvIDIpLCB5ICsgeWxlbmd0aCk7DQoJCQkJCXZhciBteUNpcmNsZSA9IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbi5jcmVhdGVSZWd1bGFyUG9seWdvbihwb2ludDIsIHNlZ21lbnRSYWRpdXMsIDM2LCAwKTsNCgkJCQkJdmFyIGZlYXR1cmVDaXJjbGUgPSBuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihteUNpcmNsZSk7DQoNCgkJCQkJaWYgKCFteUNpcmNsZS5pbnRlcnNlY3RzKG1haW5DaXJjbGUpKSBicmVhazsNCgkJCQkJc2VnbWVudExheWVyLmFkZEZlYXR1cmVzKGZlYXR1cmVDaXJjbGUpDQoNCgkJCQkJdGhpcy5pbnB1dFNlZ21lbnRJbkxpc3QobWFpbkZlYXR1cmUuaWQsIHggKyAoMTcxLjUgLyAyKSwgeSArIHlsZW5ndGgsIGZlYXR1cmVDaXJjbGUuaWQpDQoJCQkJCXNlZ21lbnRGZWF0dXJlcy5wdXNoKGZlYXR1cmVDaXJjbGUpDQoNCgkJCQkJdmFyIHBvaW50MyA9IG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KHggLSAoMTcxLjUgLyAyKSwgeSArIHlsZW5ndGgpOw0KCQkJCQl2YXIgbXlDaXJjbGUgPSBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24uY3JlYXRlUmVndWxhclBvbHlnb24ocG9pbnQzLCBzZWdtZW50UmFkaXVzLCAzNiwgMCk7DQoJCQkJCXZhciBmZWF0dXJlQ2lyY2xlID0gbmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobXlDaXJjbGUpOw0KCQkJCQlzZWdtZW50TGF5ZXIuYWRkRmVhdHVyZXMoZmVhdHVyZUNpcmNsZSkNCgkJCQkJdGhpcy5pbnB1dFNlZ21lbnRJbkxpc3QobWFpbkZlYXR1cmUuaWQsIHggLSAoMTcxLjUgLyAyKSwgeSArIHlsZW5ndGgsIGZlYXR1cmVDaXJjbGUuaWQpDQoJCQkJCXNlZ21lbnRGZWF0dXJlcy5wdXNoKGZlYXR1cmVDaXJjbGUpDQoNCgkJCQkJdmFyIHBvaW50MiA9IG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KHggKyAoMTcxLjUgLyAyKSwgeSAtIHlsZW5ndGgpOw0KCQkJCQl2YXIgbXlDaXJjbGUgPSBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24uY3JlYXRlUmVndWxhclBvbHlnb24ocG9pbnQyLCBzZWdtZW50UmFkaXVzLCAzNiwgMCk7DQoJCQkJCXZhciBmZWF0dXJlQ2lyY2xlID0gbmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobXlDaXJjbGUpOw0KCQkJCQlzZWdtZW50TGF5ZXIuYWRkRmVhdHVyZXMoZmVhdHVyZUNpcmNsZSkNCgkJCQkJdGhpcy5pbnB1dFNlZ21lbnRJbkxpc3QobWFpbkZlYXR1cmUuaWQsIHggKyAoMTcxLjUgLyAyKSwgeSAtIHlsZW5ndGgsIGZlYXR1cmVDaXJjbGUuaWQpDQoJCQkJCXNlZ21lbnRGZWF0dXJlcy5wdXNoKGZlYXR1cmVDaXJjbGUpDQoNCgkJCQkJdmFyIHBvaW50MyA9IG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KHggLSAoMTcxLjUgLyAyKSwgeSAtIHlsZW5ndGgpOw0KCQkJCQl2YXIgbXlDaXJjbGUgPSBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24uY3JlYXRlUmVndWxhclBvbHlnb24ocG9pbnQzLCBzZWdtZW50UmFkaXVzLCAzNiwgMCk7DQoJCQkJCXZhciBmZWF0dXJlQ2lyY2xlID0gbmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobXlDaXJjbGUpOw0KCQkJCQlzZWdtZW50TGF5ZXIuYWRkRmVhdHVyZXMoZmVhdHVyZUNpcmNsZSkNCgkJCQkJdGhpcy5pbnB1dFNlZ21lbnRJbkxpc3QobWFpbkZlYXR1cmUuaWQsIHggLSAoMTcxLjUgLyAyKSwgeSAtIHlsZW5ndGgsIGZlYXR1cmVDaXJjbGUuaWQpDQoJCQkJCXNlZ21lbnRGZWF0dXJlcy5wdXNoKGZlYXR1cmVDaXJjbGUpDQoJCQkJCS8v64yA6rCB7ISgIOychOy5mOyXkCDsnojripQg7JuQIOq3uOumrOq4sCANCgkJCQkJdmFyIHlwbHVzcG9pbnQgPSB5ICsgeWxlbmd0aA0KCQkJCQl2YXIgeW1pbnVzcG9pbnQgPSB5IC0geWxlbmd0aA0KCQkJCQl2YXIgcGx1c3ggPSB4ICsgKDE3MS41IC8gMik7DQoJCQkJCXZhciBtaW51c3ggPSB4IC0gKDE3MS41IC8gMik7DQoJCQkJCXdoaWxlICh0cnVlKSB7DQoJCQkJCQkvL+q3uCB57LaV7J2EIOqwgOyngOqzoCB47LaV7J2EIOq3uOumsOuLpC4NCgkJCQkJCWxlbmd0aCArPSAxNzEuNTsNCgkJCQkJCXZhciBwb2ludCA9IG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KHBsdXN4ICsgbGVuZ3RoLCB5cGx1c3BvaW50KTsNCgkJCQkJCXZhciBteUNpcmNsZSA9IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbi5jcmVhdGVSZWd1bGFyUG9seWdvbihwb2ludCwgc2VnbWVudFJhZGl1cywgMzYsIDApOw0KCQkJCQkJdmFyIGZlYXR1cmVDaXJjbGUgPSBuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihteUNpcmNsZSk7DQoJCQkJCQlpZiAoIW1haW5DaXJjbGUuaW50ZXJzZWN0cyhteUNpcmNsZSkpIGJyZWFrOw0KCQkJCQkJc2VnbWVudExheWVyLmFkZEZlYXR1cmVzKGZlYXR1cmVDaXJjbGUpDQoJCQkJCQl0aGlzLmlucHV0U2VnbWVudEluTGlzdChtYWluRmVhdHVyZS5pZCwgcGx1c3ggKyBsZW5ndGgsIHlwbHVzcG9pbnQsIGZlYXR1cmVDaXJjbGUuaWQpDQoJCQkJCQlzZWdtZW50RmVhdHVyZXMucHVzaChmZWF0dXJlQ2lyY2xlKQ0KDQoJCQkJCQl2YXIgbWludXNwb2ludCA9IG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KG1pbnVzeCAtIGxlbmd0aCwgeXBsdXNwb2ludCk7DQoJCQkJCQl2YXIgbWludXNteUNpcmNsZSA9IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbi5jcmVhdGVSZWd1bGFyUG9seWdvbihtaW51c3BvaW50LCBzZWdtZW50UmFkaXVzLCAzNiwgMCk7DQoJCQkJCQl2YXIgZmVhdHVyZUNpcmNsZSA9IG5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKG1pbnVzbXlDaXJjbGUpOw0KCQkJCQkJc2VnbWVudExheWVyLmFkZEZlYXR1cmVzKGZlYXR1cmVDaXJjbGUpDQoNCgkJCQkJCXRoaXMuaW5wdXRTZWdtZW50SW5MaXN0KG1haW5GZWF0dXJlLmlkLCBtaW51c3ggLSBsZW5ndGgsIHlwbHVzcG9pbnQsIGZlYXR1cmVDaXJjbGUuaWQpDQoJCQkJCQlzZWdtZW50RmVhdHVyZXMucHVzaChmZWF0dXJlQ2lyY2xlKQ0KCQkJCQkJdmFyIHBvaW50ID0gbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQocGx1c3ggKyBsZW5ndGgsIHltaW51c3BvaW50KTsNCgkJCQkJCXZhciBteUNpcmNsZSA9IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbi5jcmVhdGVSZWd1bGFyUG9seWdvbihwb2ludCwgc2VnbWVudFJhZGl1cywgMzYsIDApOw0KCQkJCQkJdmFyIGZlYXR1cmVDaXJjbGUgPSBuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihteUNpcmNsZSk7DQoJCQkJCQlzZWdtZW50TGF5ZXIuYWRkRmVhdHVyZXMoZmVhdHVyZUNpcmNsZSkNCgkJCQkJCXRoaXMuaW5wdXRTZWdtZW50SW5MaXN0KG1haW5GZWF0dXJlLmlkLCBwbHVzeCArIGxlbmd0aCwgeW1pbnVzcG9pbnQsIGZlYXR1cmVDaXJjbGUuaWQpDQoJCQkJCQlzZWdtZW50RmVhdHVyZXMucHVzaChmZWF0dXJlQ2lyY2xlKQ0KDQoJCQkJCQl2YXIgbWludXNwb2ludCA9IG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KG1pbnVzeCAtIGxlbmd0aCwgeW1pbnVzcG9pbnQpOw0KCQkJCQkJdmFyIG1pbnVzbXlDaXJjbGUgPSBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24uY3JlYXRlUmVndWxhclBvbHlnb24obWludXNwb2ludCwgc2VnbWVudFJhZGl1cywgMzYsIDApOw0KCQkJCQkJdmFyIGZlYXR1cmVDaXJjbGUgPSBuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihtaW51c215Q2lyY2xlKTsNCgkJCQkJCXNlZ21lbnRMYXllci5hZGRGZWF0dXJlcyhmZWF0dXJlQ2lyY2xlKQ0KCQkJCQkJdGhpcy5pbnB1dFNlZ21lbnRJbkxpc3QobWFpbkZlYXR1cmUuaWQsIG1pbnVzeCAtIGxlbmd0aCwgeW1pbnVzcG9pbnQsIGZlYXR1cmVDaXJjbGUuaWQpDQoJCQkJCQlzZWdtZW50RmVhdHVyZXMucHVzaChmZWF0dXJlQ2lyY2xlKQ0KCQkJCQl9DQoJCQkJCWxlbmd0aCA9IDA7DQoJCQkJfQ0KCQkJfQ0KDQoJCQltYXAuYWRkTGF5ZXIodmVjdG9yTGF5ZXIpOw0KCQkJbWFwLmFkZExheWVyKHNlZ21lbnRMYXllcik7DQoJCQl2YXIgcG9pbnRab29tID0gbmV3IE9wZW5MYXllcnMuTG9uTGF0KHRoaXMubGF0LCB0aGlzLmxvZykNCgkJCW1hcC5zZXRDZW50ZXIocG9pbnRab29tLCA4KQ0KDQoJCQkJdmFyIHNlZ21lbnRTZW5kaW5nTGlzdCA9IFtdOw0KDQoJCQkJLy/rp4jsu6Qg7YG066at7IucIOykkeuztSDsoJzqsbAg7ZWo7IiYDQoJCQkJZm9yICh2YXIgaiA9IDA7IGogPCBzZWdtZW50RmVhdHVyZXMubGVuZ3RoOyBqKyspIHsNCgkJCQkJaWYgKHNlZ21lbnRMaXN0W2pdLmNhbEluZGV4ID09IGNhbGFtaXR5SW5kZXguY2FsSWQpIHsNCgkJCQkJCS8vIFBvbHlnb24g7JWI7JeQIOuTpOyWtOyeiOuKlOyngCDslYjrk6TslrTsnojripTsp4Ag7YyQ64uo7ZWY64qUIOyhsOqxtOusuA0KCQkJCQkJZm9yICh2YXIgayA9IDA7IGsgPCB1dWlkRmVhdHVyZXMubGVuZ3RoOyBrKyspIHsNCgkJCQkJCQl2YXIgcCA9IG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KHV1aWRGZWF0dXJlc1trXS54LCB1dWlkRmVhdHVyZXNba10ueSk7DQoNCgkJCQkJCQlpZiAoc2VnbWVudEZlYXR1cmVzW2pdLmdlb21ldHJ5LmludGVyc2VjdHMocCkpIHsNCgkJCQkJCQkJaWYgKHV1aWRGZWF0dXJlc1trXS51dWlkY29udGFpbnNlZyA9PSAtMSkgew0KCQkJCQkJCQkJc2VnbWVudExpc3Rbal0uc2VnbWVudFVzZXJMaXN0LnB1c2godXVpZEZlYXR1cmVzW2tdLnV1aWQpDQoJCQkJCQkJCQl1dWlkRmVhdHVyZXNba10udXVpZGNvbnRhaW5zZWcgPSBzZWdtZW50TGlzdFtqXS5zZWdJZDsNCgkJCQkJCQkJCXNlZ21lbnRTZW5kaW5nTGlzdC5wdXNoKHNlZ21lbnRMaXN0W2pdKQ0KCQkJCQkJCQl9IGVsc2UgaWYgKHV1aWRGZWF0dXJlc1trXS51dWlkY29udGFpbnNlZyAhPSAtMSkgew0KCQkJCQkJCQkJZm9yICh2YXIgaCA9IDA7IGggPCBzZWdtZW50TGlzdC5sZW5ndGg7IGgrKykgew0KCQkJCQkJCQkJCWlmIChzZWdtZW50TGlzdFtoXS5zZWdJZCA9PSB1dWlkRmVhdHVyZXNba10udXVpZGNvbnRhaW5zZWcpIHsNCgkJCQkJCQkJCQkJLy/sm5Drnpgg65Ok7Ja07J6I642Y6rKMIOuLpOulvCDqsr3smrAgDQoJCQkJCQkJCQkJCWlmIChzZWdtZW50TGlzdFtqXS5zZWdtZW50ZnJvbWNhbGFtaXR5IDw9IHNlZ21lbnRMaXN0W2hdLnNlZ21lbnRmcm9tY2FsYW1pdHkpIHsNCgkJCQkJCQkJCQkJCXV1aWRGZWF0dXJlc1trXS51dWlkY29udGFpbnNlZyA9IHNlZ21lbnRMaXN0W2pdLnNlZ0lkOw0KCQkJCQkJCQkJCQl9DQoJCQkJCQkJCQkJfQ0KCQkJCQkJCQkJfQ0KCQkJCQkJCQl9DQoJCQkJCQkJfQ0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJfQ0KCQkJCQ0KCQkJCXZhciBjYWxhbWl0eUFsbGluZm8gPSB7DQoJCQkJCXRhcmdldFVzZXI6IDAsDQoJCQkJCWRhbmdlclVzZXI6IDAsDQoJCQkJCWxpdHRsZWRhbmdlclVzZXI6IDAsDQoJCQkJCW5vcm1hbFVzZXI6IDAsDQoJCQkJCXNhZmVVc2VyOiAwLA0KCQkJCQljYWxsYXQ6IGNhbGFtaXR5SW5kZXgubWFpbmxhdCwNCgkJCQkJY2FsbG9uOiBjYWxhbWl0eUluZGV4Lm1haW5sb2csDQoJCQkJCWNhbGRhdGU6IHRoaXMuY2FsRGF0ZSwNCgkJCQkJY2FsbGV2ZWw6IHRoaXMubGV2ZWwsDQoJCQkJCWNhbFR5cGU6IGNhbGFtaXR5SW5kZXgubWFpblR5cGUsDQoJCQkJCWNhbE51bWJlcjogdGhpcy5jYWxjb3VudCwNCgkJCQkJY2FsTWVzc2FnZUluZm86IGNhbGFtaXR5SW5kZXguY2FsbWVzc2FnZSwNCgkJCQkJdXVpZEFsbEluZm86IHV1aWRGZWF0dXJlcywNCgkJCQkJc2VnbWVudFNlbmRpbmdGZWF0dXJlOiBzZWdtZW50U2VuZGluZ0xpc3QNCgkJCQl9DQoNCg0KCQkJCUV2ZW50QnVzLiRlbWl0KCJjYWxhbWl0eS10ZXN0IiwgY2FsYW1pdHlBbGxpbmZvKQ0KDQoJCX0sDQoNCgkJLy8gZHJhd01haW5NYXJrZXIoKSB7DQoJCS8vIAltYXJrZXJzID0gbmV3IE9wZW5MYXllcnMuTGF5ZXIuTWFya2VycygiTWFya2VycyIpOw0KCQkvLyAJbWFwLmFkZExheWVyKG1hcmtlcnMpOw0KDQoJCS8vIAl2YXIgc2l6ZSA9IG5ldyBPcGVuTGF5ZXJzLlNpemUoMjEsIDI1KTsNCgkJLy8gCXZhciBvZmZzZXQgPSBuZXcgT3BlbkxheWVycy5QaXhlbCgtKHNpemUudyAvIDIpLCAtc2l6ZS5oKTsNCgkJLy8gCXZhciBpY29uID0gbmV3IE9wZW5MYXllcnMuSWNvbihtYXBtYXJrZXJwbmcsIHNpemUsIG9mZnNldCk7DQoJCS8vIAltYXJrZXJzLmFkZE1hcmtlcihuZXcgT3BlbkxheWVycy5NYXJrZXIobmV3IE9wZW5MYXllcnMuTG9uTGF0KHRoaXMubGF0LCB0aGlzLmxvZyksIGljb24pKTsNCg0KCQkvLyAJdmFyIG1hcmtlcmluZGV4ID0gew0KCQkvLyAJCW1hcmtlcmluY2FsYW1pdHk6IHRoaXMuY2FsY291bnQsDQoJCS8vIAkJbWFya2Vyc1g6IHRoaXMubGF0LA0KCQkvLyAJCW1hcmtlcnNZOiB0aGlzLmxvZw0KDQoJCS8vIAl9DQoJCS8vIAl0aGlzLm1hcmtlckZlYXR1cmVzLnB1c2gobWFya2VyaW5kZXgpOw0KCQkvLyAJbWFya2Vycy5ldmVudHMucmVnaXN0ZXIoImNsaWNrIiwgbWFya2VycywgZnVuY3Rpb24gKGUpIHsNCgkJLy8gCQl2YXIgY2FsSWQgPSAwOw0KCQkvLyAJCXZhciBjYWxhbWl0eXJhZGl1cyA9IDA7DQoJCS8vIAkJdmFyIGNhbG1haW5sYXQgPSAwOw0KCQkvLyAJCXZhciBjYWxtYWlubG9nID0gMDsNCgkJLy8gCQl2YXIgY2FsTnVtYmVyID0gMDsNCgkJLy8gCQl2YXIgY2FsYWRhdGUgPSAnJzsNCgkJLy8gCQl2YXIgaQ0KCQkvLyAJCWZvciAoaSA9IDA7IGkgPCBjYWxhbWl0eUxpc3QubGVuZ3RoOyBpKyspIHsNCgkJLy8gCQkJaWYgKGNhbGFtaXR5TGlzdFtpXS5tYWlubGF0ID09IGUub2JqZWN0Lm1hcmtlcnNbMF0ubG9ubGF0LmxvbiAmIGNhbGFtaXR5TGlzdFtpXS5tYWlubG9nID09IGUub2JqZWN0Lm1hcmtlcnNbMF0ubG9ubGF0LmxhdCkgew0KCQkvLyAJCQkJY2FsSWQgPSBjYWxhbWl0eUxpc3RbaV0uY2FsSWQNCgkJLy8gCQkJCWNhbGFtaXR5cmFkaXVzID0gY2FsYW1pdHlMaXN0W2ldLm1haW5yYWRpdXMNCgkJLy8gCQkJCWNhbG1haW5sYXQgPSBjYWxhbWl0eUxpc3RbaV0ubWFpbmxhdA0KCQkvLyAJCQkJY2FsbWFpbmxvZyA9IGNhbGFtaXR5TGlzdFtpXS5tYWlubG9nDQoJCS8vIAkJCQljYWxOdW1iZXIgPSBjYWxhbWl0eUxpc3RbaV0uY2FsY291bnQNCgkJLy8gCQkJCWNhbGFkYXRlID0gY2FsYW1pdHlMaXN0W2ldLmNhbERhdGUNCgkJLy8gCQkJCWJyZWFrOw0KCQkvLyAJCQl9DQoJCS8vIAkJfQ0KDQoNCgkJLy8gCQl2YXIgeDEgPSBjYWxtYWlubGF0DQoJCS8vIAkJdmFyIHkxID0gY2FsbWFpbmxvZw0KCQkvLyAJCXZhciB1dWlkSW5DYWxhbWl0eXNhZmUgPSAxOw0KCQkvLyAJCXZhciB1dWlkSW5DYWxhbWl0eU5vcm1hbCA9IDE7DQoJCS8vIAkJdmFyIHV1aWRJbkNhbGFtaXR5bGl0dGxlZGFuZ2VyID0gMTsNCgkJLy8gCQl2YXIgdXVpZEluQ2FsYW1pdHlkYW5nZXIgPSAxOw0KDQoJCS8vIAkJdmFyIHNlZ21lbnRTZW5kaW5nTGlzdCA9IFtdOw0KDQoJCS8vIAkJLy/rp4jsu6Qg7YG066at7IucIOykkeuztSDsoJzqsbAg7ZWo7IiYDQoJCS8vIAkJZm9yICh2YXIgaiA9IDA7IGogPCBzZWdtZW50RmVhdHVyZXMubGVuZ3RoOyBqKyspIHsNCgkJLy8gCQkJaWYgKHNlZ21lbnRMaXN0W2pdLmNhbEluZGV4ID09IGNhbElkKSB7DQoJCS8vIAkJCQkvLyBQb2x5Z29uIOyViOyXkCDrk6TslrTsnojripTsp4Ag7JWI65Ok7Ja07J6I64qU7KeAIO2MkOuLqO2VmOuKlCDsobDqsbTrrLgNCgkJLy8gCQkJCWZvciAodmFyIGsgPSAwOyBrIDwgdXVpZEZlYXR1cmVzLmxlbmd0aDsgaysrKSB7DQoJCS8vIAkJCQkJdmFyIHAgPSBuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCh1dWlkRmVhdHVyZXNba10ueCwgdXVpZEZlYXR1cmVzW2tdLnkpOw0KDQoJCS8vIAkJCQkJaWYgKHNlZ21lbnRGZWF0dXJlc1tqXS5nZW9tZXRyeS5pbnRlcnNlY3RzKHApKSB7DQoJCS8vIAkJCQkJCWlmICh1dWlkRmVhdHVyZXNba10udXVpZGNvbnRhaW5zZWcgPT0gLTEpIHsNCgkJLy8gCQkJCQkJCXNlZ21lbnRMaXN0W2pdLnNlZ21lbnRVc2VyTGlzdC5wdXNoKHV1aWRGZWF0dXJlc1trXS51dWlkKQ0KCQkvLyAJCQkJCQkJdXVpZEZlYXR1cmVzW2tdLnV1aWRjb250YWluc2VnID0gc2VnbWVudExpc3Rbal0uc2VnSWQ7DQoJCS8vIAkJCQkJCQlzZWdtZW50U2VuZGluZ0xpc3QucHVzaChzZWdtZW50TGlzdFtqXSkNCgkJLy8gCQkJCQkJfSBlbHNlIGlmICh1dWlkRmVhdHVyZXNba10udXVpZGNvbnRhaW5zZWcgIT0gLTEpIHsNCgkJLy8gCQkJCQkJCWZvciAodmFyIGggPSAwOyBoIDwgc2VnbWVudExpc3QubGVuZ3RoOyBoKyspIHsNCgkJLy8gCQkJCQkJCQlpZiAoc2VnbWVudExpc3RbaF0uc2VnSWQgPT0gdXVpZEZlYXR1cmVzW2tdLnV1aWRjb250YWluc2VnKSB7DQoJCS8vIAkJCQkJCQkJCS8v7JuQ656YIOuTpOyWtOyeiOuNmOqyjCDri6Trpbwg6rK97JqwIA0KCQkvLyAJCQkJCQkJCQlpZiAoc2VnbWVudExpc3Rbal0uc2VnbWVudGZyb21jYWxhbWl0eSA8PSBzZWdtZW50TGlzdFtoXS5zZWdtZW50ZnJvbWNhbGFtaXR5KSB7DQoJCS8vIAkJCQkJCQkJCQl1dWlkRmVhdHVyZXNba10udXVpZGNvbnRhaW5zZWcgPSBzZWdtZW50TGlzdFtqXS5zZWdJZDsNCgkJLy8gCQkJCQkJCQkJfQ0KCQkvLyAJCQkJCQkJCX0NCgkJLy8gCQkJCQkJCX0NCgkJLy8gCQkJCQkJfQ0KCQkvLyAJCQkJCX0NCgkJLy8gCQkJCX0NCgkJLy8gCQkJfQ0KCQkvLyAJCX0NCgkJCQkNCgkJLy8gCQl2YXIgY2FsYW1pdHlBbGxpbmZvID0gew0KCQkvLyAJCQl0YXJnZXRVc2VyOiAwLA0KCQkvLyAJCQlkYW5nZXJVc2VyOiAwLA0KCQkvLyAJCQlsaXR0bGVkYW5nZXJVc2VyOiAwLA0KCQkvLyAJCQlub3JtYWxVc2VyOiAwLA0KCQkvLyAJCQlzYWZlVXNlcjogMCwNCgkJLy8gCQkJY2FsbGF0OiBjYWxhbWl0eUxpc3RbaV0ubWFpbmxhdCwNCgkJLy8gCQkJY2FsbG9uOiBjYWxhbWl0eUxpc3RbaV0ubWFpbmxvZywNCgkJLy8gCQkJY2FsZGF0ZTogY2FsYW1pdHlMaXN0W2ldLmNhbERhdGUsDQoJCS8vIAkJCWNhbGxldmVsOiBjYWxhbWl0eUxpc3RbaV0ubWFpbmxldmVsLA0KCQkvLyAJCQljYWxUeXBlOiBjYWxhbWl0eUxpc3RbaV0ubWFpblR5cGUsDQoJCS8vIAkJCWNhbE51bWJlcjogY2FsYW1pdHlMaXN0W2ldLmNhbGNvdW50LA0KCQkvLyAJCQljYWxNZXNzYWdlSW5mbzogY2FsYW1pdHlMaXN0W2ldLmNhbG1lc3NhZ2UsDQoJCS8vIAkJCXV1aWRBbGxJbmZvOiB1dWlkRmVhdHVyZXMsDQoJCS8vIAkJCXNlZ21lbnRTZW5kaW5nRmVhdHVyZTogc2VnbWVudFNlbmRpbmdMaXN0DQoJCS8vIAkJfQ0KDQoNCgkJLy8gCQlFdmVudEJ1cy4kZW1pdCgiY2FsYW1pdHktdGVzdCIsIGNhbGFtaXR5QWxsaW5mbykNCgkJLy8gCQkvLyB1dWlkRmVhdHVyZXMgPSBuZXcgQXJyYXkoKSAvL+ycoOyggCDrsLDsl7QNCg0KCQkvLyAJfSk7DQoJCS8vIH0sDQoNCgkJZHJhd1VVSUQodXVpZEZlYXR1cmVMaXN0KSB7DQoNCgkJCXZhciBzaXplID0gbmV3IE9wZW5MYXllcnMuU2l6ZSgxMCwgMTApOw0KCQkJdmFyIG9mZnNldCA9IG5ldyBPcGVuTGF5ZXJzLlBpeGVsKC0oc2l6ZS53IC8gMiksIC1zaXplLmgpOw0KDQoJCQl2YXIgaWNvbiA9IG5ldyBPcGVuTGF5ZXJzLkljb24ocGVvcGxlc0NpcmNsZSwgc2l6ZSwgb2Zmc2V0KTsNCgkJCXVzZXJNYXJrZXJzLmNsZWFyTWFya2VycygpDQoJCQlpZiAobnVsbCAhPSB1c2VyTWFya2Vycy5tYXJrZXJzKSB7DQoJCQkJZm9yICg7IDAgPCB1c2VyTWFya2Vycy5tYXJrZXJzOykgew0KCQkJCQl1c2VyTWFya2Vycy5yZW1vdmVNYXJrZXIodXNlck1hcmtlcnMubWFya2Vyc1swXSkNCgkJCQl9DQoJCQl9DQoNCgkJCWZvciAodmFyIGkgPSAwOyBpIDwgdXVpZEZlYXR1cmVMaXN0Lmxlbmd0aDsgaSsrKSB7DQoJCQkJdXNlck1hcmtlcnMuYWRkTWFya2VyKG5ldyBPcGVuTGF5ZXJzLk1hcmtlcihuZXcgT3BlbkxheWVycy5Mb25MYXQodXVpZEZlYXR1cmVMaXN0W2ldLngsIHV1aWRGZWF0dXJlTGlzdFtpXS55KSwgaWNvbikpOw0KCQkJCXVzZXJNYXJrZXJzLmFkZE1hcmtlcihuZXcgT3BlbkxheWVycy5NYXJrZXIobmV3IE9wZW5MYXllcnMuTG9uTGF0KHV1aWRGZWF0dXJlTGlzdFtpXS54LCB1dWlkRmVhdHVyZUxpc3RbaV0ueSksIGljb24uY2xvbmUoKSkpOw0KCQkJfQ0KCQkJbWFwLmFkZExheWVyKHVzZXJNYXJrZXJzKTsNCgkJfSwNCgkJaW5wdXRTZWdtZW50SW5MaXN0KGNhbE51bSwgbGF0UCwgbG9nUCwgc2VnSWRlbnQpIHsNCgkJCXRoaXMuc2VnY291bnQrKw0KCQkJdmFyIHNlZ21lbnRJbmRleCA9IHsNCgkJCQlzZWdOdW06IHRoaXMuc2VnY291bnQsDQoJCQkJc2VnSWQ6IHNlZ0lkZW50LA0KCQkJCWNhbGxMZXZlbEluZGV4OiB0aGlzLmxldmVsLA0KCQkJCWNhbFJhZGl1c0luZGV4OiB0aGlzLnJhZGl1czIsDQoJCQkJY2FsbFRpbWVJbmRleDogdGhpcy5jYWxEYXRlLA0KCQkJCWNhbGxhdEluZGV4OiB0aGlzLmxhdCwNCgkJCQljYWxsb2dJbmRleDogdGhpcy5sb2csDQoJCQkJY2FsY291bnQ6IHRoaXMuY2FsY291bnQsDQoJCQkJbWFpblR5cGU6IHRoaXMudHlwZSwNCgkJCQljYWxJbmRleDogY2FsTnVtLA0KCQkJCXNlZ0xhdDogbGF0UCwNCgkJCQlzZWdMb2c6IGxvZ1AsDQoJCQkJc2VnbWVudGZyb21jYWxhbWl0eTogMCwNCgkJCQlzZWdtZW50VXNlckxpc3Q6IFtdDQoJCQl9DQoJCQkvL+yZuOu2gOuFuOy2nOyaqSDshLjqt7jrqLztirjrsojtmLgNCg0KCQkJdmFyIGRpc194ID0gdGhpcy5sYXQgLSBzZWdtZW50SW5kZXguc2VnTGF0Ow0KCQkJdmFyIGRpeF95ID0gdGhpcy5sb2cgLSBzZWdtZW50SW5kZXguc2VnTG9nOw0KCQkJc2VnbWVudEluZGV4LnNlZ21lbnRmcm9tY2FsYW1pdHkgPSBNYXRoLnNxcnQoTWF0aC5hYnMoZGlzX3ggKiBkaXNfeCkgKyBNYXRoLmFicyhkaXhfeSAqIGRpeF95KSkNCgkJCXNlZ21lbnRMaXN0LnB1c2goc2VnbWVudEluZGV4KQ0KCQl9LA0KDQoJCWRlbGV0ZUYoKSB7DQoJCQl2ZWN0b3JMYXllci5yZW1vdmVBbGxGZWF0dXJlcygpOw0KCQkJc2VnbWVudExheWVyLnJlbW92ZUFsbEZlYXR1cmVzKCk7DQoJCQljYWxhbWl0eUxpc3QgPSBuZXcgQXJyYXkoKSAvL+yerOuCnCDrsLDsl7QgDQoJCQlzZWdtZW50TGlzdCA9IG5ldyBBcnJheSgpIC8v7IS46re466i87Yq4IOuwsOyXtA0KCQkJc2VnbWVudEZlYXR1cmVzID0gbmV3IEFycmF5KCkgLy/shLjqt7jrqLztirjsnZggZmVhdHVyZShwb2x5Z29uKQ0KDQoJCQlzZWdtZW50TGF5ZXIgPSAiIjsNCgkJCXZlY3RvckxheWVyID0gIiI7DQoNCgkJfSwNCgkJdXBkYXRlVGltZSgpIHsNCgkJCXZhciBjZCA9IG5ldyBEYXRlKCk7DQoJCQl0aGlzLnRpbWUgPSB0aGlzLnplcm9QYWRkaW5nKGNkLmdldEhvdXJzKCksIDIpICsgJzonICsgdGhpcy56ZXJvUGFkZGluZyhjZC5nZXRNaW51dGVzKCksIDIpICsgJzonICsgdGhpcy56ZXJvUGFkZGluZyhjZC5nZXRTZWNvbmRzKCksIDIpOw0KCQkJdGhpcy5kYXRlID0gdGhpcy56ZXJvUGFkZGluZyhjZC5nZXRGdWxsWWVhcigpLCA0KSArICctJyArIHRoaXMuemVyb1BhZGRpbmcoY2QuZ2V0TW9udGgoKSsxLCAyKSArICctJyArIHRoaXMuemVyb1BhZGRpbmcoY2QuZ2V0RGF0ZSgpLCAyKSArICcgJyArIHRoaXMud2Vla1tjZC5nZXREYXkoKV07DQoJCX0sDQoJCXplcm9QYWRkaW5nKG51bSwgZGlnaXQpIHsNCgkJCXZhciB6ZXJvID0gJyc7DQoJCQlmb3IodmFyIGkgPSAwOyBpIDwgZGlnaXQ7IGkrKykgew0KCQkJCXplcm8gKz0gJzAnOw0KCQkJfQ0KCQkJcmV0dXJuICh6ZXJvICsgbnVtKS5zbGljZSgtZGlnaXQpOw0KCQl9DQoJfQ0KfQ0K"},{"version":3,"sources":["Map2.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Map2.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n<div>\r\n\t<div style=\"display: flex; flex-direction: row; justify-content:space-between;\">\r\n\t\t<h3 class=\"textal\" align=\"left\">재난발생 위치</h3>\r\n\t\t<h5 class=\"textal\" align=\"center\">네트워크상태 : {{ this.$store.getters.getStatus }}</h5>\r\n\t\t<h5 class=\"textal\" align=\"right\">{{date}} {{time}}</h5>\r\n\t\t</div>\r\n\t\t\r\n\t<div id=\"map1\">\r\n\t\t<div id=\"mouse-position\"></div>\r\n\t\t<div style=\"position:absolute;top:520px;right:10px;width:54px;height:100px;z-index:1000000;\">\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n\tstore\r\n} from '../store/index.js';\r\nimport {\r\n\tdefaults\r\n} from 'ol/control';\r\nimport {\r\n\tEventBus\r\n} from \"./event-bus\";\r\nimport mapmarkerpng from \"../assets/mapmarker.png\"\r\nimport peoplesCircle from \"../assets/peoplesCircle.png\"\r\n\r\n\r\nlet map = ''\r\nlet markers = ''\r\nlet popup = ''\r\nlet calamityList = new Array() //재난 배열 \r\nlet uuidFeatures = new Array() //유저 배열\r\nlet segmentList = new Array() //세그먼트 배열\r\nlet segmentRadius = 100\r\nlet segmentFeatures = new Array() //세그먼트의 feature(polygon)\r\nlet userMarkers = \"\";\r\nlet segmentLayer = \"\";\r\nlet vectorLayer = \"\";\r\nlet count = 0;\r\nexport default {\r\n\r\n\tprops: ['pointX', 'pointY', 'radius', 'calLevel'],\r\n\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tnetwork : '',\r\n\t\t\tmessage: '',\r\n\t\t\tpoint: '',\r\n\t\t\tcalDate: '',\r\n\t\t\tlat: 0,\r\n\t\t\tlog: 0,\r\n\t\t\tradius2: 0,\r\n\t\t\tlevel: \"\",\r\n\t\t\ttype : '',\r\n\t\t\tstandard_style: {\r\n\t\t\t\tstrokeColor: 'red',\r\n\t\t\t\tstrokeOpacity: 1,\r\n\t\t\t\tstrokeWidth: 3,\r\n\t\t\t\tfillOpacity: 0.4,\r\n\t\t\t\tfillColor: \"red\"\r\n\t\t\t},\r\n\t\t\torange_style: {\r\n\t\t\t\tstrokeColor: 'orange',\r\n\t\t\t\tstrokeOpacity: 1,\r\n\t\t\t\tstrokeWidth: 3,\r\n\t\t\t\tfillOpacity: 0.4,\r\n\t\t\t\tfillColor: \"orange\"\r\n\t\t\t},\r\n\t\t\tyellow_style: {\r\n\t\t\t\tstrokeColor: 'yellow',\r\n\t\t\t\tstrokeOpacity: 1,\r\n\t\t\t\tstrokeWidth: 3,\r\n\t\t\t\tfillOpacity: 0.4,\r\n\t\t\t\tfillColor: \"yellow\"\r\n\t\t\t},\r\n\t\t\tgreen_style: {\r\n\t\t\t\tstrokeColor: 'green',\r\n\t\t\t\tstrokeOpacity: 1,\r\n\t\t\t\tstrokeWidth: 3,\r\n\t\t\t\tfillOpacity: 0.4,\r\n\t\t\t\tfillColor: \"green\"\r\n\t\t\t},\r\n\t\t\tsegment_style: {\r\n\t\t\t\tstrokeColor: 'black',\r\n\t\t\t\tstrokeOpacity: 0.1,\r\n\t\t\t\tstrokeWidth: 1,\r\n\t\t\t\tfillOpacity: 0.1,\r\n\t\t\t\tfillColor: \"${black}\"\r\n\t\t\t}, //세그먼트 Style\r\n\r\n\t\t\tcalcount: 0,\r\n\r\n\t\t\tsegcount: 0,\r\n\t\t\tsegmentIndex: {\r\n\t\t\t\tsegNum: 0,\r\n\t\t\t\tcalNum: 0,\r\n\t\t\t\tsegLat: 0,\r\n\t\t\t\tsegLog: 0,\r\n\t\t\t\tsegName: 0\r\n\t\t\t},\r\n\t\t\tuuidCount: 0,\r\n\t\t\tmarkerFeatures: [],\r\n\t\t\thover: '',\r\n\t\t\ttime:\"\",\r\n\t\t\tdate:\"\",\r\n\t\t\tweek : ['SUN', 'MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT'],\r\n\t\t\ttimerID : setInterval(this.updateTime, 1000)\r\n\t\t\t//x 증가율 radius * 171.5\r\n\t\t\t//y 증가율 radius * 3\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\t//여기는 재난이 들어오는 곳 \r\n\t\tEventBus.$on('use-eventbus', calIndex => {\r\n\r\n\t\t\tif (count != 0) {\r\n\t\t\t\tthis.deleteF();\r\n\t\t\t}\r\n\r\n\t\t\tthis.lat = calIndex.lat * 1;\r\n\t\t\tthis.log = calIndex.log * 1;\r\n\t\t\tthis.radius2 = calIndex.radius * 1;\r\n\t\t\tthis.level = calIndex.callevel + \"\";\r\n\t\t\tthis.calDate = calIndex.calTime;\r\n\t\t\tthis.type = calIndex.calType;\r\n\t\t\tswitch (this.level) {\r\n\t\t\t\tcase \"1\":\r\n\t\t\t\t\tvectorLayer = new OpenLayers.Layer.Vector(\"Overlay\", {\r\n\t\t\t\t\t\tstyleMap: new OpenLayers.StyleMap(\r\n\t\t\t\t\t\t\tthis.standard_style\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"2\":\r\n\t\t\t\t\tvectorLayer = new OpenLayers.Layer.Vector(\"Overlay\", {\r\n\t\t\t\t\t\tstyleMap: new OpenLayers.StyleMap(\r\n\t\t\t\t\t\t\tthis.orange_style\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"3\":\r\n\t\t\t\t\tvectorLayer = new OpenLayers.Layer.Vector(\"Overlay\", {\r\n\t\t\t\t\t\tstyleMap: new OpenLayers.StyleMap(\r\n\t\t\t\t\t\t\tthis.yellow_style\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"4\":\r\n\t\t\t\t\tvectorLayer = new OpenLayers.Layer.Vector(\"Overlay\", {\r\n\t\t\t\t\t\tstyleMap: new OpenLayers.StyleMap(\r\n\t\t\t\t\t\t\tthis.green_style\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tsegmentLayer = new OpenLayers.Layer.Vector(\"segmentlay\", {\r\n\t\t\t\tstyleMap: new OpenLayers.StyleMap(\r\n\t\t\t\t\tthis.segment_style\r\n\t\t\t\t)\r\n\t\t\t});\r\n\t\t\tthis.drawMainCircle();\r\n\t\t\t//this.drawMainMarker();\r\n\t\t\tcount++;\r\n\t\t});\r\n\t\tEventBus.$on('use-eventbus-uuidTest', uuidList => {\r\n\t\t\tthis.uuidCount += 1\r\n\t\t\tuuidFeatures = new Array();\r\n\t\t\tfor (var i = 0; i < uuidList.length; i++) {\r\n\t\t\t\tvar uuidindex = {\r\n\t\t\t\t\tx: uuidList[i].uuidX,\r\n\t\t\t\t\ty: uuidList[i].uuidY,\r\n\t\t\t\t\tuuidcontainCal: 0,\r\n\t\t\t\t\tuuidcontainseg: -1,\r\n\t\t\t\t\tuuid: uuidList[i].uuidId\r\n\t\t\t\t}\r\n\t\t\t\tuuidFeatures.push(uuidindex);\r\n\t\t\t}\r\n\r\n\t\t\tthis.drawUUID(uuidFeatures);\r\n\t\t});\r\n\r\n\t},\r\n\tmounted() {\r\n\t\tthis.updateTime();\r\n\t\tthis.init();\r\n\t},\r\n\tcomputed: {},\r\n\tmethods: {\r\n\t\tinit() {\r\n\t\t\tmap = new ngii_wmts.map(\"map1\", {\r\n\t\t\t\tcontrols: [],\r\n\t\t\t\tprojection: \"EPSG:5179\",\r\n\t\t\t\tcenter: new OpenLayers.LonLat(1099472.79652, 1764427.68399),\r\n\t\t\t\tzoom: 7,\r\n\t\t\t\tnumZoomLevels: 21,\r\n\t\t\t\teventListeners: {\r\n\t\t\t\t\tfeatureclick: function (e) {\r\n\t\t\t\t\t\tif (e.feature.layer.name == 'segmentlay') {\r\n\t\t\t\t\t\t\te.feature.renderIntent = \"select\";\r\n\t\t\t\t\t\t\tvar j = 0;\r\n\t\t\t\t\t\t\tfor (j = 0; j < segmentList.length; j++) {\r\n\t\t\t\t\t\t\t\tif (segmentList[j].segId == e.feature.id) {\r\n\t\t\t\t\t\t\t\t\t//해당 세그먼트에 몇명이 있는지 확인 \r\n\t\t\t\t\t\t\t\t\tif (popup) {\r\n\t\t\t\t\t\t\t\t\t\tmap.removePopup(popup)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvar segcode = e.feature.id.split('_');\r\n\t\t\t\t\t\t\t\t\tvar countuuid = 0;\r\n\r\n\t\t\t\t\t\t\t\t\tfor (var l = 0; l < uuidFeatures.length; l++) {\r\n\r\n\t\t\t\t\t\t\t\t\t\tif (uuidFeatures[l].uuidcontainseg == segmentList[j].segId)\r\n\t\t\t\t\t\t\t\t\t\t\tcountuuid++\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvar popuplocation = new OpenLayers.LonLat(segmentList[j].segLat, segmentList[j].segLog)\r\n\t\t\t\t\t\t\t\t\tpopup = new OpenLayers.Popup(\"chicken\",\r\n\t\t\t\t\t\t\t\t\t\tpopuplocation,\r\n\t\t\t\t\t\t\t\t\t\tnew OpenLayers.Size(200, 60),\r\n\t\t\t\t\t\t\t\t\t\t\"세그먼트 번호 :\" + segcode[3] + \"<br>\" + '<div style=\"color:#FF0000\">포함 인원 :   ' + countuuid + \"명\", true);\r\n\r\n\t\t\t\t\t\t\t\t\tmap.addPopup(popup);\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t//지도 객체 생성 \r\n\t\t\tmap.addControl(new OpenLayers.Control.PanZoomBar());\r\n\t\t\tmap.addControl(new OpenLayers.Control.MousePosition());\r\n\t\t\tmap.addControl(new OpenLayers.Control.OverviewMap());\r\n\t\t\tmap.addControl(new OpenLayers.Control.KeyboardDefaults());\r\n\r\n\t\t\tvar control = new OpenLayers.Control();\r\n\t\t\tOpenLayers.Util.extend(control, {\r\n\t\t\t\tdraw: function () {\r\n\t\t\t\t\t// this Handler.Box will intercept the shift-mousedown\r\n\t\t\t\t\t// before Control.MouseDefault gets to see it\r\n\t\t\t\t\tthis.box = new OpenLayers.Handler.Box(control, {\r\n\t\t\t\t\t\t\"done\": this.notice\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tkeyMask: OpenLayers.Handler.MOD_SHIFT\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.box.activate();\r\n\t\t\t\t},\r\n\t\t\t\tnotice: function (bounds) {\r\n\t\t\t\t\tOpenLayers.Console.userError(bounds);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tmap.addControl(control);\r\n\r\n\r\n\t\t\t//map.controls[1].disableZoomWheel(); // disable the original behavior of\r\n\r\n\t\t\t//create a new control//\r\n\r\n\t\t\tvar mousewheel = new OpenLayers.Control();\r\n\t\t\tOpenLayers.Util.extend(mousewheel, {\r\n\t\t\t\t// The draw method is called when the control is initialized\r\n\t\t\t\tdraw: function () {\r\n\t\t\t\t\tthis.mouse = new OpenLayers.Handler.MouseWheel(mousewheel, {\r\n\t\t\t\t\t\t\"up\": mouseUp,\r\n\t\t\t\t\t\t\"down\": mouseDown\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.mouse.activate();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t//add new control\r\n\t\t\tmap.addControl(mousewheel);\r\n\t\t\t// change behavior of mouse wheel functions\r\n\t\t\tfunction mouseUp() {\r\n\t\t\t\tmap.zoomTo(map.zoom + 1);\r\n\t\t\t}\r\n\r\n\t\t\tfunction mouseDown() {\r\n\t\t\t\tif (map.zoom > 10) {\r\n\t\t\t\t\tmap.zoomTo(map.zoom - 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tuserMarkers = new OpenLayers.Layer.Markers(\"userMarkers\");\r\n\r\n\t\t},\r\n\r\n\t\tdrawMainCircle() {\r\n\t\t\tvar x = this.lat;\r\n\t\t\tvar y = this.log;\r\n\t\t\tvar length = 0;\r\n\t\t\tvar count = 0;\r\n\t\t\t//가장 큰 재난 원 \r\n\t\t\tvar point = new OpenLayers.Geometry.Point(x, y);\r\n\t\t\tvar mainCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point, this.radius2, 36, 0);\r\n\t\t\tvar mainFeature = new OpenLayers.Feature.Vector(mainCircle);\r\n\t\t\tconsole.log(\"Map says: \" + mainFeature.id);\r\n\t\t\tvectorLayer.addFeatures(mainFeature)\r\n\r\n\t\t\tthis.calcount += 1;\r\n\t\t\tvar calamityIndex = {\r\n\t\t\t\tcalcount: this.calcount,\r\n\t\t\t\tcalId: mainFeature.id,\r\n\t\t\t\tmainlat: x,\r\n\t\t\t\tmainlog: y,\r\n\t\t\t\tmainradius: this.radius2,\r\n\t\t\t\tmainlevel: this.level,\r\n\t\t\t\tmainType: this.type,\r\n\t\t\t\tcalmessage: \"m\"\r\n\t\t\t}\r\n\t\t\tcalamityList.push(calamityIndex)\r\n\r\n\t\t\t// 기본 세그먼트 0.0 에 있는거 그리기\r\n\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point, segmentRadius, 36, 0);\r\n\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\t\t\tthis.inputSegmentInList(mainFeature.id, x, y, featureCircle.id)\r\n\t\t\tsegmentFeatures.push(featureCircle)\r\n\r\n\t\t\tvar ycount = 0\r\n\t\t\twhile (true) {\r\n\t\t\t\tif (ycount == 0) {\r\n\t\t\t\t\twhile (true) {\r\n\t\t\t\t\t\tlength += 171.5;\r\n\t\t\t\t\t\t//늘어나는 길이가 루트3만큼 늘어난다.\r\n\t\t\t\t\t\tvar point = new OpenLayers.Geometry.Point(x + length, this.log);\r\n\t\t\t\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point, segmentRadius, 36, 0);\r\n\t\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\t\t\t\t\t\tif (!myCircle.intersects(mainCircle)) break;\r\n\t\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\t\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, x + length, this.log, featureCircle.id)\r\n\t\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\t\t\t\t\t\t//this.inputSegmentInList(this.calcount,x + length,this.log)\r\n\t\t\t\t\t\tvar minuspoint = new OpenLayers.Geometry.Point(x - length, this.log);\r\n\t\t\t\t\t\tvar minusmyCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(minuspoint, segmentRadius, 36, 0);\r\n\t\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(minusmyCircle);\r\n\t\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\t\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, x - length, this.log, featureCircle.id)\r\n\t\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\t\t\t\t\t\t//this.inputSegmentInList(this.calcount,x - length,this.log)\r\n\t\t\t\t\t} //기본이 되는 선을 하나 그린다.\r\n\t\t\t\t\tycount = 1;\r\n\t\t\t\t\tlength = 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\ty += 300\r\n\t\t\t\t\tvar point = new OpenLayers.Geometry.Point(x, y);\r\n\t\t\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point, segmentRadius, 36, 0);\r\n\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\r\n\t\t\t\t\tif (!myCircle.intersects(mainCircle)) break;\r\n\t\t\t\t\t//리스트에 집어 넣기\r\n\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, x, y, featureCircle.id)\r\n\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\r\n\t\t\t\t\tvar reverseY = this.log - (y - this.log)\r\n\t\t\t\t\tvar minuspoint = new OpenLayers.Geometry.Point(x, reverseY);\r\n\t\t\t\t\tvar minusmyCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(minuspoint, segmentRadius, 36, 0);\r\n\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(minusmyCircle);\r\n\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\r\n\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, x, reverseY, featureCircle.id)\r\n\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\t\t\t\t\tycount++\r\n\t\t\t\t\t//y축으로 +- 를 쫙 그리고 \r\n\t\t\t\t\twhile (true) {\r\n\t\t\t\t\t\t//그 y축을 가지고 x축을 그린다.\r\n\t\t\t\t\t\tlength += 171.5;\r\n\t\t\t\t\t\tvar point = new OpenLayers.Geometry.Point(x + length, y);\r\n\t\t\t\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point, segmentRadius, 36, 0);\r\n\t\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\t\t\t\t\t\tif (!mainCircle.intersects(myCircle)) break;\r\n\t\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\r\n\t\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, x + length, y, featureCircle.id)\r\n\t\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\t\t\t\t\t\tvar minuspoint = new OpenLayers.Geometry.Point(x - length, y);\r\n\t\t\t\t\t\tvar minusmyCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(minuspoint, segmentRadius, 36, 0);\r\n\t\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(minusmyCircle);\r\n\t\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\r\n\t\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, x - length, y, featureCircle.id)\r\n\t\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\t\t\t\t\t\tvar point = new OpenLayers.Geometry.Point(x + length, reverseY);\r\n\t\t\t\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point, segmentRadius, 36, 0);\r\n\t\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\r\n\t\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\t\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, x + length, reverseY, featureCircle.id)\r\n\t\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\t\t\t\t\t\tvar minuspoint = new OpenLayers.Geometry.Point(x - length, reverseY);\r\n\t\t\t\t\t\tvar minusmyCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(minuspoint, segmentRadius, 36, 0);\r\n\t\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(minusmyCircle);\r\n\t\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\r\n\t\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, x - length, reverseY, featureCircle.id)\r\n\t\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlength = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar x = this.lat;\r\n\t\t\tvar y = this.log;\r\n\r\n\t\t\tvar length = 0;\r\n\t\t\tvar ylength = 150;\r\n\t\t\tvar count = 0;\r\n\r\n\t\t\twhile (true) {\r\n\t\t\t\tif (count == 0) {\r\n\t\t\t\t\tvar point2 = new OpenLayers.Geometry.Point(x + (171.5 / 2), y + 150);\r\n\t\t\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point2, segmentRadius, 36, 0);\r\n\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\r\n\t\t\t\t\tif (!myCircle.intersects(mainCircle)) break;\r\n\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\r\n\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, x + (171.5 / 2), y + 150, featureCircle.id)\r\n\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\r\n\t\t\t\t\tvar point3 = new OpenLayers.Geometry.Point(x - (171.5 / 2), y + 150);\r\n\t\t\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point3, segmentRadius, 36, 0);\r\n\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, x - (171.5 / 2), y + 150, featureCircle.id)\r\n\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\r\n\t\t\t\t\tvar point2 = new OpenLayers.Geometry.Point(x + (171.5 / 2), y - 150);\r\n\t\t\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point2, segmentRadius, 36, 0);\r\n\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, x + (171.5 / 2), y - 150, featureCircle.id)\r\n\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\r\n\t\t\t\t\tvar point3 = new OpenLayers.Geometry.Point(x - (171.5 / 2), y - 150);\r\n\t\t\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point3, segmentRadius, 36, 0);\r\n\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, x - (171.5 / 2), y - 150, featureCircle.id)\r\n\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\r\n\t\t\t\t\tvar ypluspoint = y + ylength\r\n\t\t\t\t\tvar yminuspoint = y - ylength\r\n\t\t\t\t\tvar plusx = x + (171.5 / 2);\r\n\t\t\t\t\tvar minusx = x - (171.5 / 2);\r\n\t\t\t\t\twhile (true) {\r\n\t\t\t\t\t\t//그 y축을 가지고 x축을 그린다.\r\n\t\t\t\t\t\tlength += 171.5;\r\n\t\t\t\t\t\tvar point = new OpenLayers.Geometry.Point(plusx + length, ypluspoint);\r\n\t\t\t\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point, segmentRadius, 36, 0);\r\n\t\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\t\t\t\t\t\tif (!mainCircle.intersects(myCircle)) break;\r\n\t\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\r\n\t\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, plusx + length, ypluspoint, featureCircle.id)\r\n\t\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\t\t\t\t\t\tvar minuspoint = new OpenLayers.Geometry.Point(minusx - length, ypluspoint);\r\n\t\t\t\t\t\tvar minusmyCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(minuspoint, segmentRadius, 36, 0);\r\n\t\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(minusmyCircle);\r\n\t\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\r\n\t\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, minusx - length, ypluspoint, featureCircle.id)\r\n\t\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\t\t\t\t\t\tvar point = new OpenLayers.Geometry.Point(plusx + length, yminuspoint);\r\n\t\t\t\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point, segmentRadius, 36, 0);\r\n\t\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\r\n\t\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\r\n\t\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, plusx + length, yminuspoint, featureCircle.id)\r\n\t\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\t\t\t\t\t\tvar minuspoint = new OpenLayers.Geometry.Point(minusx - length, yminuspoint);\r\n\t\t\t\t\t\tvar minusmyCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(minuspoint, segmentRadius, 36, 0);\r\n\t\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(minusmyCircle);\r\n\t\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\r\n\t\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, minusx - length, yminuspoint, featureCircle.id)\r\n\t\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlength = 0;\r\n\r\n\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tylength += 300\r\n\t\t\t\t\tvar point2 = new OpenLayers.Geometry.Point(x + (171.5 / 2), y + ylength);\r\n\t\t\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point2, segmentRadius, 36, 0);\r\n\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\r\n\t\t\t\t\tif (!myCircle.intersects(mainCircle)) break;\r\n\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\r\n\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, x + (171.5 / 2), y + ylength, featureCircle.id)\r\n\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\r\n\t\t\t\t\tvar point3 = new OpenLayers.Geometry.Point(x - (171.5 / 2), y + ylength);\r\n\t\t\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point3, segmentRadius, 36, 0);\r\n\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, x - (171.5 / 2), y + ylength, featureCircle.id)\r\n\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\r\n\t\t\t\t\tvar point2 = new OpenLayers.Geometry.Point(x + (171.5 / 2), y - ylength);\r\n\t\t\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point2, segmentRadius, 36, 0);\r\n\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, x + (171.5 / 2), y - ylength, featureCircle.id)\r\n\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\r\n\t\t\t\t\tvar point3 = new OpenLayers.Geometry.Point(x - (171.5 / 2), y - ylength);\r\n\t\t\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point3, segmentRadius, 36, 0);\r\n\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, x - (171.5 / 2), y - ylength, featureCircle.id)\r\n\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\t\t\t\t\t//대각선 위치에 있는 원 그리기 \r\n\t\t\t\t\tvar ypluspoint = y + ylength\r\n\t\t\t\t\tvar yminuspoint = y - ylength\r\n\t\t\t\t\tvar plusx = x + (171.5 / 2);\r\n\t\t\t\t\tvar minusx = x - (171.5 / 2);\r\n\t\t\t\t\twhile (true) {\r\n\t\t\t\t\t\t//그 y축을 가지고 x축을 그린다.\r\n\t\t\t\t\t\tlength += 171.5;\r\n\t\t\t\t\t\tvar point = new OpenLayers.Geometry.Point(plusx + length, ypluspoint);\r\n\t\t\t\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point, segmentRadius, 36, 0);\r\n\t\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\t\t\t\t\t\tif (!mainCircle.intersects(myCircle)) break;\r\n\t\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\t\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, plusx + length, ypluspoint, featureCircle.id)\r\n\t\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\r\n\t\t\t\t\t\tvar minuspoint = new OpenLayers.Geometry.Point(minusx - length, ypluspoint);\r\n\t\t\t\t\t\tvar minusmyCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(minuspoint, segmentRadius, 36, 0);\r\n\t\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(minusmyCircle);\r\n\t\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\r\n\t\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, minusx - length, ypluspoint, featureCircle.id)\r\n\t\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\t\t\t\t\t\tvar point = new OpenLayers.Geometry.Point(plusx + length, yminuspoint);\r\n\t\t\t\t\t\tvar myCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(point, segmentRadius, 36, 0);\r\n\t\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(myCircle);\r\n\t\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\t\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, plusx + length, yminuspoint, featureCircle.id)\r\n\t\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\r\n\t\t\t\t\t\tvar minuspoint = new OpenLayers.Geometry.Point(minusx - length, yminuspoint);\r\n\t\t\t\t\t\tvar minusmyCircle = OpenLayers.Geometry.Polygon.createRegularPolygon(minuspoint, segmentRadius, 36, 0);\r\n\t\t\t\t\t\tvar featureCircle = new OpenLayers.Feature.Vector(minusmyCircle);\r\n\t\t\t\t\t\tsegmentLayer.addFeatures(featureCircle)\r\n\t\t\t\t\t\tthis.inputSegmentInList(mainFeature.id, minusx - length, yminuspoint, featureCircle.id)\r\n\t\t\t\t\t\tsegmentFeatures.push(featureCircle)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlength = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tmap.addLayer(vectorLayer);\r\n\t\t\tmap.addLayer(segmentLayer);\r\n\t\t\tvar pointZoom = new OpenLayers.LonLat(this.lat, this.log)\r\n\t\t\tmap.setCenter(pointZoom, 8)\r\n\r\n\t\t\t\tvar segmentSendingList = [];\r\n\r\n\t\t\t\t//마커 클릭시 중복 제거 함수\r\n\t\t\t\tfor (var j = 0; j < segmentFeatures.length; j++) {\r\n\t\t\t\t\tif (segmentList[j].calIndex == calamityIndex.calId) {\r\n\t\t\t\t\t\t// Polygon 안에 들어있는지 안들어있는지 판단하는 조건문\r\n\t\t\t\t\t\tfor (var k = 0; k < uuidFeatures.length; k++) {\r\n\t\t\t\t\t\t\tvar p = new OpenLayers.Geometry.Point(uuidFeatures[k].x, uuidFeatures[k].y);\r\n\r\n\t\t\t\t\t\t\tif (segmentFeatures[j].geometry.intersects(p)) {\r\n\t\t\t\t\t\t\t\tif (uuidFeatures[k].uuidcontainseg == -1) {\r\n\t\t\t\t\t\t\t\t\tsegmentList[j].segmentUserList.push(uuidFeatures[k].uuid)\r\n\t\t\t\t\t\t\t\t\tuuidFeatures[k].uuidcontainseg = segmentList[j].segId;\r\n\t\t\t\t\t\t\t\t\tsegmentSendingList.push(segmentList[j])\r\n\t\t\t\t\t\t\t\t} else if (uuidFeatures[k].uuidcontainseg != -1) {\r\n\t\t\t\t\t\t\t\t\tfor (var h = 0; h < segmentList.length; h++) {\r\n\t\t\t\t\t\t\t\t\t\tif (segmentList[h].segId == uuidFeatures[k].uuidcontainseg) {\r\n\t\t\t\t\t\t\t\t\t\t\t//원래 들어있던게 다를 경우 \r\n\t\t\t\t\t\t\t\t\t\t\tif (segmentList[j].segmentfromcalamity <= segmentList[h].segmentfromcalamity) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tuuidFeatures[k].uuidcontainseg = segmentList[j].segId;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tvar calamityAllinfo = {\r\n\t\t\t\t\ttargetUser: 0,\r\n\t\t\t\t\tdangerUser: 0,\r\n\t\t\t\t\tlittledangerUser: 0,\r\n\t\t\t\t\tnormalUser: 0,\r\n\t\t\t\t\tsafeUser: 0,\r\n\t\t\t\t\tcallat: calamityIndex.mainlat,\r\n\t\t\t\t\tcallon: calamityIndex.mainlog,\r\n\t\t\t\t\tcaldate: this.calDate,\r\n\t\t\t\t\tcallevel: this.level,\r\n\t\t\t\t\tcalType: calamityIndex.mainType,\r\n\t\t\t\t\tcalNumber: this.calcount,\r\n\t\t\t\t\tcalMessageInfo: calamityIndex.calmessage,\r\n\t\t\t\t\tuuidAllInfo: uuidFeatures,\r\n\t\t\t\t\tsegmentSendingFeature: segmentSendingList\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tEventBus.$emit(\"calamity-test\", calamityAllinfo)\r\n\r\n\t\t},\r\n\r\n\t\t// drawMainMarker() {\r\n\t\t// \tmarkers = new OpenLayers.Layer.Markers(\"Markers\");\r\n\t\t// \tmap.addLayer(markers);\r\n\r\n\t\t// \tvar size = new OpenLayers.Size(21, 25);\r\n\t\t// \tvar offset = new OpenLayers.Pixel(-(size.w / 2), -size.h);\r\n\t\t// \tvar icon = new OpenLayers.Icon(mapmarkerpng, size, offset);\r\n\t\t// \tmarkers.addMarker(new OpenLayers.Marker(new OpenLayers.LonLat(this.lat, this.log), icon));\r\n\r\n\t\t// \tvar markerindex = {\r\n\t\t// \t\tmarkerincalamity: this.calcount,\r\n\t\t// \t\tmarkersX: this.lat,\r\n\t\t// \t\tmarkersY: this.log\r\n\r\n\t\t// \t}\r\n\t\t// \tthis.markerFeatures.push(markerindex);\r\n\t\t// \tmarkers.events.register(\"click\", markers, function (e) {\r\n\t\t// \t\tvar calId = 0;\r\n\t\t// \t\tvar calamityradius = 0;\r\n\t\t// \t\tvar calmainlat = 0;\r\n\t\t// \t\tvar calmainlog = 0;\r\n\t\t// \t\tvar calNumber = 0;\r\n\t\t// \t\tvar caladate = '';\r\n\t\t// \t\tvar i\r\n\t\t// \t\tfor (i = 0; i < calamityList.length; i++) {\r\n\t\t// \t\t\tif (calamityList[i].mainlat == e.object.markers[0].lonlat.lon & calamityList[i].mainlog == e.object.markers[0].lonlat.lat) {\r\n\t\t// \t\t\t\tcalId = calamityList[i].calId\r\n\t\t// \t\t\t\tcalamityradius = calamityList[i].mainradius\r\n\t\t// \t\t\t\tcalmainlat = calamityList[i].mainlat\r\n\t\t// \t\t\t\tcalmainlog = calamityList[i].mainlog\r\n\t\t// \t\t\t\tcalNumber = calamityList[i].calcount\r\n\t\t// \t\t\t\tcaladate = calamityList[i].calDate\r\n\t\t// \t\t\t\tbreak;\r\n\t\t// \t\t\t}\r\n\t\t// \t\t}\r\n\r\n\r\n\t\t// \t\tvar x1 = calmainlat\r\n\t\t// \t\tvar y1 = calmainlog\r\n\t\t// \t\tvar uuidInCalamitysafe = 1;\r\n\t\t// \t\tvar uuidInCalamityNormal = 1;\r\n\t\t// \t\tvar uuidInCalamitylittledanger = 1;\r\n\t\t// \t\tvar uuidInCalamitydanger = 1;\r\n\r\n\t\t// \t\tvar segmentSendingList = [];\r\n\r\n\t\t// \t\t//마커 클릭시 중복 제거 함수\r\n\t\t// \t\tfor (var j = 0; j < segmentFeatures.length; j++) {\r\n\t\t// \t\t\tif (segmentList[j].calIndex == calId) {\r\n\t\t// \t\t\t\t// Polygon 안에 들어있는지 안들어있는지 판단하는 조건문\r\n\t\t// \t\t\t\tfor (var k = 0; k < uuidFeatures.length; k++) {\r\n\t\t// \t\t\t\t\tvar p = new OpenLayers.Geometry.Point(uuidFeatures[k].x, uuidFeatures[k].y);\r\n\r\n\t\t// \t\t\t\t\tif (segmentFeatures[j].geometry.intersects(p)) {\r\n\t\t// \t\t\t\t\t\tif (uuidFeatures[k].uuidcontainseg == -1) {\r\n\t\t// \t\t\t\t\t\t\tsegmentList[j].segmentUserList.push(uuidFeatures[k].uuid)\r\n\t\t// \t\t\t\t\t\t\tuuidFeatures[k].uuidcontainseg = segmentList[j].segId;\r\n\t\t// \t\t\t\t\t\t\tsegmentSendingList.push(segmentList[j])\r\n\t\t// \t\t\t\t\t\t} else if (uuidFeatures[k].uuidcontainseg != -1) {\r\n\t\t// \t\t\t\t\t\t\tfor (var h = 0; h < segmentList.length; h++) {\r\n\t\t// \t\t\t\t\t\t\t\tif (segmentList[h].segId == uuidFeatures[k].uuidcontainseg) {\r\n\t\t// \t\t\t\t\t\t\t\t\t//원래 들어있던게 다를 경우 \r\n\t\t// \t\t\t\t\t\t\t\t\tif (segmentList[j].segmentfromcalamity <= segmentList[h].segmentfromcalamity) {\r\n\t\t// \t\t\t\t\t\t\t\t\t\tuuidFeatures[k].uuidcontainseg = segmentList[j].segId;\r\n\t\t// \t\t\t\t\t\t\t\t\t}\r\n\t\t// \t\t\t\t\t\t\t\t}\r\n\t\t// \t\t\t\t\t\t\t}\r\n\t\t// \t\t\t\t\t\t}\r\n\t\t// \t\t\t\t\t}\r\n\t\t// \t\t\t\t}\r\n\t\t// \t\t\t}\r\n\t\t// \t\t}\r\n\t\t\t\t\r\n\t\t// \t\tvar calamityAllinfo = {\r\n\t\t// \t\t\ttargetUser: 0,\r\n\t\t// \t\t\tdangerUser: 0,\r\n\t\t// \t\t\tlittledangerUser: 0,\r\n\t\t// \t\t\tnormalUser: 0,\r\n\t\t// \t\t\tsafeUser: 0,\r\n\t\t// \t\t\tcallat: calamityList[i].mainlat,\r\n\t\t// \t\t\tcallon: calamityList[i].mainlog,\r\n\t\t// \t\t\tcaldate: calamityList[i].calDate,\r\n\t\t// \t\t\tcallevel: calamityList[i].mainlevel,\r\n\t\t// \t\t\tcalType: calamityList[i].mainType,\r\n\t\t// \t\t\tcalNumber: calamityList[i].calcount,\r\n\t\t// \t\t\tcalMessageInfo: calamityList[i].calmessage,\r\n\t\t// \t\t\tuuidAllInfo: uuidFeatures,\r\n\t\t// \t\t\tsegmentSendingFeature: segmentSendingList\r\n\t\t// \t\t}\r\n\r\n\r\n\t\t// \t\tEventBus.$emit(\"calamity-test\", calamityAllinfo)\r\n\t\t// \t\t// uuidFeatures = new Array() //유저 배열\r\n\r\n\t\t// \t});\r\n\t\t// },\r\n\r\n\t\tdrawUUID(uuidFeatureList) {\r\n\r\n\t\t\tvar size = new OpenLayers.Size(10, 10);\r\n\t\t\tvar offset = new OpenLayers.Pixel(-(size.w / 2), -size.h);\r\n\r\n\t\t\tvar icon = new OpenLayers.Icon(peoplesCircle, size, offset);\r\n\t\t\tuserMarkers.clearMarkers()\r\n\t\t\tif (null != userMarkers.markers) {\r\n\t\t\t\tfor (; 0 < userMarkers.markers;) {\r\n\t\t\t\t\tuserMarkers.removeMarker(userMarkers.markers[0])\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < uuidFeatureList.length; i++) {\r\n\t\t\t\tuserMarkers.addMarker(new OpenLayers.Marker(new OpenLayers.LonLat(uuidFeatureList[i].x, uuidFeatureList[i].y), icon));\r\n\t\t\t\tuserMarkers.addMarker(new OpenLayers.Marker(new OpenLayers.LonLat(uuidFeatureList[i].x, uuidFeatureList[i].y), icon.clone()));\r\n\t\t\t}\r\n\t\t\tmap.addLayer(userMarkers);\r\n\t\t},\r\n\t\tinputSegmentInList(calNum, latP, logP, segIdent) {\r\n\t\t\tthis.segcount++\r\n\t\t\tvar segmentIndex = {\r\n\t\t\t\tsegNum: this.segcount,\r\n\t\t\t\tsegId: segIdent,\r\n\t\t\t\tcallLevelIndex: this.level,\r\n\t\t\t\tcalRadiusIndex: this.radius2,\r\n\t\t\t\tcallTimeIndex: this.calDate,\r\n\t\t\t\tcallatIndex: this.lat,\r\n\t\t\t\tcallogIndex: this.log,\r\n\t\t\t\tcalcount: this.calcount,\r\n\t\t\t\tmainType: this.type,\r\n\t\t\t\tcalIndex: calNum,\r\n\t\t\t\tsegLat: latP,\r\n\t\t\t\tsegLog: logP,\r\n\t\t\t\tsegmentfromcalamity: 0,\r\n\t\t\t\tsegmentUserList: []\r\n\t\t\t}\r\n\t\t\t//외부노출용 세그먼트번호\r\n\r\n\t\t\tvar dis_x = this.lat - segmentIndex.segLat;\r\n\t\t\tvar dix_y = this.log - segmentIndex.segLog;\r\n\t\t\tsegmentIndex.segmentfromcalamity = Math.sqrt(Math.abs(dis_x * dis_x) + Math.abs(dix_y * dix_y))\r\n\t\t\tsegmentList.push(segmentIndex)\r\n\t\t},\r\n\r\n\t\tdeleteF() {\r\n\t\t\tvectorLayer.removeAllFeatures();\r\n\t\t\tsegmentLayer.removeAllFeatures();\r\n\t\t\tcalamityList = new Array() //재난 배열 \r\n\t\t\tsegmentList = new Array() //세그먼트 배열\r\n\t\t\tsegmentFeatures = new Array() //세그먼트의 feature(polygon)\r\n\r\n\t\t\tsegmentLayer = \"\";\r\n\t\t\tvectorLayer = \"\";\r\n\r\n\t\t},\r\n\t\tupdateTime() {\r\n\t\t\tvar cd = new Date();\r\n\t\t\tthis.time = this.zeroPadding(cd.getHours(), 2) + ':' + this.zeroPadding(cd.getMinutes(), 2) + ':' + this.zeroPadding(cd.getSeconds(), 2);\r\n\t\t\tthis.date = this.zeroPadding(cd.getFullYear(), 4) + '-' + this.zeroPadding(cd.getMonth()+1, 2) + '-' + this.zeroPadding(cd.getDate(), 2) + ' ' + this.week[cd.getDay()];\r\n\t\t},\r\n\t\tzeroPadding(num, digit) {\r\n\t\t\tvar zero = '';\r\n\t\t\tfor(var i = 0; i < digit; i++) {\r\n\t\t\t\tzero += '0';\r\n\t\t\t}\r\n\t\t\treturn (zero + num).slice(-digit);\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n<!--\r\n당산역 좌표 37 32 3.19 N 126 54 5.68 E\r\n-->\r\n\r\n<style>\r\n#map1 {\r\n width:1550px;\r\n height:615px;\r\n position:relative;\r\n border: 0px solid #bcbcbc;\r\n\r\n}\r\n\r\n#textcontainer {\r\n  display: flex;\r\n}\r\n#textal {\r\n  float: left;\r\n}\r\n#clear-element {\r\n  clear: both; /* or left */\r\n}\r\n</style>"]}]}